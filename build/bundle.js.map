{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/@vime-js/complete/src/core/PluginRole.js","../../node_modules/@vime-js/complete/src/core/PlayerEvent.js","../../node_modules/svelte/store/index.mjs","../../node_modules/@vime-js/utils/src/style.js","../../node_modules/@vime-js/utils/src/unit.js","../../node_modules/@vime-js/utils/src/json.js","../../node_modules/@vime-js/utils/src/support.js","../../node_modules/@vime-js/utils/src/url.js","../../node_modules/@vime-js/utils/src/load.js","../../node_modules/@vime-js/utils/src/object.js","../../node_modules/@vime-js/utils/src/promise.js","../../node_modules/@vime-js/utils/src/svelte.js","../../node_modules/@vime-js/utils/src/store.js","../../node_modules/@vime-js/utils/src/formatters/index.js","../../node_modules/@vime-js/utils/src/actions/focus.js","../../node_modules/@vime-js/utils/src/actions/highlight.js","../../node_modules/@vime-js/utils/src/actions/aspectRatio.js","../../node_modules/@vime-js/utils/src/actions/inputTouch.js","../../node_modules/@vime-js/utils/src/actions/if.js","../../node_modules/@vime-js/utils/src/actions/show.js","../../node_modules/@vime-js/complete/src/core/Registry.js","../../node_modules/@vime-js/complete/src/core/Disposal.js","../../node_modules/@vime-js/complete/src/lang/en.js","../../node_modules/@vime-js/complete/src/core/completeStore.js","../../node_modules/@vime-js/lite/src/Embed.svelte","../../node_modules/@vime-js/lite/src/Lazy.svelte","../../node_modules/@vime-js/lite/src/PlayerWrapper.svelte","../../node_modules/@vime-js/lite/src/LitePlayer.svelte","../../node_modules/@vime-js/core/youtube.js","../../node_modules/@vime-js/lite/src/providers/youtube.js","../../node_modules/@vime-js/utils/src/decode.js","../../node_modules/@vime-js/complete/src/core/PluginsManager.svelte","../../node_modules/@vime-js/standard/src/MediaType.js","../../node_modules/@vime-js/standard/src/PlayerState.js","../../node_modules/@vime-js/standard/src/VideoQuality.js","../../node_modules/@vime-js/standard/src/sharedStore.js","../../node_modules/@vime-js/standard/src/standardStore.js","../../node_modules/@vime-js/standard/src/FullscreenApi.js","../../node_modules/@vime-js/standard/src/StandardPlayer.svelte","../../node_modules/@vime-js/core/file.js","../../node_modules/@vime-js/standard/src/providers/file/Source.svelte","../../node_modules/@vime-js/standard/src/providers/file/Tracks.svelte","../../node_modules/@vime-js/standard/src/providers/file/File.svelte","../../node_modules/@vime-js/standard/src/providers/YouTube.svelte","../../node_modules/@vime-js/complete/src/core/CompletePlayer.svelte","../../node_modules/@vime-js/complete/src/plugins/Icons.svelte","../../node_modules/@vime-js/complete/src/plugins/Poster.svelte","../../node_modules/@vime-js/complete/src/plugins/Scrim.svelte","../../node_modules/@vime-js/complete/src/plugins/Spinner.svelte","../../node_modules/@vime-js/complete/src/plugins/Captions.svelte","../../node_modules/@vime-js/complete/src/utils/icon.js","../../node_modules/@vime-js/complete/src/core/Icon.svelte","../../node_modules/@vime-js/complete/src/plugins/ActionDisplay.svelte","../../node_modules/@vime-js/complete/src/plugins/ClickToPlay.svelte","../../node_modules/@vime-js/complete/src/plugins/tooltips/Tooltip.svelte","../../node_modules/@vime-js/complete/src/plugins/tooltips/Tooltips.svelte","../../node_modules/@vime-js/complete/src/plugins/keyboard/Keyboard.svelte","../../node_modules/@vime-js/complete/src/plugins/settings/menu/Menu.svelte","../../node_modules/@vime-js/complete/src/plugins/settings/menu/MenuControl.svelte","../../node_modules/@vime-js/complete/src/plugins/settings/menu/MenuItem.svelte","../../node_modules/@vime-js/complete/src/plugins/settings/menu/submenu/Submenu.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/Control.svelte","../../node_modules/@vime-js/complete/src/plugins/settings/Settings.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/ControlGroup.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/Controls.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/ToggleControl.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/PlaybackControl.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/BigPlaybackControl.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/CaptionControl.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/PiPControl.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/FullscreenControl.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/MuteControl.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/VolumeControl.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/ScrubberControl.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/LiveIndicator.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/SettingsControl.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/ControlSpacer.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/ControlNewLine.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/time/Time.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/time/CurrentTime.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/time/EndTime.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/control/time/TimeProgress.svelte","../../node_modules/@vime-js/complete/src/plugins/controls/DefaultControls.svelte","../../node_modules/@vime-js/complete/src/plugins/keyboard/DefaultKeyboard.svelte","../../node_modules/@vime-js/complete/src/plugins/settings/menu/MenuItemRadio.svelte","../../node_modules/@vime-js/complete/src/plugins/settings/menu/MenuOptions.svelte","../../node_modules/@vime-js/complete/src/plugins/settings/menu/submenu/SelectSubmenu.svelte","../../node_modules/@vime-js/complete/src/plugins/settings/DefaultSettings.svelte","../../node_modules/@vime-js/complete/src/plugins/DblClickFullscreen.svelte","../../node_modules/@vime-js/complete/src/plugins/Boot.svelte","../../src/fragment.js","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j];\n                if (attributes[attribute.name]) {\n                    j++;\n                }\n                else {\n                    node.removeAttribute(attribute.name);\n                }\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.23.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","// Treeshaking safe.\nconst PluginRole = function PluginRole() {};\nPluginRole.POSTER = 1;\nPluginRole.CONTROLS = 2;\nPluginRole.CAPTIONS = 3;\nPluginRole.SETTINGS = 4;\nexport default PluginRole;\n","// Treeshaking safe.\nconst PlayerEvent = function PlayerEvent() {};\nPlayerEvent.MOUNT = 'mount';\nPlayerEvent.DESTROY = 'destroy';\nPlayerEvent.PLUGIN_MOUNT = 'pluginmount';\nPlayerEvent.PLUGIN_DESTROY = 'plugindestroy';\nexport default PlayerEvent;\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","import { raf } from 'svelte/internal';\n\n// eslint-disable-next-line no-param-reassign\nexport const set_style = (el, prop, value = null) => { if (el) el.style[prop] = value; };\n\nexport const set_style_raf = (el, prop, value) => { raf(() => { set_style(el, prop, value); }); };\n\nexport const get_computed_style = (el) => (el ? window.getComputedStyle(el) : null);\n\nexport const get_computed_width = (el) => (el ? parseFloat(get_computed_style(el).width) : 0);\n\nexport const get_computed_height = (el) => (el ? parseFloat(get_computed_style(el).height) : 0);\n\nexport const get_y_padding = (el) => {\n  const styles = get_computed_style(el);\n  return parseFloat(styles.paddingTop) + parseFloat(styles.paddingBottom);\n};\n\nexport const get_computed_height_without_padding = (\n  el,\n) => (el ? (el.clientHeight - get_y_padding(el)) : 0);\n\nexport const set_style_background_img = (el, src, size) => {\n  set_style(el, 'backgroundImage', src ? `url('${src}')` : null);\n  set_style(el, 'backgroundSize', src ? (size || 'contain') : null);\n  set_style(el, 'backgroundPosition', src ? '50% 50%' : null);\n  set_style(el, 'backgroundRepeat', src ? 'no-repeat' : null);\n};\n","export const is_null = (input) => input === null;\nexport const is_undefined = (input) => typeof input === 'undefined';\nexport const is_null_or_undefined = (input) => is_null(input) || is_undefined(input);\n\nexport const get_constructor = (input) => (\n  !is_null_or_undefined(input) ? input.constructor : null\n);\n\nexport const is_object = (input) => get_constructor(input) === Object;\nexport const is_number = (input) => get_constructor(input) === Number && !Number.isNaN(input);\nexport const is_string = (input) => get_constructor(input) === String;\nexport const is_boolean = (input) => get_constructor(input) === Boolean;\nexport const is_function = (input) => get_constructor(input) === Function;\nexport const is_array = (input) => Array.isArray(input);\n\nexport const is_async_function = (input) => {\n  const constructor = get_constructor(input);\n  return constructor ? (constructor.name === 'AsyncFunction') : false;\n};\n\nexport const is_empty = (input) => is_null_or_undefined(input)\n    || ((is_string(input) || is_array(input)) && !input.length)\n    || (is_object(input) && !Object.keys(input).length);\n\nexport const is_instance_of = (input, constructor) => Boolean(\n  input && constructor && input instanceof constructor,\n);\n\nexport const is_prototype_of = (input, object) => Boolean(\n  input && object && Object.isPrototypeOf.call(object.prototype, input),\n);\n","import { is_object } from './unit';\n\nexport function try_parse_json(json, onFail) {\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    if (onFail) onFail(e);\n    return null;\n  }\n}\n\nexport const is_json_or_obj = (input) => {\n  if (!input) return false;\n  return is_object(input) || input.startsWith('{');\n};\n\nexport const obj_or_try_parse_json = (input) => {\n  if (is_object(input)) return input;\n  return try_parse_json(input);\n};\n","/* eslint-disable max-len */\n/* eslint-disable import/no-mutable-exports */\n\nimport { noop, listen, element } from 'svelte/internal';\nimport { is_function } from './unit';\n\nexport const IS_CLIENT = typeof window !== 'undefined';\nexport const UA = (IS_CLIENT && window.navigator.userAgent.toLowerCase());\nexport const IS_IE = (UA && /msie|trident/.test(UA));\nexport const IS_IOS = (UA && /iphone|ipad|ipod|ios/.test(UA));\nexport const IS_ANDROID = (UA && /android/.test(UA));\nexport const IS_EDGE = (UA && UA.indexOf('edge/') > 0);\nexport const IS_CHROME = (UA && /chrome\\/\\d+/.test(UA) && !IS_EDGE);\nexport const IS_IPHONE = (IS_CLIENT && /(iPhone|iPod)/gi.test(navigator.platform));\nexport const IS_MOBILE = (IS_IOS || IS_ANDROID);\n\nexport const ORIGIN = (window.location.protocol !== 'file:')\n  ? `${window.location.protocol}//${window.location.hostname}`\n  : null;\n\nexport const listen_for_touch_input = (cb) => {\n  if (!IS_CLIENT) return noop;\n\n  let lastTouchTime = 0;\n\n  const touchListener = listen(document, 'touchstart', () => {\n    lastTouchTime = new Date();\n    cb(true);\n  }, true);\n\n  const mouseListener = listen(document, 'mousemove', () => {\n    // Filter emulated events coming from touch events\n    if (new Date() - lastTouchTime < 500) return;\n    cb(false);\n  }, true);\n\n  return () => {\n    touchListener();\n    mouseListener();\n  };\n};\n\n// @see https://developer.apple.com/documentation/webkitjs/htmlvideoelement/1633500-webkitenterfullscreen\nexport const can_fullscreen_video = () => {\n  if (!IS_CLIENT) return false;\n  const video = element('video');\n  return is_function(video.webkitEnterFullscreen);\n};\n\n// Reduced motion iOS & MacOS setting\n// @see https://webkit.org/blog/7551/responsive-design-for-motion/\nexport const is_reduced_motion_preferred = () => IS_CLIENT\n  && 'matchMedia' in window\n  && window.matchMedia('(prefers-reduced-motion)').matches;\n\nexport const can_play_hls_natively = () => {\n  if (!IS_CLIENT) return false;\n  const video = element('video');\n  return video.canPlayType('application/vnd.apple.mpegurl');\n};\n\n// Chrome\n// @see https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture\nexport const can_use_pip_in_chrome = () => {\n  if (!IS_CLIENT) return false;\n  const video = element('video');\n  return !!document.pictureInPictureEnabled && !video.disablePictureInPicture;\n};\n\n// Safari\n// iPhone safari appears to \"support\" PiP through the check, however PiP does not function.\n// @see https://developer.apple.com/documentation/webkitjs/adding_picture_in_picture_to_your_safari_media_controls\nexport const can_use_pip_in_safari = () => {\n  if (!IS_CLIENT) return false;\n  const video = element('video');\n  return is_function(video.webkitSupportsPresentationMode)\n    && is_function(video.webkitSetPresentationMode)\n    && !IS_IPHONE;\n};\n\nexport const can_use_pip = () => can_use_pip_in_chrome() || can_use_pip_in_safari();\n\n/**\n * To detect autoplay, we create a video element and call play on it, if it is `paused` after\n * a `play()` call, autoplay is supported. Although this unintuitive, it works across browsers\n * and is currently the lightest way to detect autoplay without using a data source.\n *\n * @see https://github.com/ampproject/amphtml/blob/9bc8756536956780e249d895f3e1001acdee0bc0/src/utils/video.js#L25\n */\nexport const can_autoplay = (muted = true, playsinline = true) => {\n  if (!IS_CLIENT) return false;\n\n  const video = element('video');\n\n  if (muted) {\n    video.setAttribute('muted', '');\n    video.muted = true;\n  }\n\n  if (playsinline) {\n    video.setAttribute('playsinline', '');\n    video.setAttribute('webkit-playsinline', '');\n    video.playsinline = true;\n    video.webkitPlaysinline = true;\n  }\n\n  video.setAttribute('height', '0');\n  video.setAttribute('width', '0');\n\n  video.style.position = 'fixed';\n  video.style.top = 0;\n  video.style.width = 0;\n  video.style.height = 0;\n  video.style.opacity = 0;\n\n  // Promise wrapped this way to catch both sync throws and async rejections.\n  // More info: https://github.com/tc39/proposal-promise-try\n  new Promise((resolve) => resolve(video.play())).catch(noop);\n\n  return Promise.resolve(!video.paused);\n};\n","import { element } from 'svelte/internal';\nimport { IS_CLIENT } from './support';\nimport { is_null_or_undefined, is_array } from './unit';\n\nexport const try_decode_uri_component = (component, fallback = '') => {\n  if (!IS_CLIENT) return fallback;\n  try {\n    return window.decodeURIComponent(component);\n  } catch (e) {\n    return fallback;\n  }\n};\n\n// eslint-disable-next-line max-len\n// @see https://github.com/ampproject/amphtml/blob/c7c46cec71bac92f5c5da31dcc6366c18577f566/src/url-parse-query-string.js#L31\nconst QUERY_STRING_REGEX = /(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;\nexport const parse_query_string = (qs) => {\n  const params = Object.create(null);\n  if (!qs) return params;\n  let match;\n  // eslint-disable-next-line no-cond-assign\n  while ((match = QUERY_STRING_REGEX.exec(qs))) {\n    const name = try_decode_uri_component(match[1], match[1]).replace('[]', '');\n    const value = match[2]\n      ? try_decode_uri_component(match[2].replace(/\\+/g, ' '), match[2])\n      : '';\n    const currValue = params[name];\n    if (currValue && !is_array(currValue)) params[name] = [currValue];\n    currValue ? params[name].push(value) : (params[name] = value);\n  }\n  return params;\n};\n\nexport const serialize_query_string = (params) => {\n  const qs = [];\n  const appendQueryParam = (param, v) => {\n    qs.push(`${encodeURIComponent(param)}=${encodeURIComponent(v)}`);\n  };\n  Object.keys(params).forEach((param) => {\n    const value = params[param];\n    if (is_null_or_undefined(value)) return;\n    if (is_array(value)) {\n      value.forEach((v) => appendQueryParam(param, v));\n    } else {\n      appendQueryParam(param, value);\n    }\n  });\n  return qs.join('&');\n};\n\nexport const apppend_querystring_to_url = (url, qs) => {\n  if (!qs) return url;\n  const mainAndQuery = url.split('?', 2);\n  return mainAndQuery[0] + (mainAndQuery[1] ? `?${mainAndQuery[1]}&${qs}` : `?${qs}`);\n};\n\nexport const add_params_to_url = (\n  url,\n  params,\n) => apppend_querystring_to_url(url, serialize_query_string(params));\n\nexport const prefetch = (rel, url, as) => {\n  if (!IS_CLIENT) return false;\n  const link = element('link');\n  link.rel = rel;\n  link.href = url;\n  if (as) link.as = as;\n  link.crossorigin = true;\n  document.head.append(link);\n  return true;\n};\n\n// Does not handle relative URL's.\nexport const parse_url = (url) => {\n  if (!IS_CLIENT) return {};\n  const parser = element('a');\n  parser.href = url;\n  // Handle chrome which will default to domain where script is called from if invalid.\n  return url.indexOf(parser.hostname) !== -1 ? parser : '';\n};\n\nconst START_TIMESTAMP = /(\\d+)(h|m|s)/g;\nconst parse_time_string = (stamp) => {\n  let seconds = 0;\n  let array = START_TIMESTAMP.exec(stamp);\n  while (array !== null) {\n    const [, count, period] = array;\n    if (period === 'h') seconds += parseInt(count, 10) * 60 * 60;\n    if (period === 'm') seconds += parseInt(count, 10) * 60;\n    if (period === 's') seconds += parseInt(count, 10);\n    array = START_TIMESTAMP.exec(stamp);\n  }\n  return seconds;\n};\n\nconst NUMERIC = /^\\d+$/;\n// Parse URL for a start time param, ie ?t=1h14m30s and return the start time in seconds\nconst parse_time_param = (url, pattern) => {\n  const match = url.match(pattern);\n  if (match) {\n    const stamp = match[1];\n    if (stamp.match(START_TIMESTAMP)) return parse_time_string(stamp);\n    if (NUMERIC.test(stamp)) return parseInt(stamp, 10);\n  }\n  return null;\n};\n\nconst START_TIME_QUERY = /[?&#](?:start|t)=([0-9hms]+)/;\nexport const parse_start_time = (url) => parse_time_param(url, START_TIME_QUERY);\n\nconst END_TIME_QUERY = /[?&#]end=([0-9hms]+)/;\nexport const parse_end_time = (url) => parse_time_param(url, END_TIME_QUERY);\n","import { element } from 'svelte/internal';\n\nexport const load_script = (src, onLoad, onError) => {\n  const script = document.createElement('script');\n  script.src = src;\n  script.onload = onLoad;\n  script.onerror = onError;\n\n  const firstScriptTag = document.getElementsByTagName('script')[0];\n  firstScriptTag.parentNode.insertBefore(script, firstScriptTag);\n};\n\n/**\n * Load image avoiding xhr/fetch CORS issues. Server status can't be obtained this way\n * unfortunately, so this uses \"naturalWidth\" to determine if the image has been loaded. By\n * default it checks if it is at least 1px.\n */\nexport const load_image = (src, minWidth = 1) => new Promise((resolve, reject) => {\n  const image = new Image();\n  const handler = () => {\n    delete image.onload;\n    delete image.onerror;\n    image.naturalWidth >= minWidth ? resolve(image) : reject(image);\n  };\n  Object.assign(image, { onload: handler, onerror: handler, src });\n});\n\nexport const load_sprite = (src) => fetch(src)\n  .then((res) => res.text())\n  .then((sprite) => {\n    const div = element('div');\n    div.style.display = 'none';\n    div.innerHTML = sprite;\n    const firstLinkTag = document.getElementsByTagName('link')[0];\n    firstLinkTag.parentNode.insertBefore(div, firstLinkTag);\n    return div;\n  });\n\n// @see https://github.com/CookPete/react-player/blob/master/src/utils.js#L64\nexport const load_library = (url, global) => {\n  if (window[global]) return Promise.resolve(window[global]);\n\n  return new Promise((resolve, reject) => {\n    const onLoad = () => { resolve(window[global]); };\n    const onError = (error) => { reject(error); };\n    load_script(url, onLoad, onError);\n  });\n};\n","import { is_object, is_array } from './unit';\n\nexport const create_prop = (\n  object,\n  key,\n  descriptor,\n) => Object.defineProperty(object, key, descriptor);\n\n/**\n * Performs a deep merge of `source` into `target`.\n * Mutates `target` only but not its objects and arrays.\n *\n * @see https://stackoverflow.com/a/48218209\n */\nexport const merge_obj_deep = (target, source) => {\n  if (!is_object(target) || !is_object(source)) {\n    return source;\n  }\n\n  Object.keys(source).forEach((key) => {\n    const targetValue = target[key];\n    const sourceValue = source[key];\n\n    if (is_array(targetValue) && is_array(sourceValue)) {\n      // eslint-disable-next-line no-param-reassign\n      target[key] = targetValue.concat(sourceValue);\n    } else if (is_object(targetValue) && is_object(sourceValue)) {\n      // eslint-disable-next-line no-param-reassign\n      target[key] = merge_obj_deep({ ...targetValue }, sourceValue);\n    } else {\n      // eslint-disable-next-line no-param-reassign\n      target[key] = sourceValue;\n    }\n  });\n\n  return target;\n};\n","export const deferred = () => {\n  let resolve;\n  let reject;\n  const promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { promise, resolve, reject };\n};\n","import { noop, SvelteComponent } from 'svelte/internal';\nimport { createEventDispatcher, onDestroy } from 'svelte';\nimport { is_instance_of } from './unit';\n\nexport const is_svelte_component = (input) => Boolean(\n  input && is_instance_of(input.prototype, SvelteComponent),\n);\n\nexport const is_svelte_instance = (input) => Boolean(\n  input && is_svelte_component(input.constructor),\n);\n\nexport const try_create_svelte_dispatcher = () => {\n  try {\n    return createEventDispatcher();\n  } catch (e) {\n    return noop;\n  }\n};\n\nexport const try_on_svelte_destroy = (cb) => {\n  try {\n    onDestroy(cb);\n  } catch (e) {\n    /** noop */\n  }\n};\n\nexport const on_svelte_instance_update = (instance, cb) => {\n  if (!is_svelte_instance(instance)) return;\n  // eslint-disable-next-line no-param-reassign\n  if (!instance.$$.after_update) instance.$$.after_update = [];\n  instance.$$.after_update.push(cb);\n};\n\nexport const on_svelte_instance_destroy = (instance, cb) => {\n  if (!is_svelte_instance(instance)) return;\n  // eslint-disable-next-line no-param-reassign\n  if (!instance.$$.on_destroy) instance.$$.on_destroy = [];\n  instance.$$.on_destroy.push(cb);\n};\n","import { get, writable, derived } from 'svelte/store';\nimport { create_prop, merge_obj_deep } from './object';\nimport { is_function } from './unit';\nimport { try_on_svelte_destroy, try_create_svelte_dispatcher } from './svelte';\n\nimport {\n  noop, not_equal, validate_store,\n  get_current_component, flush,\n} from 'svelte/internal';\n\nexport const safe_unsubscribe = (unsubscribe) => {\n  let once = false;\n  return () => {\n    if (once) return;\n    unsubscribe();\n    once = true;\n  };\n};\n\nexport const is_store = (store) => store && is_function(store.subscribe);\n\nexport const safe_get = (v) => (is_store(v) ? get(v) : v);\n\nexport const subscribe = (store, cb) => {\n  validate_store(store);\n  const unsubscribe = safe_unsubscribe(store.subscribe(cb));\n  try_on_svelte_destroy(unsubscribe);\n  return unsubscribe;\n};\n\nexport const subscribe_and_dispatch = (store, event) => {\n  const dispatch = try_create_svelte_dispatcher();\n  return subscribe(store, ($v) => { dispatch(event, $v); });\n};\n\nexport const subscribe_and_dispatch_if_true = (store, event) => {\n  const dispatch = try_create_svelte_dispatcher();\n  return subscribe(store, ($v) => { if ($v) dispatch(event, $v); });\n};\n\nexport const subscribe_until_true = (store, cb) => {\n  validate_store(store);\n  if (get(store)) {\n    cb();\n    return noop;\n  }\n  const unsubscribe = subscribe(store, ($v) => {\n    if (!$v) return;\n    cb();\n    unsubscribe();\n  });\n  return unsubscribe;\n};\n\n// Private is \"private\" to the component who instantiates it, when it is exposed publically\n// the set method should be removed. The utility `make_private_stores_readonly` does exactly\n// this. This is also what `map_store_to_component` below uses.\nconst make_store_private = (store) => ({\n  ...store,\n  private: true,\n});\n\nconst add_condition_to_store = (store, condition) => ({\n  ...store,\n  set: (value) => { if (safe_get(condition)) store.set(value); },\n  forceSet: store.set,\n});\n\nexport const private_writable = (initialValue) => make_store_private(writable(initialValue));\n\nexport const mergeable = (initialValue) => {\n  const store = writable(initialValue);\n  return {\n    ...store,\n    set: (v) => { store.update((p) => merge_obj_deep(p, v)); },\n  };\n};\n\nexport const writable_with_fallback = (initialValue, fallback) => {\n  const store = writable(initialValue);\n  return {\n    ...store,\n    subscribe: derived([store, fallback], ([$s, $f]) => $s || $f).subscribe,\n  };\n};\n\nexport const private_writable_with_fallback = (\n  initialValue,\n  fallback,\n) => make_store_private(writable_with_fallback(initialValue, fallback));\n\nexport const writable_if = (\n  initialValue,\n  condition,\n) => add_condition_to_store(writable(initialValue), condition);\n\nexport const private_writable_if = (\n  initialValue,\n  condition,\n) => make_store_private(writable_if(initialValue, condition));\n\nexport const indexable = (bounds) => {\n  const store = writable(-1);\n  return {\n    ...store,\n    subscribe: derived([store, bounds], ([$value, $bounds]) => {\n      if (!$bounds || $bounds.length === 0) return -1;\n      if ($value >= 0 && $value < $bounds.length) return $value;\n      return -1;\n    }).subscribe,\n  };\n};\n\nexport const indexable_if = (\n  bounds,\n  condition,\n) => add_condition_to_store(indexable(bounds), condition);\n\nexport const rangeable = (initialValue, lowerBound, upperBound) => {\n  const store = writable(initialValue);\n  return {\n    ...store,\n    set: (value) => {\n      store.set(Math.max(safe_get(lowerBound), Math.min(value, safe_get(upperBound))));\n    },\n  };\n};\n\nexport const rangeable_if = (\n  initialValue,\n  lowerBound,\n  upperBound,\n  condition,\n) => add_condition_to_store(rangeable(initialValue, lowerBound, upperBound), condition);\n\nexport const selectable = (initialValue, values) => {\n  let newValue;\n  const store = writable(initialValue);\n  return {\n    ...store,\n    subscribe: derived([store, values], ([$value, $values]) => {\n      if (!$values) { newValue = null; }\n      if ($values.includes($value)) { newValue = $value; }\n      return newValue;\n    }).subscribe,\n  };\n};\n\nexport const selectable_if = (\n  initialValue,\n  values,\n  condition,\n) => add_condition_to_store(selectable(initialValue, values), condition);\n\nexport const make_store_readonly = (store) => ({ subscribe: store.subscribe });\n\nexport const make_private_stores_readonly = (stores) => {\n  const result = {};\n  Object.keys(stores).forEach((name) => {\n    const store = stores[name];\n    result[name] = store.private ? make_store_readonly(store) : store;\n  });\n  return result;\n};\n\nexport const map_store_to_component = (comp, stores) => {\n  let canWrite = {};\n  const component = comp || get_current_component();\n\n  create_prop(component, 'getStore', {\n    get: () => () => make_private_stores_readonly(stores),\n    configurable: true,\n  });\n\n  component.$$.on_destroy.push(() => {\n    Object.keys(stores).forEach((prop) => { delete component[prop]; });\n    delete component.getStore;\n    canWrite = {};\n  });\n\n  const onUpdateProp = (prop, newValue, shouldFlush = false) => {\n    if (!canWrite[prop] || !not_equal(get(stores[prop]), newValue)) return;\n    stores[prop].set(newValue);\n    if (shouldFlush) flush();\n  };\n\n  Object.keys(stores).forEach((prop) => {\n    const store = stores[prop];\n    canWrite[prop] = !!store.set && !store.private;\n    create_prop(component, prop, {\n      get: () => get(store),\n      set: canWrite[prop] ? ((v) => { onUpdateProp(prop, v, true); }) : undefined,\n      configurable: true,\n    });\n  });\n\n  // onPropsChange\n  return (props) => Object.keys(props).forEach((prop) => { onUpdateProp(prop, props[prop]); });\n};\n","const get_hours = (value) => Math.trunc((value / 60 / 60) % 60);\nconst get_minutes = (value) => Math.trunc((value / 60) % 60);\nconst get_seconds = (value) => Math.trunc(value % 60);\n\nexport const format_time = (seconds = 0, alwaysShowHours = false) => {\n  // Format time component to add leading zero\n  const format = (value) => `0${value}`.slice(-2);\n\n  let hours = get_hours(seconds);\n  const mins = get_minutes(seconds);\n  const secs = get_seconds(seconds);\n\n  if (alwaysShowHours || hours > 0) {\n    hours = `${hours}:`;\n  } else {\n    hours = '';\n  }\n\n  return `${hours}${format(mins)}:${format(secs)}`;\n};\n","import { listen, run_all } from 'svelte/internal';\n\nexport default function vFocus(node) {\n  const dispose = [];\n\n  const onFocus = (e) => {\n    const isFocused = (e.type === 'mouseenter' || e.type === 'focus');\n    if (!isFocused) node.blur();\n    node.dispatchEvent(new CustomEvent('focuschange', { detail: isFocused }));\n  };\n\n  const listenTo = (event) => { dispose.push(listen(node, event, onFocus)); };\n\n  listenTo('focus');\n  listenTo('blur');\n  listenTo('mouseenter');\n  listenTo('mouseleave');\n\n  return {\n    destroy() { run_all(dispose); },\n  };\n}\n","import { listen } from 'svelte/internal';\n\nexport default function vHighlight(node, duration = 100) {\n  const off = listen(node, 'touchstart', () => {\n    node.dispatchEvent(new CustomEvent('highlightchange', { detail: true }));\n\n    setTimeout(() => {\n      node.dispatchEvent(new CustomEvent('highlightchange', { detail: false }));\n    }, duration);\n  });\n\n  return {\n    destroy() { off(); },\n  };\n}\n","import { set_style } from '../style';\n\nexport default function vAspectRatio(node, initialAspectRatio) {\n  const update = (newAspectRatio) => {\n    if (!newAspectRatio) {\n      set_style(node, 'paddingBottom');\n      return;\n    }\n    const [width, height] = newAspectRatio.split(':');\n    set_style(node, 'paddingBottom', `${(100 / width) * height}%`);\n  };\n\n  update(initialAspectRatio);\n\n  return {\n    update,\n    destroy() {\n      update(null);\n    },\n  };\n}\n","import { run_all, listen } from 'svelte/internal';\nimport { listen_for_touch_input } from '../support';\nimport { set_style } from '../style';\n\n// @see https://github.com/sampotts/rangetouch\nexport default function vInputTouch(node) {\n  const calcValue = (e) => {\n    const input = e.target;\n    const touch = e.changedTouches[0];\n    const min = parseFloat(input.getAttribute('min')) || 0;\n    const max = parseFloat(input.getAttribute('max')) || 100;\n    const step = parseFloat(input.getAttribute('step')) || 1;\n    const delta = max - min;\n\n    // Calculate percentage.\n    let percent;\n    const clientRect = input.getBoundingClientRect();\n\n    // NOTE: hardcoded thumbwidth.\n    const thumbWidth = ((100 / clientRect.width) * (13 / 2)) / 100;\n\n    // Determine left percentage.\n    percent = (100 / clientRect.width) * (touch.clientX - clientRect.left);\n\n    // Don't allow outside bounds.\n    percent = Math.max(0, Math.min(percent, 100));\n\n    // Factor in the thumb offset.\n    if (percent < 50) {\n      percent -= (100 - percent * 2) * thumbWidth;\n    } else if (percent > 50) {\n      percent += (percent - 50) * 2 * thumbWidth;\n    }\n\n    const position = delta * (percent / 100);\n\n    if (step >= 1) {\n      return min + Math.round(position / step) * step;\n    }\n    // NOTE: this part differs from original implementation to save space.\n    // Only supports 2 decimal places (0.01) as the step.\n    return min + parseFloat(position.toFixed(2));\n  };\n\n  const onTouch = (e) => {\n    if (e.target.disabled) return;\n    e.preventDefault();\n    e.target.value = calcValue(e);\n    // Trigger event.\n    const event = new Event(e.type === 'touchend' ? 'change' : 'input', { bubbles: true });\n    e.target.dispatchEvent(event);\n  };\n\n  let dispose = [];\n  let mounted = false;\n  let destroyed = true;\n\n  const onMount = () => {\n    set_style(node, 'userSelect', 'none');\n    set_style(node, 'webKitUserSelect', 'none');\n    set_style(node, 'touchAction', 'manipulation');\n    const touchEvents = ['touchstart', 'touchmove', 'touchend'];\n    touchEvents.forEach((event) => dispose.push(listen(node, event, onTouch)));\n  };\n\n  const onDestroy = () => {\n    run_all(dispose);\n    dispose = [];\n    set_style(node, 'userSelect');\n    set_style(node, 'webKitUserSelect');\n    set_style(node, 'touchAction');\n  };\n\n  const onTouchDetect = (isTouch) => {\n    if (isTouch && !mounted) {\n      onMount();\n      mounted = true;\n      destroyed = false;\n    } else if (!isTouch && !destroyed) {\n      onDestroy();\n      mounted = false;\n      destroyed = true;\n    }\n  };\n\n  const touchListener = listen_for_touch_input(onTouchDetect);\n\n  return {\n    destroy() {\n      if (!destroyed) onDestroy();\n      if (touchListener) touchListener();\n    },\n  };\n}\n","export default function vIf(node, initialVisibility) {\n  const update = (shouldDisplay) => {\n    // eslint-disable-next-line no-param-reassign\n    node.style.display = shouldDisplay ? null : 'none';\n  };\n\n  update(initialVisibility);\n\n  return {\n    update,\n    destroy: () => { update(true); },\n  };\n}\n","/* eslint-disable no-param-reassign */\n\nexport default function vShow(node, initialVisibility) {\n  const update = (isShowing) => {\n    node.style.opacity = isShowing ? '1' : '0';\n    node.style.visibility = isShowing ? 'visible' : 'hidden';\n  };\n\n  update(initialVisibility);\n\n  const prevTransition = window.getComputedStyle(node).transition;\n  node.style.transition = `${prevTransition ? `${prevTransition}, ` : ''}opacity 0.4s ease-in-out`;\n\n  return {\n    update,\n    destroy: () => {\n      update(initialVisibility);\n      node.style.transition = prevTransition;\n    },\n  };\n}\n","/* eslint-disable no-underscore-dangle */\n\nimport { writable, derived, get } from 'svelte/store';\n\nimport {\n  is_instance_of, try_create_svelte_dispatcher, try_on_svelte_destroy,\n  on_svelte_instance_destroy, is_null,\n} from '@vime-js/utils';\n\n// TODO: needs work.\nexport default class Registry {\n  constructor(id, validator) {\n    this._id = id;\n    this._name = `${id}Registry`;\n    this._validator = validator || (() => true);\n    this._registry = new Set();\n    this._values = writable({});\n    this._parent = null;\n    this._dispatch = try_create_svelte_dispatcher();\n    try_on_svelte_destroy(() => this.destroy());\n  }\n\n  _error(msg) {\n    throw Error(`${this._name} :: ${msg}`);\n  }\n\n  _invalidateParent() {\n    if (this._parent && !this._parent._destroyed) {\n      this._parent._values.update((v) => v);\n      this._parent._invalidateParent();\n    }\n  }\n\n  _unwrapValues(values) {\n    const result = {};\n    Object.keys(values).forEach((id) => {\n      const value = values[id];\n      result[id] = is_instance_of(value, Registry) ? this._unwrapValues(value.getValues()) : value;\n    });\n    return result;\n  }\n\n  getId() {\n    return this._id;\n  }\n\n  getName() {\n    return this._name;\n  }\n\n  getRegistrations() {\n    return Array.from(this._registry.values());\n  }\n\n  getValue(id) {\n    return get(this._values)[id];\n  }\n\n  getValues() {\n    return get(this._values);\n  }\n\n  has(id) {\n    return this._registry.has(id);\n  }\n\n  invalidate() {\n    this._values.update((v) => v);\n    this._invalidateParent();\n  }\n\n  register(id, value) {\n    if (!id) this._error('registration failed because `id` is missing');\n    if (this.has(id)) this._error(`attempted to register with \\`id\\` [${id}] but it is taken`);\n    if (!this._validator(id, value)) return;\n    this._registry.add(id);\n    this._values.update(($values) => ({ ...$values, [id]: value }));\n    on_svelte_instance_destroy(value, () => this.deregister(id));\n    // eslint-disable-next-line no-param-reassign\n    if (is_instance_of(value, Registry)) value._parent = this;\n    this._dispatch('register', { id, value });\n    this._invalidateParent();\n  }\n\n  deregister(id) {\n    if (!this.has(id)) return;\n    this._registry.delete(id);\n    this._values.update(($values) => {\n      // eslint-disable-next-line no-param-reassign\n      delete $values[id];\n      return $values;\n    });\n    this._dispatch('deregister', id);\n    this._invalidateParent();\n  }\n\n  subscribe(...args) {\n    return derived(this._values, ($values) => this._unwrapValues($values)).subscribe(...args);\n  }\n\n  destroy() {\n    if (is_null(this._registry)) return;\n    this.getRegistrations().forEach((id) => this.deregister(id));\n    if (this._parent && !this._parent._destroyed) this._parent.deregister(this.getId());\n    this._destroyed = true;\n  }\n}\n","/* eslint-disable no-underscore-dangle */\n\nimport { run_all } from 'svelte/internal';\nimport { try_on_svelte_destroy } from '@vime-js/utils';\n\nexport default class Disposal {\n  constructor() {\n    this._dispose = [];\n    try_on_svelte_destroy(() => this.dispose());\n  }\n\n  add(callback) {\n    this._dispose.push(callback);\n  }\n\n  dispose() {\n    run_all(this._dispose);\n    this._dispose = [];\n  }\n}\n","export default {\n  play: 'Play',\n  pause: 'Pause',\n  playback: 'Playback',\n  scrubber: 'Scrubber',\n  scrubberLabel: '{currentTime} of {duration}',\n  played: 'Played',\n  duration: 'Duration',\n  buffered: 'Buffered',\n  close: 'Close',\n  currentTime: 'Current time',\n  live: 'LIVE',\n  volume: 'Volume',\n  mute: 'Mute',\n  unmute: 'Unmute',\n  captions: 'Captions',\n  subtitlesOrCc: 'Subtitles/CC',\n  enableCaptions: 'Enable subtitles/captions',\n  disableCaptions: 'Disable subtitles/captions',\n  default: 'Default',\n  fullscreen: 'Fullscreen',\n  enterFullscreen: 'Enter fullscreen',\n  exitFullscreen: 'Exit fullscreen',\n  settings: 'Settings',\n  seekForward: 'Seek forward',\n  seekBackward: 'Seek backward',\n  seekTotal: 'Seek total',\n  speed: 'Speed',\n  normal: 'Normal',\n  none: 'None',\n  videoQuality: 'Video Quality',\n  loop: 'Loop',\n  disabled: 'Disabled',\n  off: 'Off',\n  enabled: 'Enabled',\n  pip: 'Picture-in-Picture',\n  enterPiP: 'Miniplayer',\n  exitPiP: 'Expand',\n};\n","import { writable, readable, derived } from 'svelte/store';\nimport en from '../lang/en';\nimport PluginRole from './PluginRole';\n\nimport {\n  IS_MOBILE, listen_for_touch_input, mergeable,\n} from '@vime-js/utils';\n\nexport const buildCompleteStore = (standardStore) => {\n  const store = {};\n  const hasRole = (plugins, role) => plugins.some((p) => p.ROLE === role);\n\n  store.locale = writable('en');\n  store.icons = writable({});\n  store.languages = mergeable({ en });\n  store.theme = writable(null);\n  store.plugins = writable([]);\n  store.debug = writable(process.env.NODE_ENV !== 'production');\n  store.isMobile = writable(IS_MOBILE);\n  store.isTouch = readable(false, (set) => listen_for_touch_input((t) => set(t)));\n  store.isContextMenuEnabled = writable(false);\n\n  store.currentPoster = derived(\n    [standardStore.poster, standardStore.nativePoster],\n    ([$poster, $nativePoster]) => ($poster || $nativePoster),\n  );\n\n  store.i18n = derived(\n    [store.locale, store.languages],\n    ([$locale, $languages]) => $languages[$locale] || $languages.en,\n  );\n\n  store.hasControls = derived(\n    [store.plugins, standardStore.useNativeControls],\n    ([$plugins, $useNativeControls]) => hasRole($plugins, PluginRole.CONTROLS)\n      || $useNativeControls,\n  );\n\n  store.hasCaptions = derived(\n    [store.plugins, standardStore.useNativeCaptions, standardStore.canSetTracks],\n    ([$plugins, $useNativeCaptions, $canSetNativeTracks]) => hasRole($plugins, PluginRole.CAPTIONS)\n      || ($useNativeCaptions && $canSetNativeTracks),\n  );\n\n  store.hasSettings = derived(\n    [store.plugins, standardStore.useNativeControls],\n    ([$plugins, $useNativeControls]) => hasRole($plugins, PluginRole.SETTINGS)\n      || $useNativeControls,\n  );\n\n  // Internal player overrides.\n\n  standardStore.useNativeView.set(false);\n  standardStore.useNativeControls.set(false);\n  standardStore.useNativeCaptions.set(false);\n\n  // eslint-disable-next-line no-underscore-dangle\n  store._isControlsActive = writable(false);\n  store.isControlsActive = derived(\n    [\n      standardStore.isControlsEnabled,\n      // eslint-disable-next-line no-underscore-dangle\n      store._isControlsActive,\n      standardStore.useNativeControls,\n      standardStore.isControlsActive,\n    ],\n    ([\n      $isControlsEnabled,\n      $isControlsActive,\n      $useNativeControls,\n      $isNativeControlsActive,\n    ]) => $isControlsEnabled\n      && ($isControlsActive\n      || ($useNativeControls && $isNativeControlsActive)),\n  );\n\n  store.canSetTrack = derived(\n    [store.plugins, standardStore.useNativeCaptions, standardStore.canSetTrack],\n    ([$plugins, $useNativeCaptions, $canSetNativeTrack]) => hasRole($plugins, PluginRole.CAPTIONS)\n      || ($useNativeCaptions && $canSetNativeTrack),\n  );\n\n  store.canSetTracks = derived(\n    [store.plugins, standardStore.useNativeCaptions, standardStore.canSetTracks],\n    ([$plugins, $useNativeCaptions, $canSetNativeTracks]) => hasRole($plugins, PluginRole.CAPTIONS)\n      || ($useNativeCaptions && $canSetNativeTracks),\n  );\n\n  store.canSetPoster = derived(\n    [store.plugins, standardStore.canSetPoster],\n    ([$plugins, $canSetPoster]) => {\n      const hasPlugin = hasRole($plugins, PluginRole.POSTER);\n      // eslint-disable-next-line no-underscore-dangle\n      standardStore._posterPlugin.set(hasPlugin);\n      return hasPlugin || $canSetPoster;\n    },\n  );\n\n  return {\n    ...standardStore,\n    ...store,\n  };\n};\n","<svelte:window on:message={onMessage} />\n\n<iframe\n  {id}\n  {title}\n  src={srcWithParams}\n  allowfullscreen=\"1\"\n  allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n  on:load\n  bind:this={iframe}\n></iframe>\n\n<script context=\"module\">\n  let idCount = 0;\n  const PRECONNECTED = [];\n</script>\n\n<script>\n  import { createEventDispatcher, onMount } from 'svelte';\n  import { is_string, prefetch, add_params_to_url } from '@vime-js/utils';\n\n  let iframe = null;\n  let srcWithParams = null;\n\n  // eslint-disable-next-line prefer-const\n  idCount += 1;\n  const id = `vime-embed-${idCount}`;\n  const dispatch = createEventDispatcher();\n  \n  const Event = {\n    SRC_CHANGE: 'srcchange',\n    MESSAGE: 'message',\n    DATA: 'data',\n    REBUILD: 'rebuild',\n  };\n\n  export let src = null;\n  export let title = null;\n  export let params = {};\n  export let origin = null;\n  export let preconnections = [];\n  export let decoder = null;\n\n  export const getId = () => id;\n  export const getIframe = () => iframe;\n  export const getSrc = () => srcWithParams;\n\n  export const postMessage = (message, target) => {\n    if (!iframe || !iframe.contentWindow) return;\n    iframe.contentWindow.postMessage(JSON.stringify(message), target || origin || '*');\n  };\n\n  const originMatches = (e) => {\n    if (!iframe || e.source !== iframe.contentWindow) return false;\n    return (is_string(origin) && (origin === e.origin));\n  };\n\n  const onMessage = (e) => {\n    if (!originMatches(e)) return;\n    dispatch(Event.MESSAGE, e);\n    const data = decoder ? decoder(e.data) : null;\n    if (data) dispatch(Event.DATA, data);\n  };\n\n  let hasMounted = false;\n  onMount(() => { hasMounted = true; });\n\n  $: if (hasMounted) dispatch(Event.SRC_CHANGE, srcWithParams);\n  $: if (hasMounted && srcWithParams) dispatch(Event.REBUILD);\n\n  $: if (hasMounted) srcWithParams = src ? add_params_to_url(src, params) : null;\n\n  $: if (hasMounted && srcWithParams && !iframe && !PRECONNECTED.includes(srcWithParams)) {\n    if (prefetch('preconnect', srcWithParams)) PRECONNECTED.push(srcWithParams);\n  }\n\n  // TODO: improve preconnections\n  // @see https://github.com/ampproject/amphtml/blob/master/src/preconnect.js\n  $: if (hasMounted) {\n    preconnections\n      .filter((p) => !PRECONNECTED.includes(p))\n      .forEach((url) => { if (prefetch('preconnect', url)) PRECONNECTED.push(url); });\n  }\n</script>\n\n<style>\n  iframe {\n    position: absolute;\n    top: 0;\n    left: 0;\n    border: 0;\n    user-select: none;\n    width: 100%;\n    height: 100%;\n  }\n</style>","<div bind:this={el}>\n\t<slot {intersecting}></slot>\n</div>\n\n<script>\n  // eslint-disable-next-line max-len\n  // @see https://github.com/sveltejs/svelte/blob/master/site/src/components/IntersectionObserver.svelte\n\n  import { onMount } from 'svelte';\n\n  let el;\n  let intersecting = false;\n  \n  export let threshold = 0.75;\n\n  onMount(() => {\n    if (typeof IntersectionObserver !== 'undefined') {\n      const observer = new IntersectionObserver((entries) => {\n        intersecting = entries[0].isIntersecting;\n        if (intersecting) observer.unobserve(el);\n      }, { threshold });\n\n      observer.observe(el);\n      return () => observer.unobserve(el);\n    }\n\n    function onScroll() {\n      const rect = el.getBoundingClientRect();\n\n      intersecting = (\n        rect.bottom > 0\n        && rect.right > 0\n        && (rect.top * (1 + threshold)) < window.innerHeight\n        && rect.left < window.innerWidth\n      );\n\n      if (intersecting) window.removeEventListener('scroll', onScroll);\n    }\n\n    window.addEventListener('scroll', onScroll);\n    return () => window.removeEventListener('scroll', onScroll);\n  });\n</script>\n\n<style>\n  div {\n    width: 100%;\n  }\n</style>","{#if isEnabled}\n  <Lazy let:intersecting>\n    {#if intersecting}\n      <div\n        class:video={!is_null(aspectRatio)}\n        use:vAspectRatio={isEnabled ? aspectRatio : null} \n        bind:this={el}\n      >\n        <slot />\n      </div>\n    {/if}\n  </Lazy>\n{:else}\n  <slot />\n{/if}\n\n<script>\n  import { createEventDispatcher } from 'svelte';\n  import { is_null, vAspectRatio } from '@vime-js/utils';\n  import Lazy from './Lazy.svelte';\n\n  const dispatch = createEventDispatcher();\n\n  let el;\n\n  export let aspectRatio = null;\n  export let isEnabled = true;\n\n  $: if (el) dispatch('mount', el);\n</script>\n\n<style>\n  div {\n    position: relative;\n  }\n\n  .video {\n    height: 0;\n    overflow: hidden;\n    background: #000;\n  }\n</style>","<svelte:options accessors />\n\n<PlayerWrapper \n  {aspectRatio} \n  isEnabled={hasWrapper} \n>\n  <Embed\n    {decoder}\n    {preconnections}\n    src={embedURL}\n    params={allParams}\n    title={iframeTitle}\n    origin={origin}\n    on:load\n    on:data\n    on:message\n    on:rebuild\n    on:load={onLoad}\n    on:data={onData}\n    on:srcchange={onReload}\n    bind:this={embed}\n  />\n</PlayerWrapper>\n\n<script>\n  import { tick, createEventDispatcher, onMount } from 'svelte';\n  import { noop } from 'svelte/internal';\n  import { deferred } from '@vime-js/utils';\n  import Embed from './Embed.svelte';\n  import PlayerWrapper from './PlayerWrapper.svelte';\n\n  const dispatch = createEventDispatcher();\n\n  const Event = {\n    READY: 'ready',\n    TITLE_CHANGE: 'titlechange',\n    ORIGIN_CHANGE: 'originchange',\n    EMBED_URL_CHANGE: 'embedurlchange',\n    ERROR: 'error',\n  };\n\n  let embed;\n  let mediaTitle = null;\n  let ready = deferred();\n  let initialized = false;\n\n  export let src = null;\n  export let params = {};\n  export let providers = [];\n  export let cookies = false;\n  export let hasWrapper = true;\n  export let aspectRatio = '16:9';\n  export let ignoreDefaultParams = false;\n\n  export const getOrigin = () => origin;\n  export const getEmbed = () => embed;\n  export const getEmbedURL = () => embedURL;\n  export const getTitle = () => mediaTitle;\n  export const getProvider = () => Provider;\n  export const getMediaId = () => (Provider ? Provider.extractMediaId(src) : null);\n\n  export const sendCommand = async (command, args, force) => {\n    if (!Provider) return;\n\n    try {\n      if (!force) {\n        await tick();\n        await ready.promise;\n      }\n      embed.postMessage(Provider.buildPostMessage(command, args));\n    } catch (e) { /** noop */ }\n  };\n\n  const onReload = () => {\n    ready.promise.catch(noop);\n    ready.reject();\n    ready = deferred();\n    initialized = false;\n    ready.promise\n      .then(() => {\n        initialized = true;\n        dispatch(Event.READY);\n      })\n      .catch((e) => {\n        dispatch(Event.ERROR, e);\n      });\n  };\n\n  const onSrcChange = () => { mediaTitle = null; };\n  const onLoad = () => { if (Provider) Provider.onLoad(embed); };\n\n  const onDataHandler = (e) => {\n    const data = e.detail;\n    if (!data || !Provider) return;\n    Provider.resolveReadyState(data, ready, sendCommand);\n    if (!mediaTitle) mediaTitle = Provider.extractMediaTitle(data);\n  };\n\n  let hasMounted = false;\n  onMount(() => { hasMounted = true; });\n\n  onReload();\n\n  $: onSrcChange(src);\n\n  $: origin = Provider ? Provider.buildOrigin(cookies) : null;\n  $: embedURL = Provider ? Provider.buildEmbedURL(src, cookies) : null;\n  $: Provider = providers.find((p) => p.canPlay(src));\n  $: iframeTitle = (Provider && mediaTitle) ? `${Provider.name} - ${mediaTitle || 'Video Player'}` : null;\n  $: decoder = Provider ? Provider.decoder : null;\n  $: preconnections = Provider ? Provider.preconnections : [];\n  $: onData = (!initialized || !mediaTitle) ? onDataHandler : null;\n  \n  $: allParams = (!ignoreDefaultParams && Provider && Provider.defaultParams)\n    ? { ...Provider.defaultParams, ...params }\n    : params;\n\n  $: if (hasMounted) dispatch(Event.SRC_CHANGE, src);\n  $: if (hasMounted) dispatch(Event.TITLE_CHANGE, mediaTitle);\n  $: if (hasMounted) dispatch(Event.ORIGIN_CHANGE, origin);\n  $: if (hasMounted) dispatch(Event.EMBED_URL_CHANGE, embedURL);\n</script>","import { is_string, load_image, decode_json } from '@vime-js/utils';\n\nexport const NAME = 'YouTube';\nexport const ORIGIN = 'https://www.youtube.com';\nexport const ORIGIN_NO_COOKIES = 'https://www.youtube-nocookie.com';\nexport const SRC = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\nexport const DECODER = decode_json;\n\nexport const PRECONNECTIONS = [\n  ORIGIN,\n  ORIGIN_NO_COOKIES,\n  'https://www.google.com',\n  'https://googleads.g.doubleclick.net',\n  'https://static.doubleclick.net',\n  'https://s.ytimg.com',\n  'https://i.ytimg.com',\n];\n\nexport const build_origin = (cookies) => (cookies ? ORIGIN : ORIGIN_NO_COOKIES);\n\nexport const can_play = (src) => is_string(src) && SRC.test(src);\n\nexport const extract_media_id = (src) => {\n  const match = src ? src.match(SRC) : null;\n  return match ? match[1] : null;\n};\n\nexport const build_embed_url = (src, cookies) => {\n  const mediaId = extract_media_id(src);\n  return mediaId ? `${build_origin(cookies)}/embed/${mediaId}?enablejsapi=1` : null;\n};\n\nexport const build_watch_url = (src) => {\n  const mediaId = extract_media_id(src);\n  return mediaId ? `${ORIGIN}/watch?v=${mediaId}` : null;\n};\n\nexport const fetch_poster = (src) => {\n  const mediaId = extract_media_id(src);\n  if (!mediaId) return Promise.resolve(null);\n  const posterSrc = (quality) => `https://i.ytimg.com/vi/${mediaId}/${quality}.jpg`;\n  // We are testing a that the image has a min-width of 121px because if the thumbnail does\n  // not exist YouTube returns a blank/error image that is 120px wide.\n  return load_image(posterSrc('maxresdefault'), 121) // 1080p (no padding)\n    .catch(() => load_image(posterSrc('sddefault'), 121)) // 640p (padded 4:3)\n    .catch(() => load_image(posterSrc('hqdefault'), 121)) // 480p (padded 4:3)\n    .then((img) => img.src || null);\n};\n","import {\n  NAME, DECODER, PRECONNECTIONS,\n  can_play, build_embed_url, build_origin,\n  extract_media_id,\n} from '@vime-js/core/youtube';\n\nexport default {\n  name: NAME,\n  decoder: DECODER,\n  preconnections: PRECONNECTIONS,\n  canPlay: can_play,\n  buildOrigin: build_origin,\n  extractMediaId: extract_media_id,\n  buildEmbedURL: build_embed_url,\n  onLoad: (embed) => {\n    // Seems like we have to wait a random small delay or else YT player isn't ready.\n    setTimeout(() => embed.postMessage({ event: 'listening' }), 100);\n  },\n  buildPostMessage: (command, args) => ({\n    event: 'command',\n    func: command,\n    args: args || '',\n  }),\n  resolveReadyState: (data, ready) => {\n    const { info, event } = data;\n    const playerState = info && info.playerState;\n    if (event === 'error') ready.reject(info);\n    if (playerState === 5) ready.resolve();\n  },\n  extractMediaTitle: (data) => {\n    const videoData = data.info && data.info.videoData;\n    const title = videoData && videoData.title;\n    return title || null;\n  },\n};\n","import { is_string } from './unit';\nimport { is_json_or_obj, obj_or_try_parse_json } from './json';\nimport { parse_query_string } from './url';\n\nexport const decode_json = (data) => is_json_or_obj(data) && obj_or_try_parse_json(data);\nexport const decode_query_string = (data) => is_string(data) && parse_query_string(data);\n","{#each validatedPlugins as Plugin (Plugin.ID)}\n  <svelte:component\n    {player}\n    this={Plugin.default}\n    bind:this={instances[Plugin.ID]}\n    on:error\n  />\n{/each}\n\n<script context=\"module\">\n  export const ID = 'vPlugins';\n</script>\n\n<script>\n  import { tick, onMount } from 'svelte';\n  import { IS_IOS, is_svelte_component } from '@vime-js/utils';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const registry = player.createRegistry(ID);\n  const logger = player.createLogger(ID);\n  const { plugins, playsinline, isFullscreenActive } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  const instances = {};\n  let validatedPlugins = [];\n\n  export const hasPlugin = (plugin) => plugin.ID && $plugins.some((p) => p.ID === plugin.ID);\n\n  export const addPlugin = async (newPlugin) => {\n    if (hasPlugin(newPlugin)) return Promise.resolve(instances[newPlugin.ID]);\n    $plugins[$plugins.length] = newPlugin;\n    await tick();\n    return instances[newPlugin.ID];\n  };\n\n  export const addPlugins = (newPlugins) => {\n    const promises = newPlugins.map(addPlugin);\n    return Promise.all(promises);\n  };\n\n  export const removePlugin = (id) => {\n    $plugins = $plugins.filter((p) => p.ID !== id);\n    return tick();\n  };\n\n  export const removePlugins = (delPlugins) => {\n    delPlugins.map(removePlugin);\n    return tick();\n  };\n\n  export const getRegistry = () => registry;\n  export const getPlugin = (id) => instances[id];\n  export const getPlugins = () => instances;\n\n  $: isEnabled = (IS_IOS && $playsinline && !$isFullscreenActive) || !IS_IOS;\n\n  // --------------------------------------------------------------\n  // Plugin Registration\n  // --------------------------------------------------------------\n\n  const validatePlugin = (Plugin) => {\n    const name = Plugin && (Plugin.ID || (Plugin.default && Plugin.default.name));\n    if (!Plugin || !Plugin.ID) {\n      logger.error(`plugin [${name}] is missing an \\`ID\\` property`);\n      return false;\n    }\n    if (!Plugin.default || !is_svelte_component(Plugin.default)) {\n      logger.error(`plugin [${name}] has an invalid \\`default\\` property, must be a SvelteComponent`);\n      return false;\n    }\n    return true;\n  };\n\n  // Wait till component has mounted so plugins have access to it through Vime.\n  let hasMounted = false;\n  onMount(() => { hasMounted = true; });\n\n  $: if (hasMounted) {\n    validatedPlugins = isEnabled ? $plugins.filter(validatePlugin).map((p) => ({ ...p })) : [];\n  }\n\n  $: validatedPlugins\n    .filter((p) => !registry.has(p.ID) && instances[p.ID])\n    .forEach((p) => registry.register(p.ID, instances[p.ID]));\n</script>","// Treeshaking safe.\nconst MediaType = function MediaType() {};\nMediaType.NONE = 0;\nMediaType.AUDIO = 1;\nMediaType.VIDEO = 2;\nexport default MediaType;\n","// Treeshaking safe.\nconst PlayerState = function PlayerState() {};\nPlayerState.IDLE = 1;\nPlayerState.CUED = 2;\nPlayerState.PLAYING = 3;\nPlayerState.PAUSED = 4;\nPlayerState.BUFFERING = 5;\nPlayerState.ENDED = 6;\nexport default PlayerState;\n","// Treeshaking safe.\nconst VideoQuality = function VideoQuality() {};\nVideoQuality.UNKNOWN = 0;\nVideoQuality.XXS = 144;\nVideoQuality.XS = 240;\nVideoQuality.S = 360;\nVideoQuality.M = 480;\nVideoQuality.L = 720;\nVideoQuality.XL = 1080;\nVideoQuality.XXL = 1440;\nVideoQuality.MAX = 2160;\nexport default VideoQuality;\n","import { writable } from 'svelte/store';\n\nexport const currentPlayer = writable(null);\n","import { writable, derived } from 'svelte/store';\nimport PlayerState from './PlayerState';\nimport MediaType from './MediaType';\nimport VideoQuality from './VideoQuality';\n\nimport {\n  private_writable, map_store_to_component, can_autoplay,\n  selectable_if, rangeable_if, IS_MOBILE,\n  indexable, private_writable_if, is_function,\n  rangeable,\n} from '@vime-js/utils';\n\n// Player defaults used when the `src` changes or `resetStore` is called.\nconst playerDefaults = () => ({\n  paused: true,\n  playing: false,\n  seeking: false,\n  rebuilding: false,\n  internalTime: 0,\n  currentTime: 0,\n  title: '',\n  duration: 0,\n  buffered: 0,\n  mediaId: null,\n  currentSrc: null,\n  buffering: false,\n  videoQuality: VideoQuality.UNKNOWN,\n  videoQualities: [],\n  playbackRate: 1,\n  playbackRates: [1],\n  playbackStarted: false,\n  playbackEnded: false,\n  playbackReady: false,\n  isLive: false,\n  nativePoster: null,\n  isControlsActive: true,\n});\n\nconst resetStore = (store) => {\n  const defaults = playerDefaults();\n  Object.keys(defaults)\n    .forEach((prop) => store[prop] && store[prop].set(defaults[prop]));\n};\n\nconst fillStore = async (store) => {\n  store.canAutoplay.set(await can_autoplay(false));\n  store.canMutedAutoplay.set(await can_autoplay(true));\n};\n\nexport const buildStandardStore = (player) => {\n  const store = {};\n  const defaults = playerDefaults();\n\n  store.playbackReady = private_writable(defaults.playbackReady);\n  store.rebuilding = private_writable_if(defaults.rebuilding, store.playbackReady);\n  store.canAutoplay = private_writable(false);\n  store.canMutedAutoplay = private_writable(false);\n  store.canInteract = derived(\n    [store.playbackReady, store.rebuilding],\n    ([$playbackReady, $rebuilding]) => $playbackReady && !$rebuilding,\n  );\n\n  // --------------------------------------------------------------\n  // Native\n  // --------------------------------------------------------------\n\n  store.useNativeView = writable(true);\n  store.useNativeControls = writable(true);\n  store.useNativeCaptions = writable(true);\n  store.nativePoster = private_writable(defaults.nativePoster);\n\n  // --------------------------------------------------------------\n  // Src\n  // --------------------------------------------------------------\n\n  store.src = writable(null);\n  store.mediaId = private_writable(defaults.mediaId);\n  store.poster = writable(null);\n  store.provider = private_writable(null);\n  store.providers = writable([]);\n  store.providerConfig = writable({});\n  store.providerVersion = writable('latest');\n  store.origin = private_writable(null);\n  store.title = private_writable(defaults.title);\n  store.currentSrc = private_writable(defaults.currentSrc);\n\n  store.Provider = derived(\n    [store.src, store.providers],\n    ([$src, $providers]) => $providers.find((p) => p.canPlay($src)),\n  );\n\n  store.canSetPoster = derived(\n    store.provider,\n    ($provider) => $provider && is_function($provider.setPoster),\n  );\n\n  // --------------------------------------------------------------\n  // Metadata\n  // --------------------------------------------------------------\n\n  store.mediaType = private_writable(MediaType.NONE);\n  store.isAudio = derived(store.mediaType, ($mediaType) => $mediaType === MediaType.AUDIO);\n  store.isVideo = derived(store.mediaType, ($mediaType) => $mediaType === MediaType.VIDEO);\n  store.isLive = private_writable(false);\n  store.playbackRates = private_writable(defaults.playbackRates);\n  store.videoQualities = private_writable(defaults.videoQualities);\n  store.duration = private_writable(defaults.duration);\n\n  // Used by @vime-js/complete.\n  // eslint-disable-next-line no-underscore-dangle\n  store._posterPlugin = writable(false);\n  store.isVideoView = derived(\n    // eslint-disable-next-line no-underscore-dangle\n    [store.poster, store.nativePoster, store.canSetPoster, store._posterPlugin, store.isVideo],\n    ([\n      $poster,\n      $nativePoster,\n      $canSetPoster,\n      $plugin,\n      $isVideo,\n    ]) => !!(($canSetPoster || $plugin) && ($poster || $nativePoster)) || $isVideo,\n  );\n\n  store.isVideoReady = derived(\n    [store.playbackReady, store.isVideoView],\n    ([$playbackReady, $isVideoView]) => $playbackReady && $isVideoView,\n  );\n\n  // --------------------------------------------------------------\n  // Playback\n  // --------------------------------------------------------------\n\n  store.canSetPlaybackRate = derived(\n    [store.provider, store.playbackRates],\n    ([\n      $provider,\n      $playbackRates,\n    ]) => $provider && $playbackRates.length > 1 && is_function($provider.setPlaybackRate),\n  );\n\n  store.canSetVideoQuality = derived(\n    [store.provider, store.isVideo, store.videoQualities],\n    ([$provider, $isVideo, $videoQualities]) => $provider\n      && $isVideo\n      && $videoQualities.length > 0\n      && is_function($provider.setVideoQuality),\n  );\n\n  store.paused = writable(defaults.paused);\n  store.playbackRate = selectable_if(\n    defaults.playbackRate,\n    store.playbackRates,\n    store.canSetPlaybackRate,\n  );\n  store.videoQuality = selectable_if(\n    defaults.videoQuality,\n    store.videoQualities,\n    store.canSetVideoQuality,\n  );\n  store.currentTime = rangeable(defaults.currentTime, 0, store.duration);\n  store.internalTime = private_writable(defaults.internalTime);\n  store.muted = writable(false);\n  store.volume = rangeable_if(30, 0, 100, !IS_MOBILE);\n  store.buffered = private_writable(defaults.buffered);\n  store.isControlsEnabled = writable(true);\n  store.isControlsActive = private_writable(defaults.isControlsActive);\n\n  store.progress = derived(\n    [store.currentTime, store.duration, store.buffered],\n    ([$currentTime, $duration, $buffered]) => ({\n      played: {\n        seconds: $currentTime,\n        percent: ($currentTime / $duration) * 100,\n      },\n      buffered: {\n        seconds: $buffered,\n        percent: ($buffered / $duration) * 100,\n      },\n    }),\n  );\n\n  // --------------------------------------------------------------\n  // State\n  // --------------------------------------------------------------\n\n  store.playing = private_writable(defaults.playing);\n  store.buffering = private_writable(defaults.buffering);\n  store.playbackEnded = private_writable(defaults.playbackEnded);\n  store.playbackStarted = private_writable(defaults.playbackStarted);\n  store.seeking = private_writable(defaults.seeking);\n  store.isPlayerActive = private_writable(false);\n\n  store.state = derived(\n    [\n      store.playbackStarted,\n      store.playbackEnded,\n      store.paused,\n      store.buffering,\n      store.playbackReady,\n    ],\n    ([$playbackStarted, $playbackEnded, $paused, $buffering, $playbackReady]) => {\n      if ($playbackEnded) {\n        return PlayerState.ENDED;\n      } if ($buffering) {\n        return PlayerState.BUFFERING;\n      } if ($playbackStarted && $paused) {\n        return PlayerState.PAUSED;\n      } if ($playbackStarted) {\n        return PlayerState.PLAYING;\n      } if ($playbackReady) {\n        return PlayerState.CUED;\n      }\n      return PlayerState.IDLE;\n    },\n  );\n\n  // --------------------------------------------------------------\n  // Tracks\n  // --------------------------------------------------------------\n\n  store.canSetTracks = derived(\n    store.provider,\n    ($provider) => $provider && is_function($provider.setTracks),\n  );\n\n  // Don't block writing of `tracks` as it might be stored and used by a provider when possible.\n  store.tracks = writable([]);\n\n  store.canSetTrack = derived(\n    [store.provider, store.tracks],\n    ([$provider, $tracks]) => $provider\n      && $tracks\n      && $tracks.length > 0\n      && is_function($provider.setTrack),\n  );\n\n  // Can't block current track with `canSetTrack` because it'll stop @vime-js/complete from updating\n  // the value when a plugin is managing captions.\n  store.currentTrackIndex = indexable(store.tracks);\n\n  store.currentTrack = derived(\n    [store.tracks, store.currentTrackIndex],\n    ([$tracks, $index]) => (($index >= 0) ? $tracks[$index] : null),\n  );\n\n  store.isCaptionsActive = derived(\n    [store.playbackReady, store.isAudio, store.currentTrackIndex],\n    ([$playbackReady, $isAudio, $currentTrackIndex]) => $playbackReady\n      && !$isAudio\n      && ($currentTrackIndex !== -1),\n  );\n\n  // TODO: add cues support (cues, currentCueIndex, currentCue, activeCues).\n\n  // --------------------------------------------------------------\n  // Picture in Picture\n  // --------------------------------------------------------------\n\n  store.canSetPiP = derived(\n    [store.isVideoReady, store.provider],\n    ([$isVideoReady, $provider]) => $isVideoReady\n      && $provider\n      && $provider.supportsPiP()\n      && is_function($provider.setPiP),\n  );\n\n  store.isPiPActive = private_writable(false);\n\n  // --------------------------------------------------------------\n  // Fullscreen\n  // --------------------------------------------------------------\n\n  // Set in the Player.\n  store.canSetFullscreen = private_writable(false);\n  store.isFullscreenActive = private_writable(false);\n\n  // --------------------------------------------------------------\n  // Options\n  // --------------------------------------------------------------\n\n  store.autopause = writable(true);\n  store.aspectRatio = writable('16:9');\n  store.playsinline = writable(true);\n  store.autoplay = writable(false);\n  store.loop = writable(false);\n\n  fillStore(store);\n\n  return {\n    store,\n    onPropsChange: map_store_to_component(player, store),\n    resetStore: () => resetStore(store),\n  };\n};\n","// @see https://github.com/videojs/video.js/blob/7.6.x/src/js/fullscreen-api.js\n\nconst FullscreenApi = {\n  prefixed: true,\n};\n\nconst apiMap = [\n  [\n    'requestFullscreen',\n    'exitFullscreen',\n    'fullscreenElement',\n    'fullscreenEnabled',\n    'fullscreenchange',\n    'fullscreenerror',\n    'fullscreen',\n  ],\n  // WebKit\n  [\n    'webkitRequestFullscreen',\n    'webkitExitFullscreen',\n    'webkitFullscreenElement',\n    'webkitFullscreenEnabled',\n    'webkitfullscreenchange',\n    'webkitfullscreenerror',\n    '-webkit-full-screen',\n  ],\n  // Mozilla\n  [\n    'mozRequestFullScreen',\n    'mozCancelFullScreen',\n    'mozFullScreenElement',\n    'mozFullScreenEnabled',\n    'mozfullscreenchange',\n    'mozfullscreenerror',\n    '-moz-full-screen',\n  ],\n  // Microsoft\n  [\n    'msRequestFullscreen',\n    'msExitFullscreen',\n    'msFullscreenElement',\n    'msFullscreenEnabled',\n    'MSFullscreenChange',\n    'MSFullscreenError',\n    '-ms-fullscreen',\n  ],\n];\n\nexport default function () {\n  const specApi = apiMap[0];\n  let browserApi;\n\n  // Determine the supported set of functions.\n  for (let i = 0; i < apiMap.length; i += 1) {\n    // Check for exitFullscreen function.\n    if (apiMap[i][1] in document) {\n      browserApi = apiMap[i];\n      break;\n    }\n  }\n\n  // Map the browser API names to the spec API names.\n  if (browserApi) {\n    for (let i = 0; i < browserApi.length; i += 1) {\n      FullscreenApi[specApi[i]] = browserApi[i];\n    }\n\n    FullscreenApi.prefixed = browserApi[0] !== specApi[0];\n  }\n\n  return FullscreenApi;\n}\n","<svelte:options accessors />\n\n<PlayerWrapper\n  isEnabled={hasWrapper}\n  aspectRatio={($isVideoView && !$isFullscreenActive) ? $aspectRatio : null}\n  on:mount=\"{(e) => { playerWrapper = e.detail; }}\"\n>\n  <svelte:component\n    {...props}\n    src={$src}\n    config={$providerConfig}\n    version={$providerVersion}\n    this={$Provider && $Provider.default}\n    bind:this={$provider}\n    on:update={onUpdate}\n    on:error\n  />\n</PlayerWrapper>\n\n<script>\n  import { get } from 'svelte/store';\n  import { currentPlayer } from './sharedStore';\n  import { buildStandardStore } from './standardStore';\n  import { PlayerWrapper } from '@vime-js/lite';\n  import MediaType from './MediaType';\n  import PlayerState from './PlayerState';\n  \n  import {\n    noop, listen, get_current_component,\n    run_all,\n  } from 'svelte/internal';\n\n  import {\n    tick as svelteTick, onMount, onDestroy,\n    afterUpdate,\n  } from 'svelte';\n\n  import {\n    is_function, is_number, is_boolean,\n    is_null,\n  } from '@vime-js/utils';\n\n  let self = get_current_component();\n\n  // eslint-disable-next-line no-underscore-dangle\n  export let _standardStore = null;\n\n  let onPropsChange = noop;\n  if (is_null(_standardStore)) {\n    _standardStore = buildStandardStore(self);\n    ({ onPropsChange } = _standardStore);\n  }\n\n  const { store, resetStore } = _standardStore;\n  $: onPropsChange($$props);\n\n  const {\n    playsinline, paused, muted,\n    playbackEnded, volume, seeking,\n    internalTime, currentTime, isPiPActive,\n    playbackRate, videoQuality, src,\n    isControlsEnabled, aspectRatio, buffering,\n    buffered, autopause, autoplay,\n    playing, playbackStarted, poster,\n    playbackReady, isVideoView, tracks,\n    currentTrackIndex, provider, rebuilding,\n    isVideoReady, canInteract, isFullscreenActive,\n    useNativeView, useNativeControls, useNativeCaptions,\n    duration, Provider, isPlayerActive,\n    providerConfig, providerVersion,\n  } = store;\n\n  const {\n    canSetPiP, canSetTracks, canSetTrack,\n    canAutoplay, canMutedAutoplay, canSetPoster,\n    canSetPlaybackRate, canSetVideoQuality,\n  } = store;\n  \n  let playerWrapper;\n\n  export let parentEl = null;\n  export let hasWrapper = true;\n\n  export const tick = () => svelteTick();\n\n  // Filter out any player props before passing them to the provider.\n  const props = {};\n\n  $: Object\n    .keys($$props)\n    .filter((prop) => !store[prop])\n    .forEach((prop) => { (props[prop] = $$props[prop]); });\n\n  onDestroy(() => {\n    if ($currentPlayer === self) $currentPlayer = null;\n    self = null;\n  });\n\n  if (is_null($currentPlayer)) $currentPlayer = self;\n  $: $isPlayerActive = ($currentPlayer === self);\n\n  // --------------------------------------------------------------\n  // Provider Events\n  // --------------------------------------------------------------\n\n  // Temporary states used to normalize player differences.\n  let tempMute = false;\n  let tempPlay = false;\n  let tempPause = false;\n  let tempControls = false;\n  let updatingVolume = false;\n  let updatingTime = false;\n\n  const cancelTempAction = async (cb) => {\n    // Give some time for the provider to be set to it's original value before we receive\n    // event updates.\n    await svelteTick();\n    setTimeout(() => {\n      cb();\n    }, 100);\n  };\n\n  const initiateTempPlayback = () => {\n    if (!$playbackReady || !$canMutedAutoplay) return;\n    tempMute = true;\n    tempPlay = true;\n    $playsinline = true;\n  };\n\n  const onRestart = () => {\n    if (get(store.live) || !$playbackEnded) return;\n    $internalTime = 0;\n    $currentTime = 0;\n    $playbackEnded = false;\n    $provider.setCurrentTime(0);\n    $paused = false;\n  };\n\n  const onTimeUpdate = (time) => {\n    if ($seeking || updatingTime || !$canInteract) return;\n    $internalTime = time;\n    $currentTime = time;\n    if ($internalTime === 0 && $playbackEnded) onRestart();\n  };\n\n  afterUpdate(() => {\n    if (!$playbackReady || $seeking || ($currentTime === $internalTime)) return;\n    $internalTime = $currentTime;\n    $provider.setCurrentTime($currentTime);\n    updatingTime = true;\n  });\n\n  const checkIfBuffering = () => {\n    if ($buffered < $currentTime || ($playbackStarted && $buffered === 0)) {\n      $buffering = true;\n    }\n  };\n\n  const checkHasSeeked = () => {\n    if (!$seeking || ($buffered <= $currentTime && $currentTime < $duration)) return;\n    $seeking = false;\n    $buffering = false;\n    updatingTime = false;\n    if (!$playbackStarted) {\n      $playbackStarted = true;\n      if ($currentTime === $duration) $currentTime = 0;\n    }\n    if ($playbackEnded) $playbackEnded = false;\n    cancelTempAction(() => {\n      tempPause = false;\n    });\n  };\n\n  const onAutoplay = () => {\n    if (\n      !$autoplay\n      || $rebuilding\n      || $currentTime > 0\n      || (!$canAutoplay || !$canMutedAutoplay)\n    ) return;\n    $paused = false;\n    $playsinline = true;\n    if (!$canAutoplay) $muted = true;\n  };\n\n  const onRebuildStart = () => {\n    if (!$playbackReady) return;\n    $rebuilding = true;\n    $buffering = true;\n  };\n\n  const onRebuildEnd = async () => {\n    if (!$playbackReady || !$rebuilding) return;\n    if ($currentTime > 0) $provider.setCurrentTime($currentTime);\n    await svelteTick();\n    $rebuilding = false;\n    // eslint-disable-next-line no-use-before-define\n    if ($isFullscreenActive) requestFullscreen().catch(noop);\n  };\n\n  const onRebuild = async () => {\n    if (!$playbackReady) return;\n    // Cancel any existing temp states as rebuild may be called multiple times.\n    tempMute = false;\n    tempPlay = false;\n    await svelteTick();\n    if ($currentTime > 0 && $canMutedAutoplay) {\n      initiateTempPlayback();\n      return;\n    }\n    onRebuildEnd();\n  };\n\n  const onPlaybackReady = async () => {\n    // Wait incase of any sudden src changes.\n    await svelteTick();\n    $playbackReady = true;\n    $buffering = false;\n    onRebuild();\n  };\n\n  const onAutopause = () => {\n    if (!$autopause || !$currentPlayer || $currentPlayer === self) return;\n    $currentPlayer.paused = true;\n  };\n\n  // If a provider fires a `pause` event before `seeking` we cancel it to not mess\n  // with our internal paused state.\n  let firePauseTimer;\n  const onPause = () => {\n    firePauseTimer = window.setTimeout(() => {\n      if (tempPause) return;\n      $paused = true;\n      $buffering = false;\n      $playing = false;\n    }, 100);\n  };\n\n  const onVolumeChange = (newVolume) => {\n    $volume = newVolume;\n    updatingVolume = true;\n  };\n\n  const onBuffered = (progress) => {\n    if (progress) $buffered = progress;\n    if ($seeking) checkHasSeeked();\n  };\n\n  const onSeeking = () => {\n    if ($seeking) return;\n    window.clearTimeout(firePauseTimer);\n    $seeking = true;\n    checkIfBuffering();\n    !$playbackStarted ? initiateTempPlayback() : (tempPause = true);\n  };\n\n  const onSeeked = async () => {\n    if (!$seeking) return;\n    // Wait incase `seeking` and `seeked` are fired immediately after each other.\n    await svelteTick();\n    onBuffered($buffered);\n  };\n\n  const onPlay = () => {\n    $paused = false;\n    checkIfBuffering();\n  };\n\n  const onPlaying = () => {\n    $buffering = false;\n    $playbackStarted = true;\n    onSeeked();\n    onAutopause();\n    $currentPlayer = self;\n    if (!tempPlay) {\n      $paused = false;\n      $playing = true;\n    }\n    $provider.setPaused($paused);\n    $provider.setMuted($muted);\n    cancelTempAction(() => {\n      tempPlay = false;\n      tempMute = false;\n    });\n    onRebuildEnd();\n  };\n\n  const onLoop = async () => {\n    if (get(store.live) || !get(store.loop)) return;\n    await svelteTick();\n    onRestart();\n  };\n\n  const onPlaybackEnd = () => {\n    $playbackEnded = true;\n    $paused = true;\n    onLoop();\n  };\n\n  const onStateChange = async (state) => {\n    await svelteTick();\n    switch (state) {\n      case PlayerState.CUED:\n        onPlaybackReady();\n        break;\n      case PlayerState.PAUSED:\n        if ($rebuilding) return;\n        onPause();\n        break;\n      case PlayerState.BUFFERING:\n        $buffering = true;\n        break;\n      case PlayerState.PLAYING:\n        onPlaying();\n        break;\n      case PlayerState.ENDED:\n        onPlaybackEnd();\n        break;\n      default:\n        break;\n    }\n  };\n\n  // TODO: this is basically a crappy reducer.\n  const onUpdate = (e) => {\n    const info = e.detail;\n    if (info.state) onStateChange(info.state);\n    if (info.play && !tempPlay) onPlay();\n    if (info.rebuild) onRebuildStart();\n    if ($rebuilding) return;\n    if ((is_null(info.poster) || info.poster)) store.nativePoster.set(info.poster);\n    if (is_boolean(info.isLive)) store.isLive.set(info.isLive);\n    if (is_number(info.duration)) $duration = parseFloat(info.duration);\n    if (is_number(info.currentTime)) onTimeUpdate(parseFloat(info.currentTime));\n    if (is_number(info.buffered)) onBuffered(parseFloat(info.buffered));\n    if (info.seeking) onSeeking();\n    if (info.seeked) onSeeked();\n    if (is_number(info.mediaType)) store.mediaType.set(info.mediaType);\n    if (info.title) store.title.set(info.title);\n    if (info.currentSrc) store.currentSrc.set(info.currentSrc);\n    if (info.mediaId) store.mediaId.set(info.mediaId);\n    if (is_number(info.volume)) onVolumeChange(parseInt(info.volume, 10));\n    if (is_boolean(info.muted) && !tempMute) $muted = info.muted;\n    if (info.origin) store.origin.set(info.origin);\n    if (is_number(info.videoQuality)) store.videoQuality.forceSet(info.videoQuality);\n    if (info.videoQualities) store.videoQualities.set(info.videoQualities);\n    if (info.playbackRate) store.playbackRate.forceSet(info.playbackRate);\n    if (info.playbackRates) store.playbackRates.set(info.playbackRates);\n    if ($useNativeCaptions) {\n      if (info.tracks) $tracks = info.tracks;\n      if (is_number(info.currentTrackIndex)) $currentTrackIndex = info.currentTrackIndex;\n    }\n    if (is_boolean(info.pip)) $isPiPActive = info.pip;\n    // eslint-disable-next-line no-use-before-define\n    if (is_boolean(info.fullscreen)) onFullscreenChange(info.fullscreen);\n  };\n\n  const onSrcChange = () => {\n    resetStore();\n    // TODO: what if provider can't play the src? Need to stop buffering.\n    if ($src && $Provider) $buffering = true;\n    updatingTime = false;\n    tempPlay = false;\n    tempPlay = false;\n    tempMute = false;\n    tempControls = false;\n  };\n\n  const onProviderChange = () => {\n    onSrcChange();\n    store.origin.set(null);\n    store.isPiPActive.set(false);\n    // eslint-disable-next-line no-use-before-define\n    if ($isFullscreenActive) exitFullscreen().catch(noop);\n    if (!$Provider) store.mediaType.set(MediaType.NONE);\n  };\n\n  $: onSrcChange($src);\n  $: onProviderChange($Provider);\n\n  // --------------------------------------------------------------\n  // State Updates\n  // --------------------------------------------------------------\n\n  $: if ($autoplay && $playbackReady) onAutoplay();\n  $: if ($provider && !$rebuilding) $provider.setPlaysinline($playsinline);\n  $: if ($canSetPoster && !$rebuilding) $provider.setPoster($useNativeControls ? $poster : null);\n  $: if ($provider && is_function($provider.setAspectRatio)) $provider.setAspectRatio($aspectRatio);\n  \n  $: if ($provider && !$rebuilding && is_function($provider.setView)) {\n    $provider.setView($useNativeView);\n  }\n  \n  $: if ($provider && !$rebuilding) {\n    $provider.setControls($isControlsEnabled && ($useNativeControls || tempControls));\n  }\n  \n  $: if ($provider && !$paused && $playbackEnded) onRestart();\n  $: if ($provider && $playbackReady) $provider.setPaused(($paused || tempPause) && !tempPlay);\n  $: if ($provider && $canInteract) $provider.setMuted($muted || tempMute);\n  $: if ($canSetPlaybackRate && $canInteract) $provider.setPlaybackRate($playbackRate);\n  $: if ($canSetVideoQuality && $canInteract) $provider.setVideoQuality($videoQuality);\n\n  $: ($provider && $canInteract && !updatingVolume)\n    ? $provider.setVolume($volume)\n    : (updatingVolume = false);\n\n  // --------------------------------------------------------------\n  // Tracks\n  // --------------------------------------------------------------\n\n  $: if ($canSetTracks && $canInteract) $provider.setTracks($useNativeCaptions ? $tracks : []);\n  \n  $: if ($canSetTrack && $canInteract) {\n    $provider.setTrack($useNativeCaptions ? $currentTrackIndex : -1);\n  }\n\n  // --------------------------------------------------------------\n  // Picture in Picture\n  // --------------------------------------------------------------\n\n  const NO_PIP_SUPPORT_ERROR_MSG = 'Provider does not support PiP.';\n  const VIDEO_NOT_READY_ERROR_MSG = 'Action not supported, must be a video that is ready for playback.';\n  \n  const pipRequest = (active) => {\n    if (!$isVideoReady) { return Promise.reject(VIDEO_NOT_READY_ERROR_MSG); }\n    if (!$canSetPiP) { return Promise.reject(NO_PIP_SUPPORT_ERROR_MSG); }\n    return Promise.resolve($provider.setPiP(active));\n  };\n\n  export const requestPiP = () => pipRequest(true);\n  export const exitPiP = () => pipRequest(false);\n\n  // --------------------------------------------------------------\n  // Fullscreen\n  // --------------------------------------------------------------\n\n  import LoadFullscreenApi from './FullscreenApi';\n\n  const FULLSCREEN_NOT_SUPPORTED_ERROR_MSG = 'Fullscreen not supported.';\n\n  let fsDispose = [];\n  let fullscreenApi = null;\n  let doesDocumentSupportFullscreenApi = false;\n\n  const isFullscreen = () => {\n    const els = [playerWrapper, parentEl, $provider && $provider.getEl()].filter(Boolean);\n    let isActive = els.includes(document[fullscreenApi.fullscreenElement]);\n    if (!isActive) isActive = els.some((el) => el.matches && el.matches(`:${fullscreenApi.fullscreen}`));\n    return isActive;\n  };\n\n  const onDocumentFullscreenChange = () => {\n    $isFullscreenActive = isFullscreen();\n  };\n\n  const onFullscreenChange = (isActive) => {\n    $isFullscreenActive = isActive;\n    if (!$isFullscreenActive) tempControls = false;\n    tempPause = false;\n    // iOS pauses the video when exiting fullscreen.\n    if (!$paused) {\n      setTimeout(() => {\n        $provider.setPaused(false);\n      }, 300);\n    }\n  };\n\n  const requestDocumentFullscreen = (shouldEnter) => {\n    const el = parentEl || playerWrapper;\n    if (!el || (!shouldEnter && !isFullscreen())) return Promise.reject();\n    if (shouldEnter && isFullscreen()) return Promise.resolve();\n    const request = shouldEnter\n      ? el[fullscreenApi.requestFullscreen]()\n      : document[fullscreenApi.exitFullscreen]();\n    return Promise.resolve(request);\n  };\n\n  // TODO: the two providers which can set fullscreen at the moment (File/Dailymotion) don't\n  // require a rebuild when enabling controls, if at some point a provider does this won't work.\n  const requestProviderFullscreen = (shouldEnter) => {\n    if (shouldEnter) tempControls = true;\n    tempPause = true;\n    return Promise.resolve($provider.setFullscreen(shouldEnter));\n  };\n\n  const fullscreenRequest = (shouldEnter) => {\n    if (!$isVideoReady) {\n      return Promise.reject(VIDEO_NOT_READY_ERROR_MSG);\n    } if (doesDocumentSupportFullscreenApi) {\n      return requestDocumentFullscreen(shouldEnter);\n    } if (canProviderFullscreen) {\n      return requestProviderFullscreen(shouldEnter);\n    }\n    return Promise.reject(FULLSCREEN_NOT_SUPPORTED_ERROR_MSG);\n  };\n\n  export const requestFullscreen = () => fullscreenRequest(true);\n  export const exitFullscreen = () => fullscreenRequest(false);\n\n  onMount(() => {\n    fullscreenApi = LoadFullscreenApi();\n    doesDocumentSupportFullscreenApi = !!fullscreenApi.requestFullscreen;\n\n    if (!doesDocumentSupportFullscreenApi) return;\n  \n    fsDispose.push(listen(\n      document,\n      fullscreenApi.fullscreenchange,\n      onDocumentFullscreenChange,\n    ));\n\n    /* *\n     * We have to listen to this on webkit, because no `fullscreenchange` event is fired when the\n     * video element enters or exits fullscreen by:\n     *\n     *  1. The native Html5 fullscreen video control.\n     *  2. Calling requestFullscreen from the video element directly.\n     *  3. Calling requestFullscreen inside an iframe.\n     * */\n    if (document.webkitExitFullscreen) {\n      fsDispose.push(listen(\n        document,\n        'webkitfullscreenchange',\n        onDocumentFullscreenChange,\n      ));\n    }\n  });\n  \n  onDestroy(() => {\n    run_all(fsDispose);\n    fsDispose = [];\n  });\n\n  $: canProviderFullscreen = $provider\n    && $provider.supportsFullscreen()\n    && is_function($provider.setFullscreen);\n  \n  $: store.canSetFullscreen.set(\n    $isVideoReady && (doesDocumentSupportFullscreenApi || canProviderFullscreen),\n  );\n</script>","import {\n  is_instance_of, is_string, can_play_hls_natively,\n  is_array, is_object, is_number, IS_CLIENT,\n} from '@vime-js/utils';\n\nexport const AUDIO_EXT = /\\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\\?)/i;\nexport const VIDEO_EXT = /\\.(mp4|og[gv]|webm|mov|m4v)($|\\?)/i;\nexport const HLS_EXT = /\\.(m3u8)($|\\?)/i;\nexport const DASH_EXT = /\\.(mpd)($|\\?)/i;\n\nexport const is_media_stream = (src) => IS_CLIENT && is_instance_of(src, window.MediaStream);\nexport const is_hls = (src) => is_string(src) && HLS_EXT.test(src);\nexport const is_dash = (src) => is_string(src) && DASH_EXT.test(src);\nexport const is_audio = (src) => AUDIO_EXT.test(src);\nexport const is_video = (src) => VIDEO_EXT.test(src) || (can_play_hls_natively() && is_hls(src));\n\nexport const is_qualities_set = (src) => is_array(src)\n  && src.every((resource) => is_number(resource.quality));\n\nexport const extract_media_resource = (resource) => {\n  if (is_string(resource) || is_media_stream(resource)) {\n    return resource;\n  } if (is_object(resource)) {\n    return resource.src;\n  }\n  return '';\n};\n\nexport const run_on_every_src = (src, cb) => (is_array(src)\n  ? src.every((resource) => cb(extract_media_resource(resource)))\n  : cb(extract_media_resource(src)));\n\nexport const can_play = (src) => is_media_stream(src)\n  || run_on_every_src(src, is_audio)\n  || run_on_every_src(src, is_video);\n","{#each sources as source}\n  <source \n    src={is_object(source) ? source.src : (source || null)} \n    type={is_object(source) ? source.type : null}\n    quality={is_object(source) ? source.quality : null}\n  />\n{/each}\n\n<script>\n  import { is_object, is_array } from '@vime-js/utils';\n\n  export let src;\n\n  let sources = [];\n\n  $: if (src) {\n    sources = is_array(src) ? src : [src];\n  } else {\n    sources = [];\n  }\n</script>","{#each tracks as track}\n  <track\n    default={track.default}\n    src={track.src}\n    srclang={track.srclang}\n    kind={track.kind}\n    label={track.label}\n  />\n{/each}\n\n<script>\n  export let tracks = [];\n</script>","<svelte:options accessors />\n\n{#if shouldUseAudio}\n  <audio\n    {controls}\n    {crossorigin}\n    bind:this={audio}\n  >\n    <Source src={currentSrc} />\n    <Tracks {tracks} />\n    Media not supported.\n  </audio>\n{:else if shouldUseVideo}\n  <video\n    {controls}\n    {crossorigin}\n    poster={!playbackStarted ? poster : null}\n    preload=\"metadata\"\n    playsinline={playsinline}\n    playsInline={playsinline}\n    x5-playsinline={playsinline}\n    on:mozfullscreenchange={onFullscreenChange}\n    on:webkitfullscreenchange={onFullscreenChange}\n    webkit-playsinline={playsinline}\n    on:enterpictureinpicture={onEnterPiP}\n    on:leavepictureinpicture={onExitPiP}\n    on:webkitpresentationmodechanged={onPresentationModeChange}\n    bind:this={video}\n  >\n    <Source src={currentSrc} />\n    <Tracks {tracks} />\n    Media not supported.\n  </video>\n{/if}\n\n<script context=\"module\">\n  import { can_play } from '@vime-js/core/file';\n\n  const Html5 = {};\n\n  Html5.PLAYBACK_RATES = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 2];\n\n  // @see https://developer.apple.com/documentation/webkitjs/htmlvideoelement/1631913-webkitpresentationmode\n  Html5.WebkitPresentationMode = {\n    PIP: 'picture-in-picture',\n    INLINE: 'inline',\n    FULLSCREEN: 'fullscreen',\n  };\n\n  // @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/track\n  Html5.TextTrack = {\n    Mode: {\n      SHOWING: 'showing',\n      HIDDEN: 'hidden',\n    },\n    Event: {\n      CHANGE: 'change',\n    },\n  };\n\n  // @see https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events\n  Html5.Event = {\n    LOADED_METADATA: 'loadedmetadata',\n    PROGRESS: 'progress',\n    PLAY: 'play',\n    PAUSE: 'pause',\n    PLAYING: 'playing',\n    DURATION_CHANGE: 'durationchange',\n    RATE_CHANGE: 'ratechange',\n    SEEKING: 'seeking',\n    SEEKED: 'seeked',\n    VOLUME_CHANGE: 'volumechange',\n    WAITING: 'waiting',\n    ENDED: 'ended',\n    ERROR: 'error',\n  };\n\n  export const canPlay = can_play;\n</script>\n\n<script>\n  import Source from './Source.svelte';\n  import Tracks from './Tracks.svelte';\n  import MediaType from '../../MediaType';\n  import PlayerState from '../../PlayerState';\n  \n  import {\n    tick, createEventDispatcher, onMount,\n    onDestroy,\n  } from 'svelte';\n\n  import {\n    listen, raf, noop,\n    run_all,\n  } from 'svelte/internal';\n\n  import {\n    is_media_stream, is_qualities_set, run_on_every_src,\n    is_audio, is_video,\n  } from '@vime-js/core/file';\n  \n  import {\n    can_fullscreen_video, can_use_pip_in_chrome, can_use_pip_in_safari,\n    get_computed_width, is_string, can_use_pip,\n    is_number,\n  } from '@vime-js/utils';\n\n  let disposal = [];\n  \n  const dispose = () => {\n    run_all(disposal);\n    disposal = [];\n  };\n\n  onDestroy(dispose);\n\n  let hasMounted = false;\n  onMount(() => { hasMounted = true; });\n\n  const dispatch = createEventDispatcher();\n\n  let info = {};\n  let audio = null;\n  let video = null;\n  let prevMedia = null;\n  let poster = null;\n  let muted = false;\n  let controls = null;\n  let playsinline = null;\n  let aspectRatio = null;\n  let currentSrc = null;\n  let playbackReady = false;\n  let paused = true;\n  let videoQuality = null;\n  let playbackStarted = false;\n\n  export let src;\n  export let crossorigin = null;\n  export let forceVideo = false;\n\n  export const getEl = () => media;\n  export const getMedia = () => media;\n\n  export const setCurrentTime = (newTime) => { media.currentTime = newTime; };\n  export const setMuted = (isMuted) => { muted = isMuted; };\n  export const setPaused = (isPaused) => { isPaused ? media.pause() : media.play().catch(noop); };\n  export const setVolume = (newVolume) => { media.volume = parseFloat(newVolume / 100); };\n  export const setPlaybackRate = (newRate) => { media.playbackRate = newRate; };\n  export const setControls = (isEnabled) => { controls = isEnabled || null; };\n  export const setPlaysinline = (isEnabled) => { playsinline = isEnabled || null; };\n  export const setAspectRatio = (newRatio) => { aspectRatio = newRatio; };\n  export const setVideoQuality = (newVideoQuality) => { videoQuality = newVideoQuality; };\n\n  export const setPoster = (newPoster, canReload = true) => {\n    if (poster === newPoster || !is_string(newPoster)) return;\n    poster = newPoster || null;\n    // eslint-disable-next-line no-use-before-define\n    if (poster && canReload) rebuild();\n  };\n\n  // --------------------------------------------------------------\n  // Picture in Picture\n  // --------------------------------------------------------------\n\n  const PIP_NOT_SUPPORTED_ERROR_MSG = 'PiP not supported.';\n\n  const setChromePiP = (isActive) => {\n    if (!isActive && document.pictureInPictureElement !== video) Promise.reject();\n    isActive ? video.requestPictureInPicture() : document.exitPictureInPicture();\n  };\n\n  const setSafariPiP = (isActive) => {\n    const mode = isActive ? Html5.WebkitPresentationMode.PIP : Html5.WebkitPresentationMode.INLINE;\n    if (!video.webkitSupportsPresentationMode(mode)) {\n      return Promise.reject(PIP_NOT_SUPPORTED_ERROR_MSG);\n    }\n    return video.webkitSetPresentationMode(mode);\n  };\n\n  export const supportsPiP = () => can_use_pip();\n\n  export const setPiP = (isActive) => {\n    if (can_use_pip_in_chrome()) { return setChromePiP(isActive); }\n    if (can_use_pip_in_safari()) { return setSafariPiP(isActive); }\n    return Promise.reject(PIP_NOT_SUPPORTED_ERROR_MSG);\n  };\n\n  // --------------------------------------------------------------\n  // Fullscreen\n  // --------------------------------------------------------------\n\n  const FULLSCREEN_NOT_SUPPORTED_ERROR_MSG = 'Fullscreen not supported.';\n\n  const onFullscreenChange = () => {\n    info.fullscreen = (document.webkitFullscreenElement === video)\n      || (document.mozFullScreenElement === video);\n  };\n\n  export const setFullscreen = (isActive) => {\n    if (!video.webkitSupportsFullscreen) return Promise.reject(FULLSCREEN_NOT_SUPPORTED_ERROR_MSG);\n    return isActive ? video.webkitEnterFullscreen() : video.webkitExitFullscreen();\n  };\n\n  export const supportsFullscreen = () => can_fullscreen_video();\n\n  // --------------------------------------------------------------\n  // Tracks\n  // --------------------------------------------------------------\n\n  let tracks = [];\n  let currentTrackIndex = -1;\n\n  export const setTracks = (newTracks) => {\n    tracks = newTracks || [];\n    currentTrackIndex = -1;\n  };\n\n  export const setTrack = (newIndex) => {\n    const mediaTextTracks = Array.from(media.textTracks);\n    if (currentTrackIndex !== -1) {\n      mediaTextTracks[currentTrackIndex].mode = Html5.TextTrack.Mode.HIDDEN;\n    }\n    if (mediaTextTracks.length > 0 && newIndex !== -1) {\n      const track = mediaTextTracks[newIndex];\n      track.mode = Html5.TextTrack.Mode.SHOWING;\n    }\n    currentTrackIndex = newIndex;\n  };\n\n  const onTracksChange = () => {\n    const mediaTextTracks = Array.from(media.textTracks);\n    const index = mediaTextTracks.findIndex((t) => t.mode === Html5.TextTrack.Mode.SHOWING);\n    if (currentTrackIndex !== index) info.currentTrackIndex = index;\n  };\n\n  // --------------------------------------------------------------\n  // Media\n  // --------------------------------------------------------------\n\n  let timeRaf;\n  \n  const cancelTimeUpdates = () => window.cancelAnimationFrame(timeRaf);\n  onDestroy(cancelTimeUpdates);\n  \n  const getTimeUpdates = () => {\n    info.currentTime = media.currentTime;\n    timeRaf = raf(getTimeUpdates);\n  };\n\n  const listenToMedia = (event, cb) => disposal.push(listen(media, event, cb));\n\n  const onBuffered = () => {\n    const { buffered } = media;\n    const { duration } = media;\n    const end = (buffered.length === 0) ? 0 : buffered.end(buffered.length - 1);\n    info.buffered = (end > duration) ? duration : end;\n  };\n\n  const setupMediaListeners = () => {\n    listenToMedia(Html5.Event.LOADED_METADATA, () => {\n      info.state = PlayerState.CUED;\n      info.playbackRates = Html5.PLAYBACK_RATES;\n      info.mediaType = video ? MediaType.VIDEO : MediaType.AUDIO;\n      if (srcHasQualities) {\n        info.videoQualities = src.map((s) => s.quality);\n        info.videoQuality = videoQuality;\n      }\n      onBuffered();\n      playbackReady = true;\n    });\n    listenToMedia(Html5.Event.PROGRESS, onBuffered);\n    listenToMedia(Html5.Event.PLAY, () => {\n      paused = false;\n      info.play = true;\n      playbackStarted = true;\n    });\n    listenToMedia(Html5.Event.PAUSE, () => {\n      paused = true;\n      info.state = PlayerState.PAUSED;\n    });\n    listenToMedia(Html5.Event.DURATION_CHANGE, () => {\n      info.duration = media.duration;\n      info.isLive = media.duration === Infinity;\n    });\n    listenToMedia(Html5.Event.PLAYING, () => { info.state = PlayerState.PLAYING; });\n    listenToMedia(Html5.Event.RATE_CHANGE, () => { info.playbackRate = media.playbackRate; });\n    listenToMedia(Html5.Event.SEEKING, () => {\n      info.currentTime = media.currentTime;\n      info.seeking = true;\n    });\n    listenToMedia(Html5.Event.SEEKED, () => { info.seeked = true; });\n    listenToMedia(Html5.Event.VOLUME_CHANGE, () => {\n      info.volume = parseInt(media.volume * 100, 10);\n      info.muted = media.muted;\n    });\n    listenToMedia(Html5.Event.WAITING, () => { info.state = PlayerState.BUFFERING; });\n    listenToMedia(Html5.Event.ENDED, () => { info.state = PlayerState.ENDED; });\n    listenToMedia(Html5.Event.ERROR, (e) => dispatch('error', e));\n    disposal.push(listen(media.textTracks, Html5.TextTrack.Event.CHANGE, onTracksChange));\n  };\n\n  const onEnterPiP = () => { info.pip = true; };\n  const onExitPiP = () => { info.pip = false; };\n\n  const onPresentationModeChange = () => {\n    const mode = video.webkitPresentationMode;\n    info.pip = (mode === Html5.WebkitPresentationMode.PIP);\n    info.fullscreen = (mode === Html5.WebkitPresentationMode.FULLSCREEN);\n  };\n\n  const load = async () => {\n    if (!media) return;\n    // Wait for media to load.\n    await tick();\n    media.load();\n  };\n\n  const rebuild = async () => {\n    info.rebuild = true;\n    playbackReady = false;\n    load();\n  };\n\n  const loadMediaStream = () => {\n    currentSrc = null;\n    try {\n      media.srcObject = src;\n    } catch (e) {\n      media.src = window.URL.createObjectURL(src);\n    }\n  };\n\n  const loadNewQuality = async () => {\n    const didChange = src.some((s) => s.quality !== videoQuality);\n    if (!didChange) return;\n    currentSrc = src.filter((s) => s.quality === videoQuality);\n    rebuild();\n  };\n\n  const calcInitialQuality = () => {\n    if (!aspectRatio || videoQuality) return;\n    const videoWidth = get_computed_width(video);\n    const [w, h] = aspectRatio.split(':');\n    const minQuality = (videoWidth / w) * h;\n    const qualities = src.map((s) => s.quality);\n    // @see https://stackoverflow.com/a/35000557\n    const recommendedQuality = qualities.reduce(\n      (prev, curr) => (Math.abs(curr - minQuality) < Math.abs(prev - minQuality) ? curr : prev),\n    );\n    const recommendedIndex = qualities.findIndex((quality) => quality === recommendedQuality);\n    videoQuality = qualities[Math.max(0, (recommendedIndex - 1))];\n  };\n\n  const loadNewSrc = () => {\n    currentSrc = src;\n    if (currentSrc) load();\n  };\n\n  const onSrcChange = () => {\n    playbackReady = false;\n    videoQuality = null;\n    playbackStarted = false;\n    if (is_media_stream(src)) {\n      loadMediaStream();\n    } else {\n      loadNewSrc();\n    }\n  };\n\n  $: media = audio || video;\n  $: if (media) media.muted = muted;\n\n  $: srcHasQualities = video && is_qualities_set(src);\n  $: if (srcHasQualities) calcInitialQuality(src, aspectRatio);\n  $: if (!srcHasQualities) onSrcChange(src);\n  $: if (hasMounted && is_number(videoQuality)) loadNewQuality(videoQuality);\n  $: if (hasMounted) tick().then(() => { info.currentSrc = currentSrc; });\n  $: (playbackReady && !paused) ? getTimeUpdates() : cancelTimeUpdates();\n\n  $: shouldUseAudio = run_on_every_src(src, is_audio) && !is_string(poster);\n\n  $: shouldUseVideo = forceVideo\n    || run_on_every_src(src, is_video)\n    || is_media_stream(src)\n    || is_string(poster);\n\n  // If media is initialized or changed (audio/video/false).\n  $: if (prevMedia !== media) {\n    dispose();\n    if (media) setupMediaListeners();\n    prevMedia = media;\n  }\n\n  $: if (hasMounted) {\n    dispatch('update', info);\n    info = {};\n  }\n</script>\n\n<style>\n  audio, \n  video {\n    border-radius: inherit;\n    vertical-align: middle;\n    width: 100%;\n  }\n\n  video {\n    position: absolute;\n    top: 0;\n    left: 0;\n    border: 0;\n    width: 100%;\n    height: 100%;\n    user-select: none;\n  }\n</style>","<LitePlayer \n  {src}\n  {params}\n  {cookies}\n  providers={[YouTubeProvider]}\n  hasWrapper={false}\n  on:error\n  on:originchange={onOriginChange}\n  on:titlechange={onTitleChange}\n  on:rebuild={onRebuildStart}\n  on:embedurlchange={onEmbedURLChange}\n  on:data={onData}\n  bind:this={litePlayer}\n/>\n\n<script context=\"module\">\n  import VideoQuality from '../VideoQuality';\n  import { can_play } from '@vime-js/core/youtube';\n\n  const YT = {};\n\n  // @see https://developers.google.com/youtube/iframe_api_reference#Events\n  YT.Event = {\n    READY: 'onReady',\n  };\n\n  // @see https://developers.google.com/youtube/iframe_api_reference#Playback_status\n  YT.State = {\n    UNSTARTED: -1,\n    ENDED: 0,\n    PLAYING: 1,\n    PAUSED: 2,\n    BUFFERING: 3,\n    CUED: 5,\n  };\n\n  // @see https://developers.google.com/youtube/iframe_api_reference#Events\n  YT.QualityMap = {\n    unknown: VideoQuality.UNKNOWN,\n    tiny: VideoQuality.XXS,\n    small: VideoQuality.XS,\n    medium: VideoQuality.S,\n    large: VideoQuality.M,\n    hd720: VideoQuality.L,\n    hd1080: VideoQuality.XL,\n    highres: VideoQuality.XXL,\n    max: VideoQuality.MAX,\n  };\n\n  // @see https://developers.google.com/youtube/iframe_api_reference#Playback_controls\n  YT.Command = {\n    PLAY: 'playVideo',\n    PAUSE: 'pauseVideo',\n    SEEK_TO: 'seekTo',\n    MUTE: 'mute',\n    UNMUTE: 'unMute',\n    SET_VOLUME: 'setVolume',\n    SET_PLAYBACK_RATE: 'setPlaybackRate',\n  };\n\n  export const canPlay = can_play;\n</script>\n\n<script>\n  import { onMount, createEventDispatcher } from 'svelte';\n  import { is_number, is_boolean } from '@vime-js/utils';\n  import { fetch_poster } from '@vime-js/core/youtube';\n  import { Player as LitePlayer, YouTubeProvider } from '@vime-js/lite';\n  import MediaType from '../MediaType';\n  import PlayerState from '../PlayerState';\n\n  let litePlayer;\n  let info = {};\n  let duration = 0;\n  let seeking = false;\n  let internalTime = 0;\n  let lastTimeUpdate = 0;\n  let playbackRate = 1;\n  let playerState = -1;\n\n  const params = {\n    rel: 0,\n    fs: 1,\n    iv_load_policy: 3,\n    widget_referrer: window.location.href,\n  };\n\n  const dispatch = createEventDispatcher();\n  const send = (command, args) => litePlayer && litePlayer.sendCommand(command, args);\n\n  export let src = null;\n  export let cookies = false;\n\n  export const getLitePlayer = () => litePlayer;\n  export const getEl = () => (litePlayer ? litePlayer.getEmbed().getIframe() : null);\n\n  export const setMuted = (isMuted) => { isMuted ? send(YT.Command.MUTE) : send(YT.Command.UNMUTE); };\n  export const setVolume = (newVolume) => { send(YT.Command.SET_VOLUME, [newVolume]); };\n  export const setPlaybackRate = (newRate) => { send(YT.Command.SET_PLAYBACK_RATE, [newRate]); };\n  export const setCurrentTime = (newTime) => { send(YT.Command.SEEK_TO, [newTime]); };\n  export const setPlaysinline = (isEnabled) => { params.playsinline = isEnabled ? 1 : 0; };\n\n  export const setPaused = (isPaused) => {\n    isPaused ? send(YT.Command.PAUSE) : send(YT.Command.PLAY);\n  };\n  \n  export const setControls = (isEnabled) => {\n    params.controls = isEnabled ? 1 : 0;\n    params.disablekb = isEnabled ? 0 : 1;\n  };\n\n  export const supportsPiP = () => false;\n  export const supportsFullscreen = () => true;\n\n  let hasMounted = false;\n  onMount(() => {\n    info.mediaType = MediaType.VIDEO;\n    hasMounted = true;\n  });\n  \n  const onRebuildStart = () => { info.rebuild = true; };\n  const onOriginChange = (e) => { info.origin = e.detail; };\n  const onTitleChange = (e) => { info.title = e.detail; };\n  \n  const onEmbedURLChange = (e) => {\n    info.currentSrc = e.detail;\n    info.mediaId = litePlayer.getMediaId();\n  };\n\n  const onStateChange = (state) => {\n    playerState = state;\n    switch (state) {\n      case YT.State.ENDED:\n        info.state = PlayerState.ENDED;\n        break;\n      case YT.State.PLAYING:\n        info.state = PlayerState.PLAYING;\n        break;\n      case YT.State.BUFFERING:\n        info.state = PlayerState.BUFFERING;\n        break;\n      case YT.State.PAUSED:\n        info.state = PlayerState.PAUSED;\n        break;\n      case YT.State.CUED:\n        duration = 0;\n        lastTimeUpdate = 0;\n        internalTime = 0;\n        playbackRate = 1;\n        seeking = false;\n        info.state = PlayerState.CUED;\n        break;\n      default:\n        break;\n    }\n  };\n\n  const calcCurrentTime = (time) => {\n    let currentTime = time;\n    if (playerState === YT.State.PLAYING) {\n      const elapsedTime = (Date.now() / 1E3 - lastTimeUpdate) * playbackRate;\n      if (elapsedTime > 0) currentTime += Math.min(elapsedTime, 1);\n    }\n    return currentTime;\n  };\n\n  const onTimeUpdate = (time) => {\n    const currentTime = calcCurrentTime(time);\n    info.currentTime = currentTime;\n    // Unfortunately while the player is `paused` `seeking` and `seeked` will fire at the\n    // same time, there are no updates at all inbetween -_-.\n    if (Math.abs(internalTime - currentTime) > 2) {\n      seeking = true;\n      info.seeking = true;\n    }\n    internalTime = currentTime;\n  };\n\n  const onBuffered = (buffered) => {\n    info.buffered = buffered;\n    // This is the only way to detect `seeked`.\n    if (seeking && (buffered > internalTime)) {\n      seeking = false;\n      info.seeked = true;\n    }\n  };\n\n  const onInfo = (_info) => {\n    const {\n      volume, muted, availablePlaybackRates: rates,\n      playbackQuality: quality, playbackRate: rate, videoLoadedFraction: loadedFraction,\n      availableQualityLevels: qualities, currentTime,\n      duration: newDuration, playerState: state, currentTimeLastUpdated_,\n    } = _info;\n    if (is_number(state)) onStateChange(state);\n    if (is_number(newDuration)) {\n      duration = parseFloat(newDuration);\n      info.duration = duration;\n    }\n    if (rates) info.playbackRates = rates;\n    if (rate) {\n      playbackRate = parseFloat(rate);\n      info.playbackRate = playbackRate;\n    }\n    if (is_number(currentTimeLastUpdated_)) lastTimeUpdate = currentTimeLastUpdated_;\n    if (is_number(currentTime)) onTimeUpdate(parseFloat(currentTime));\n    if (is_number(loadedFraction)) onBuffered(parseFloat(loadedFraction) * duration);\n    if (is_number(volume)) info.volume = volume;\n    if (is_boolean(muted)) info.muted = muted;\n    if (qualities) {\n      const mappedQualities = qualities.map((q) => YT.QualityMap[q]).filter(Boolean);\n      info.videoQualities = mappedQualities;\n    }\n    if (quality) info.videoQuality = YT.QualityMap[quality];\n  };\n\n  const onData = (e) => {\n    const dInfo = e.detail.info;\n    if (dInfo) onInfo(dInfo);\n  };\n\n  const fetchPoster = () => fetch_poster(src)\n    .then((poster) => { info.poster = poster; })\n    .catch((e) => dispatch('error', e));\n\n  $: if (hasMounted) fetchPoster(src);\n\n  $: if (hasMounted) {\n    dispatch('update', info);\n    info = {};\n  }\n</script>","<svelte:options accessors />\n\n<div\n  tabindex=\"0\"\n  class=\"vime player{classes ? ` ${classes}` : ''}\"\n  class:audio={!$isVideoView}\n  class:video={$isVideoView}\n  class:fullscreen={$isFullscreenActive}\n  class:idle={!$useNativeControls && !$paused && !$isControlsActive}\n  use:vAspectRatio={($isVideoView && !$isFullscreenActive) ? $aspectRatio : null}\n  on:contextmenu={onContextMenu}\n  bind:this={el}\n>\n  <Lazy let:intersecting>\n    {#if intersecting}\n      <div>\n        <div\n          class=\"blocker\"\n          use:vIf={$playbackReady && (!$useNativeControls && $isVideoView)}\n        ></div>\n        <StandardPlayer\n          {...$$restProps}\n          parentEl={el}\n          hasWrapper={false}\n          _standardStore={standardStore}\n          bind:this={standardPlayer}\n          on:error\n        />\n      </div>\n      <PluginsManager\n        player={self}\n        on:register={onPluginMount}\n        on:deregister={onPluginDestroy}\n        bind:this={pluginsManager}\n        on:error\n      />\n    {/if}\n  </Lazy>\n</div>\n\n<script>\n  import { get_current_component } from 'svelte/internal';\n  import { tick as svelteTick, onDestroy, createEventDispatcher } from 'svelte';\n  import { get } from 'svelte/store';\n  import { buildCompleteStore } from './completeStore';\n  import { Lazy } from '@vime-js/lite';\n  import PluginsManager from './PluginsManager.svelte';\n  import PlayerEvent from './PlayerEvent';\n  import Registry from './Registry';\n  import Disposal from './Disposal';\n\n  import {\n    buildStandardStore,\n    Player as StandardPlayer,\n  } from '@vime-js/standard';\n\n  import {\n    log as vimeLog, warn as vimeWarn, error as vimeError,\n    map_store_to_component, is_string, vIf,\n    vAspectRatio,\n  } from '@vime-js/utils';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  let el;\n  let standardPlayer;\n  let pluginsManager;\n  let classes = null;\n\n  let self = get_current_component();\n  onDestroy(() => { self = null; });\n\n  const ID = 'Player';\n  const disposal = new Disposal();\n  const registry = new Registry(ID);\n  const dispatch = createEventDispatcher();\n\n  const standardStore = buildStandardStore(self);\n  const store = buildCompleteStore(standardStore.store);\n\n  const onPropsChange = map_store_to_component(self, store);\n  $: onPropsChange($$props);\n\n  const {\n    paused, theme, isVideoView,\n    useNativeControls, isControlsActive, debug,\n    isFullscreenActive, aspectRatio, playbackReady,\n  } = store;\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  export { classes as class };\n  export const getEl = () => el;\n  export const getRegistry = () => registry;\n  export const getStandardPlayer = () => standardPlayer;\n  export const getPluginsManager = () => pluginsManager;\n  export const getPluginsRegistry = () => pluginsManager && pluginsManager.getRegistry();\n\n  export const tick = () => svelteTick();\n  export const dispose = (cb) => disposal.add(cb);\n  export const requestPiP = () => standardPlayer.requestPiP();\n  export const exitPiP = () => standardPlayer.exitPiP();\n  export const requestFullscreen = () => standardPlayer.requestFullscreen();\n  export const exitFullscreen = () => standardPlayer.exitFullscreen();\n\n  export const createRegistry = (id) => {\n    const subRegistry = new Registry(id);\n    registry.register(id, subRegistry);\n    return subRegistry;\n  };\n\n  export const createLogger = (id) => {\n    const seperator = '::';\n    return {\n      log(...args) { if ($debug) vimeLog(id, seperator, ...args); },\n      warn(...args) { if ($debug) vimeWarn(id, seperator, ...args); },\n      error(...args) { if ($debug) vimeError(id, seperator, ...args); },\n    };\n  };\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  onDestroy(() => dispatch(PlayerEvent.DESTROY));\n\n  const onPluginsManagerMount = async () => {\n    await svelteTick();\n    dispatch(PlayerEvent.MOUNT);\n  };\n\n  const onPluginMount = (e) => {\n    const { id, value: plugin } = e.detail;\n    self[id] = plugin;\n    dispatch(PlayerEvent.PLUGIN_MOUNT, { id, plugin });\n  };\n\n  const onPluginDestroy = (e) => {\n    const id = e.detail;\n    if (self) delete self[id];\n    dispatch(PlayerEvent.PLUGIN_DESTROY, id);\n  };\n\n  const onContextMenu = (e) => {\n    if (!$debug && !get(store.isContextMenuEnabled)) e.preventDefault();\n  };\n\n  const onThemeChange = () => (is_string($theme)\n    ? el.style.setProperty('--color', $theme)\n    : Object.keys($theme).forEach((key) => { el.style.setProperty(`--${key}`, $theme[key]); }));\n\n  $: if (el && $theme) onThemeChange();\n  $: if (pluginsManager) onPluginsManagerMount();\n</script>\n\n<style type=\"text/scss\">\n  @import '../style/common';\n  @import '../style/slider';\n\n  // List of CSS custom properties.\n  // --color\n  // --fontFamily\n  // --fontSizeSmall\n  // --fontSizeMedium\n  // --fontSizeLarge\n  // --fontSizeExtraLarge\n  // --fontWeightLight\n  // --fontWeightRegular\n  // --fontWeighBold\n  // --baseLineHeight\n\n  .player {\n    --fontFamily: 'Helvetica Neue', 'Segoe UI', Helvetica, Arial, sans-serif;\n  }\n\n  .player {\n    box-sizing: border-box;\n    direction: ltr;\n    font-family: var(--fontFamily);\n    -moz-osx-font-smoothing: auto;\n    -webkit-font-smoothing: subpixel-antialiased;\n    -webkit-tap-highlight-color: transparent;\n    font-variant-numeric: tabular-nums;\n    font-weight: $font-weight-bold;\n    line-height: var(--baseLineHeight, 1.7);\n    max-width: 100%;\n    min-width: 375px;\n    position: relative;\n    text-shadow: none;\n    transition: box-shadow 0.3s ease;\n\n    &:focus {\n      outline: 0;\n    }\n\n    :global(*),\n    :global(*::after),\n    :global(*::before) {\n      box-sizing: inherit;\n    }\n\n    :global(button) {\n      font: inherit;\n      line-height: inherit;\n      width: auto;\n\n      &::-moz-focus-inner {\n        border:0;\n      }\n    }\n\n    // Fix 300ms delay\n    :global(a),\n    :global(button),\n    :global(input),\n    :global(label) {\n      touch-action: manipulation;\n    }\n\n    &.fullscreen {\n      background: #000;\n      margin: 0;\n      border-radius: 0 !important;\n      width: 100%;\n      height: 100% !important;\n    }\n\n    &.idle {\n      cursor: none;\n    }\n\n    &.audio {\n      min-width: 300px;\n    }\n\n    &.video {\n      height: 0;\n      background: #000;\n      overflow: hidden;\n    }\n  }\n\n  .blocker {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 1;\n    display: inline-block;\n  }\n</style>\n","<script context=\"module\">\n  export const ID = 'vIcons';\n</script>\n\n<script>\n  import { onMount, onDestroy } from 'svelte';\n  import { load_sprite } from '@vime-js/utils';\n\n  export let player;\n\n  const { icons } = player.getStore();\n\n  let iconsContainer;\n\n  const icon = (id) => `#vime-${id}`;\n  \n  const vimeIcons = {\n    play: icon('play'),\n    pause: icon('pause'),\n    captionsOn: icon('captions-on'),\n    captionsOff: icon('captions-off'),\n    enterFullscreen: icon('enter-fullscreen'),\n    exitFullscreen: icon('exit-fullscreen'),\n    enterPiP: icon('enter-pip'),\n    exitPiP: icon('exit-pip'),\n    seekForward: icon('seek-forward'),\n    seekBackward: icon('seek-backward'),\n    volumeLow: icon('volume-low'),\n    volumeHigh: icon('volume-high'),\n    volumeMute: icon('volume-mute'),\n    settings: icon('settings'),\n    checkmark: icon('checkmark'),\n  };\n\n  onMount(() => {\n    Object.keys(vimeIcons).forEach((id) => {\n      if ($icons[id]) return;\n      $icons = {\n        ...$icons,\n        [id]: vimeIcons[id],\n      };\n    });\n\n    load_sprite('https://cdn.jsdelivr.net/npm/@vime-js/complete/static/sprite.svg')\n      .then((container) => { iconsContainer = container; });\n  });\n\n  onDestroy(() => {\n    Object.keys(vimeIcons).forEach((id) => {\n      if ($icons[id] !== vimeIcons[id]) return;\n      $icons = {\n        ...$icons,\n        [id]: null,\n      };\n    });\n\n    if (iconsContainer) { iconsContainer.parentNode.removeChild(iconsContainer); }\n  });\n</script>","<svelte:options accessors />\n\n<img\n  {alt}\n  src={$currentPoster}\n  use:vIf={isEnabled}\n  use:vShow={isActive}\n  bind:this={el}\n/>\n\n<script context=\"module\">\n  import PluginRole from '../core/PluginRole';\n\n  export const ID = 'vPoster';\n  export const ROLE = PluginRole.POSTER;\n</script>\n\n<script>\n  import { vIf, vShow } from '@vime-js/utils';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    title, currentPoster, playbackStarted,\n    useNativeControls,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let el;\n\n  export let autopilot = true;\n  export let isEnabled = true;\n  export let isActive = false;\n\n  export const getEl = () => el;\n\n  $: alt = $title ? `Poster for ${title}` : 'Media Poster';\n  \n  $: if (autopilot) isEnabled = !$useNativeControls && !!$currentPoster;\n  \n  $: if (autopilot) {\n    $playbackStarted\n      ? (setTimeout(() => { isActive = false; }, 300))\n      : (isActive = true);\n  }\n</script>\n\n<style type=\"text/scss\">\n  img {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    z-index: 1;\n    pointer-events: none;\n    object-fit: cover;\n  }\n</style>","<svelte:options accessors />\n\n<div \n  use:vIf={isEnabled}\n  use:vShow={isActive}\n></div>\n\n<script context=\"module\">\n  export const ID = 'vScrim';\n</script>\n\n<script>\n  import { vIf, vShow } from '@vime-js/utils';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n  \n  export let player;\n\n  const {\n    isVideoView, playbackStarted, paused,\n    isControlsActive, isMobile, useNativeControls,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  export let autopilot = true;\n  export let isEnabled = true;\n  export let isActive = false;\n\n  $: if (autopilot) isEnabled = $isVideoView && !$useNativeControls;\n  $: if (autopilot) isActive = ($isMobile && $playbackStarted) && ($paused || $isControlsActive);\n</script>\n\n<style type=\"text/scss\">\n  @import '../style/common';\n\n  div {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 1;\n    background: $color-gray-300;\n    pointer-events: none;\n  }\n</style>","<svelte:options accessors />\n\n<div \n  use:vIf={isEnabled}\n  use:vShow={isActive}\n  bind:this={el}\n>\n  <div>Loading...</div>\n</div>\n\n<script context=\"module\">\n  export const ID = 'vSpinner';\n</script>\n\n<script>\n  import { vIf, vShow } from '@vime-js/utils';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    buffering, isVideoView, useNativeControls,\n    Provider, playbackStarted,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let el;\n\n  // Providers that have their own spinners which can't be hidden.\n  const bannedProviders = ['Vimeo', 'YouTube'];\n\n  export let autopilot = true;\n  export let isEnabled = true;\n  export let isActive = false;\n\n  $: if (autopilot) isActive = $buffering;\n  \n  $: if (autopilot) {\n    isEnabled = ($isVideoView && !$useNativeControls)\n    && !($Provider && bannedProviders.includes($Provider.default.name) && $playbackStarted);\n  }\n</script>\n\n<style type=\"text/scss\">\n  @import '../style/common';\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  div {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 2;\n    pointer-events: none;\n\n    div {\n      background: transparent;\n      margin: 60px auto;\n      font-size: 10px;\n      position: relative;\n      text-indent: -9999em;\n      border-top: 3px solid #fff;\n      border-left: 3px solid #fff;\n      border-right: 3px solid $color-white-200;\n      border-bottom: 3px solid $color-white-200;\n      transform: translateZ(0);\n      animation: spin 1.1s infinite linear;\n\n      &,\n      &::after {\n        border-radius: 50%;\n        width: 60px;\n        height: 60px;\n      }\n    }\n  }\n</style>","<svelte:options accessors />\n\n<div\n  class:withControls={!$isMobile && $isControlsActive}\n  class:fullscreen={$isFullscreenActive}\n  class:mobile={$isMobile}\n  use:vShow={!$useNativeCaptions && $isVideoView}\n>\n  <span use:vIf={isCueActive} >\n    {@html getCueContent($currentCue)}\n  </span>\n</div>\n\n<script context=\"module\">\n  import PluginRole from '../core/PluginRole';\n\n  export const ID = 'vCaptions';\n  export const ROLE = PluginRole.CAPTIONS;\n</script>\n\n<script>\n  import { tick } from 'svelte';\n  import { element, listen, append } from 'svelte/internal';\n  import { derived } from 'svelte/store';\n  \n  import {\n    is_number, is_instance_of, private_writable,\n    map_store_to_component, vIf, vShow,\n  } from '@vime-js/utils';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n  \n  export let player;\n  export let useLocale = true;\n  export let crossorigin = null;\n  \n  const logger = player.createLogger(ID);\n  \n  const {\n    isMobile, isFullscreenActive, isControlsActive,\n    currentTrackIndex, currentTime, useNativeCaptions,\n    tracks, locale, isVideoView,\n  } = player.getStore();\n  \n  const buildStore = () => {\n    const store = {};\n    store.cues = private_writable([]);\n    store.currentCueIndex = private_writable(-1);\n    store.currentCue = derived(\n      [store.cues, store.currentCueIndex],\n      ([$currentCues, $index]) => (($currentCues.length >= 0) ? $currentCues[$index] : null),\n    );\n    store.activeCues = private_writable([]);\n    return store;\n  };\n  \n  const store = buildStore();\n  const onPropsChange = map_store_to_component(null, store);\n  \n  $: onPropsChange($$props);\n  \n  const {\n    cues, currentCueIndex, currentCue,\n    activeCues,\n  } = store;\n\n  // --------------------------------------------------------------\n  // Cues\n  // --------------------------------------------------------------\n  let isCueActive = false;\n  \n  const shouldCueBeActive = (cue) => ($currentTime >= cue.startTime) && ($currentTime <= cue.endTime);\n  \n  const getCueContent = (cue) => {\n    if (!cue) return '';\n    const div = element('div');\n    append(div, cue.getCueAsHTML());\n    return div.innerHTML.trim();\n  };\n  \n  const findNextCueIndex = (start) => {\n    let index = start;\n    while (\n      index >= 0\n      && index < ($cues.length - 1)\n      && $currentTime > $cues[index].startTime\n      && !shouldCueBeActive($cues[index])\n    ) {\n      index += 1;\n    }\n    return index;\n  };\n  \n  const validateCue = (cue) => {\n    if (!is_instance_of(cue, window.VTTCue)) {\n      logger.warn(`invalid cue with \\`label\\` [${cue.label}] must be an instance of window.VTTCue`);\n      return false;\n    }\n    return true;\n  };\n\n  const onCuesChange = () => {\n    if ($currentCueIndex >= 0 && $cues[$currentCueIndex]) return;\n    if ($cues.length > 0) $currentCueIndex = findNextCueIndex(0);\n  };\n\n  export const addCue = (cue) => {\n    if (!validateCue(cue)) return;\n    let index = 0;\n    while ($cues[index] && ($cues[index].endTime < cue.startTime)) index += 1;\n    $cues.splice(index, 0, cue);\n    $cues = $cues;\n  };\n\n  export const addCues = (newCues) => { newCues.map(addCue); };\n\n  export const removeCue = (value) => {\n    const index = is_number(value) ? value : $cues.findIndex((cue) => cue === value);\n    if (index <= 0 || index >= $cues.length) {\n      logger.warn('could not remove cue because it could not be found or index was out of bounds');\n      return;\n    }\n    $cues.splice(index, 1);\n    $cues = $cues;\n  };\n\n  export const removeCues = (values) => { values.map(removeCue); };\n\n  $: if ($currentCue && ($currentCueIndex < $cues.length - 1) && $currentTime > $currentCue.endTime) {\n    $currentCueIndex = findNextCueIndex($currentCueIndex);\n  }\n\n  $: if ($currentCueIndex > 0 && $currentTime < $cues[$currentCueIndex - 1].endTime) {\n    $currentCueIndex = findNextCueIndex(0);\n  }\n\n  $: isCueActive = ($currentCue && $currentTime >= 0 && shouldCueBeActive($currentCue));\n  $: isCueActive ? ($activeCues = [$currentCue]) : ($activeCues = []);\n  $: onCuesChange($cues);\n\n  // --------------------------------------------------------------\n  // Tracks\n  // --------------------------------------------------------------\n  \n  export const hasTrack = () => $currentTrackIndex !== -1;\n  \n  const buildTrack = (track) => {\n    const el = element('track');\n    el.default = true;\n    el.src = track.src;\n    el.kind = track.kind;\n    el.label = track.label;\n    el.srclang = track.srclang;\n    return el;\n  };\n  \n  // TODO: Fix IE captions if CORS is used.\n  // Fetch captions and inject as blobs instead (data URIs not supported).\n  const loadCues = () => {\n    const media = element('audio');\n    media.crossorigin = crossorigin;\n    const track = buildTrack($tracks[$currentTrackIndex]);\n    listen(track, 'load', () => {\n      const newCues = Array.from(media.textTracks[0].cues);\n      $cues = newCues;\n    }, { once: true });\n    append(media, track);\n  };\n  \n  const onTrackChange = () => {\n    $cues = [];\n    $currentCueIndex = -1;\n    hasTrack() ? loadCues() : onCuesChange();\n  };\n  \n  const onTracksChange = async () => {\n    await tick();\n    if (!hasTrack()) $currentTrackIndex = $tracks.findIndex((t) => t.default);\n  };\n  \n  $: onTracksChange($isVideoView ? $tracks : []);\n  $: onTrackChange($isVideoView ? $currentTrackIndex : -1, crossorigin);\n\n  $: if (useLocale && $isVideoView) {\n    const index = $tracks.findIndex((t) => t.srclang === $locale);\n    if (index >= 0) $currentTrackIndex = index;\n  }\n</script>\n\n<style type=\"text/scss\">\n  @import '../style/common';\n  \n  // Container (cues)\n  div {\n    bottom: 0;\n    color: #fff;\n    font-size: $font-size-medium;\n    left: 0;\n    padding: $control-spacing;\n    position: absolute;\n    text-align: center;\n    transition: transform 0.4s ease-in-out;\n    width: 100%;\n    \n    &.withControls {\n      transform: translateY(-($control-spacing * 4) - 8);\n      \n      &.mobile {\n        transform: translateY(-($control-spacing * 4));\n      }\n    }\n    \n    @media (min-width: $bp-sm) {\n      font-size: $font-size-small;\n      padding: ($control-spacing * 2);\n    }\n    \n    @media (min-width: $bp-md) {\n      font-size: $font-size-large;\n    }\n    \n    &.fullscreen {\n      @media (min-width: $bp-lg) {\n        font-size: $font-size-extra-large;\n      }\n    }\n  }\n  \n  // Cue\n  span {\n    background: $color-gray-600;\n    border-radius: 2px;\n    box-decoration-break: clone;\n    line-height: 185%;\n    padding: 0.2em 0.5em;\n    white-space: pre-wrap;\n    \n    // Firefox adds a <div> when using getCueAsHTML()\n    :global(div) {\n      display: inline;\n    }\n    \n    &:empty {\n      display: none;\n    }\n  }\n</style>","export const get_playback_icon = (icons, paused) => (paused ? icons.play : icons.pause);\n\nexport const get_captions_icon = (icons, active) => (active\n  ? icons.captionsOn\n  : icons.captionsOff);\n\nexport const get_fullscreen_icon = (icons, active) => (active\n  ? icons.exitFullscreen\n  : icons.enterFullscreen);\n\nexport const get_pip_icon = (icons, active) => (active ? icons.exitPiP : icons.enterPiP);\n\nexport const get_volume_icon = (icons, muted, volume) => {\n  const volumeIcon = (volume < 50) ? icons.volumeLow : icons.volumeHigh;\n  return (muted || (volume === 0)) ? icons.volumeMute : volumeIcon;\n};\n","<svg role=\"presentation\" focusable=\"false\">\n  <use href={icon}></use>\n</svg>\n\n<script>\n  export let icon;\n</script>\n\n<style>\n  svg {\n    display: block;\n    fill: currentColor;\n    pointer-events: none;\n    width: 18px;\n    height: 18px;\n  }\n</style>","<svelte:options accessors />\n  \n<div \n  class=\"container\"\n  use:vIf={isEnabled && value}\n  bind:this={valueContainer}\n>\n  <div \n    class=\"value\" \n    class:show\n  >\n    {value}\n  </div>\n</div>\n  \n<div \n  class=\"container\"\n  use:vIf={isEnabled && icon}\n  bind:this={actionContainer}\n>\n  <div\n    class=\"action\"\n    class:show \n    bind:this={iconRef}\n  >\n    <Icon {icon} />\n  </div>\n</div>\n\n<script context=\"module\">\n  export const ID = 'vActionDisplay';\n</script>\n\n<script>\n  import { tick } from 'svelte';\n  import { vIf } from '@vime-js/utils';\n  import Icon from '../core/Icon.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    isMobile, isControlsEnabled, playbackReady,\n    isVideoView, useNativeControls,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let timer;\n  let icon;\n  let value;\n  let iconRef;\n  let show = false;\n\n  let valueContainer;\n  let actionContainer;\n\n  export let autopilot = true;\n  export let isEnabled = true;\n\n  $: if (autopilot) {\n    isEnabled = $isControlsEnabled\n      && $playbackReady\n      && $isVideoView\n      && !$isMobile\n      && !$useNativeControls;\n  }\n\n  export const run = async (i, v = null) => {\n    icon = i;\n    value = v;\n    window.clearTimeout(timer);\n    show = false;\n    await tick();\n    // eslint-disable-next-line no-void\n    if (iconRef) void iconRef.offsetWidth; // Trigger reflow\n    show = true;\n    timer = setTimeout(() => { show = false; }, 600);\n  };\n</script>\n\n<style type=\"text/scss\">\n  @import '../style/common';\n\n  @keyframes expand {\n    25% {\n      opacity: 0.1;\n    }\n    50% {\n      opacity: 0.38;\n    }\n    100% {\n      opacity: 0;\n      transform: scale(2);\n    }\n  }\n\n  .container {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    z-index: 2;\n    pointer-events: none;\n  }\n\n  .value {\n    margin-top: $control-spacing * 2;\n    background: $color-gray-400;\n    color: #fff;\n    font-size: $font-size-extra-large;\n    padding: $control-spacing ($control-spacing * 4);\n    border-radius: 2px;\n    opacity: 0;\n    transition: opacity 0.6s ease-in-out;\n\n    &.show {\n      opacity: 1;\n    }\n  }\n\n  .action {\n    display: flex;\n    align-items: center;\n    justify-content:center;\n    margin: auto 0;\n    background: #000;\n    border: 0;\n    border-radius: 100%;\n    color: #fff;\n    width: 50px;\n    height: 50px;\n    opacity: 0;\n\n    &.show {\n      animation: expand 0.6s ease-in-out;\n    }\n  }\n</style>","<svelte:options accessors />\n\n<script context=\"module\">\n  export const ID = 'vClickToPlay';\n</script>\n\n<script>\n  import { listen } from 'svelte/internal';\n  import { onDestroy } from 'svelte';\n  import { get_playback_icon } from '../utils';\n  import { ID as ActionDisplayId } from './ActionDisplay.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    icons, paused, isControlsEnabled,\n    canInteract, isVideoView, isMobile,\n    useNativeControls,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n  \n  export let autopilot = true;\n  export let isEnabled = true;\n\n  $: if (autopilot) {\n    isEnabled = $isControlsEnabled\n      && $canInteract\n      && $isVideoView\n      && !$isMobile\n      && !$useNativeControls;\n  }\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const onToggle = () => {\n    $paused = !$paused;\n    const icon = get_playback_icon($icons, !$paused);\n    if (player[ActionDisplayId]) player[ActionDisplayId].run(icon);\n  };\n\n  let timer;\n  let onClickListener;\n  const bindClickListener = () => {\n    const onClick = (e) => {\n      window.clearTimeout(timer);\n      // Using a timer to avoid interfering with double clicking.\n      timer = setTimeout(() => {\n      // TODO: this is probably not ideal, need a better solution.\n        const isInputNode = ['BUTTON', 'INPUT'].includes(e.target.nodeName);\n        if (e.detail === 1 && !isInputNode) onToggle();\n      }, 300);\n    };\n    onClickListener = listen(player.getEl(), 'click', onClick);\n  };\n\n  const unbindClickListener = () => {\n    if (onClickListener) onClickListener();\n    timer = null;\n    onClickListener = null;\n  };\n\n  onDestroy(unbindClickListener);\n\n  $: if (isEnabled && !onClickListener) {\n    bindClickListener();\n  } else if (!isEnabled && onClickListener) {\n    unbindClickListener();\n  }\n</script>","<svelte:options accessors />\n\n{#if isEnabled && title}\n  <span\n    {id}\n    role=\"tooltip\"\n    class:audio={!$isVideoView}\n    class:onTop\n    class:onBottom\n    class:growLeft\n    class:growRight\n    aria-hidden={!isActive || $isTouch}\n    bind:this={el}\n  >\n    {(showHint && hint) ? `${title} (${hint})` : title}\n  </span>\n{/if}\n\n<script>\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const { isTouch, isVideoView } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let el;\n  let onTop = true;\n  let onBottom = false;\n  let growLeft = false;\n  let growRight = false;\n\n  export let id = null;\n  export let title = null;\n  export let hint = null;\n  export let isEnabled = true;\n  export let isActive = false;\n  export let showHint = true;\n  export let noBounding = false;\n\n  export const getEl = () => el;\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const onBound = () => {\n    const rect = el.getBoundingClientRect();\n    const bounds = player.getEl().getBoundingClientRect();\n    if ($isVideoView) {\n      onBottom = onBottom ? (rect.top - bounds.top > rect.height) : (rect.top <= bounds.top);\n      onTop = !onBottom;\n    } else {\n      onBottom = false;\n      onTop = true;\n    }\n    growLeft = growLeft ? (rect.right - bounds.right) < rect.width : (rect.right - bounds.right) > 0;\n    growRight = growRight ? (rect.left - bounds.left) < rect.width : (bounds.left - rect.left) > 0;\n  };\n\n  $: if (el && !noBounding) onBound(title, isActive, $isVideoView);\n</script>\n\n<style type=\"text/scss\">\n  @import '../../style/common';\n  \n  $tooltip-padding: ($control-spacing / 2);\n\n  span {\n    background: $color-dark;\n    border-radius: 3px;\n    box-shadow: 0 0 2px $color-gray-500;\n    color: $color-white-700;\n    font-size: $font-size-small;\n    font-weight: $font-weight-regular;\n    line-height: 1.3;\n    opacity: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    padding: $tooltip-padding;\n    pointer-events: none;\n    position: absolute;\n    transition: opacity 0.2s ease;\n    white-space: nowrap;\n    z-index: 10;\n\n    &[aria-hidden='false'] {\n      opacity: 1;\n    }\n\n    &.onTop {\n      bottom: 100%;\n      margin-bottom: $control-spacing;\n    }\n\n    &.onBottom {\n      top: 100%;\n      margin-top: $control-spacing;\n    }\n\n    &.growLeft {\n      left: auto;\n      right: 0;\n      transform: none;\n    }\n\n    &.growRight {\n      left: 0;\n      transform: none;\n    }\n\n    &.audio {\n      background: #fff;\n      color: $color-dark;\n      box-shadow: 0 0 2px $color-gray-500 !important;\n    }\n  }\n</style>","<svelte:options accessors />\n\n<script context=\"module\">\n  export const ID = 'vTooltips';\n</script>\n\n<script>\n  /* eslint-disable no-param-reassign */\n\n  import { is_instance_of } from '@vime-js/utils';\n  import Tooltip from './Tooltip.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const logger = player.createLogger(ID);\n\n  const validateTooltip = (id, tooltip) => {\n    if (!tooltip || !is_instance_of(tooltip, Tooltip)) {\n      logger.warn(\n        `attempted to register tooltip with \\`id\\` [${id}] but received invalid `\n      + 'value, must be an instance of `Tooltip.svelte`',\n      );\n      return false;\n    }\n    // eslint-disable-next-line no-use-before-define\n    tooltip.isEnabled = isEnabled;\n    return true;\n  };\n\n  const registry = player.createRegistry(ID, validateTooltip);\n  \n  const {\n    isMobile, isTouch, isControlsEnabled,\n    useNativeControls,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  export let autopilot = true;\n  export let showHints = true;\n  export let isEnabled = true;\n\n  export const getRegistry = () => registry;\n  export const getTooltipComponent = () => Tooltip;\n  export const getTooltips = () => registry.getValues();\n  export const getTooltip = (id) => registry.getValue(id);\n\n  export const createTooltip = (id, target) => {\n    const tooltip = new Tooltip({ target });\n    registry.register(id, target);\n    return tooltip;\n  };\n\n  export const removeTooltip = (id) => {\n    const tooltip = registry.getValue(id);\n    tooltip.$destroy();\n    registry.deregister(id);\n  };\n\n  $: if (autopilot) {\n    isEnabled = !$isMobile\n      && !$isTouch\n      && $isControlsEnabled\n      && !$useNativeControls;\n  }\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  $: Object.values($registry).forEach((tooltip) => { tooltip.isEnabled = isEnabled; });\n  $: Object.values($registry).forEach((tooltip) => { tooltip.showHint = showHints; });\n</script>","<svelte:options accessors />\n\n<script context=\"module\">\n  export const ID = 'vKeyboard';\n</script>\n\n<script>\n  import { onMount, onDestroy } from 'svelte';\n  import { listen } from 'svelte/internal';\n  import { is_array } from '@vime-js/utils';\n  import { ID as TooltipsID } from '../tooltips/Tooltips.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const logger = player.createLogger(ID);\n\n  const validateEvent = (id, event) => {\n    if (!event || !event.keys) {\n      logger.warn(`event with \\`id\\` [${id}] is missing a \\`keys\\` prop`);\n      return false;\n    }\n    return true;\n  };\n\n  const registry = player.createRegistry(ID, validateEvent);\n  const plugins = player.getPluginsRegistry();\n  const { isPlayerActive, useNativeControls } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  export let autopilot = true;\n  export let isEnabled = false;\n\n  export const getRegistry = () => registry;\n  export const getShortcuts = registry.getValues();\n  export const getShortcut = (id) => registry.getValue(id);\n  export const addShortcut = (id, shortcut) => { registry.register(id, shortcut); };\n  export const removeShortcut = (id) => { registry.deregister(id); };\n  export const removeShortcuts = (ids) => { ids.map(removeShortcut); };\n\n  export const updateShortcut = (id, shortcut) => {\n    const prevState = registry.getValue(id);\n    removeShortcut(id);\n    addShortcut(id, { ...prevState, ...shortcut });\n  };\n  \n  $: if (autopilot) isEnabled = !$useNativeControls;\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  let keyDownListener;\n\n  const onKeyDown = (e) => {\n    if (!$isPlayerActive || !isEnabled) return;\n  \n    const listeners = Object.values($registry)\n      .filter((o) => (is_array(o.keys) ? o.keys : [o.keys]).includes(e.keyCode));\n\n    if (listeners.length > 0) {\n      e.preventDefault();\n      listeners.forEach((l) => l.action && l.action(e));\n    }\n  };\n\n  onMount(() => {\n    keyDownListener = listen(player.getEl(), 'keydown', onKeyDown);\n  });\n\n  onDestroy(() => {\n    if (keyDownListener) keyDownListener();\n  });\n\n  // --------------------------------------------------------------\n  // Tooltips Plugin\n  // --------------------------------------------------------------\n\n  $: tooltips = $plugins[TooltipsID];\n  $: tooltipsRegistry = tooltips && tooltips.getRegistry();\n\n  $: if ($tooltipsRegistry) {\n    Object.keys($registry).forEach((id) => {\n      const tooltip = $tooltipsRegistry[id];\n      if (tooltip) {\n        tooltip.hint = $registry[id].hint;\n        tooltip.showHint = isEnabled;\n      }\n    });\n  }\n</script>","<svelte:options accessors />\n\n<svelte:window\n  on:keydown={onWindowKeyDown}\n  on:click=\"{() => { isActive = false; }}\"\n/>\n\n<ul\n  role=\"menu\"\n  tabindex=\"-1\"\n  aria-hidden={!isActive}\n  {...$$restProps}\n  on:click|stopPropagation\n  on:keydown\n  on:keydown|stopPropagation={onKeyDown}\n  on:focus={onMenuOpen}\n  bind:this={el}\n>\n  <slot />\n</ul>\n\n<script context=\"module\">\n  const Event = {\n    OPEN: 'open',\n    CLOSE: 'close',\n  };\n</script>\n\n<script>\n  import { tick, createEventDispatcher, onMount } from 'svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  const dispatch = createEventDispatcher();\n\n  const KeyCode = Object.freeze({\n    TAB: 9,\n    ENTER: 13,\n    ESC: 27,\n    SPACE: 32,\n    PAGEUP: 33,\n    PAGEDOWN: 34,\n    END: 35,\n    HOME: 36,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n  });\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let el;\n  let choices;\n  let focusedChoiceIndex = -1;\n\n  export let isActive = false;\n\n  export const getEl = () => el;\n  export const getFocusedChoice = () => choices[focusedChoiceIndex];\n  export const getFocusedChoiceIndex = () => focusedChoiceIndex;\n  export const getChoices = () => choices;\n  export const getSubmenu = (choice) => document.getElementById(choice.getAttribute('aria-controls'));\n  \n  export const focus = () => el.focus();\n  \n  export const focusChoice = (index) => {\n    if (index === -1) {\n      focusedChoiceIndex = choices.length - 1;\n    } else if (index === choices.length) {\n      focusedChoiceIndex = 0;\n    } else {\n      focusedChoiceIndex = index;\n    }\n    choices[focusedChoiceIndex].focus();\n  };\n\n  export const focusController = () => {\n    const controller = document.getElementById($$props['aria-labelledby']);\n    if (controller) controller.focus();\n  };\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const updateChoices = async () => {\n    await tick();\n    choices = document.querySelectorAll(`#${$$props.id} > li > button`);\n  };\n\n  onMount(updateChoices);\n\n  const onWindowKeyDown = (e) => {\n    if (e.keyCode === KeyCode.ESC) isActive = false;\n  };\n\n  const onMenuOpen = () => {\n    updateChoices();\n    focusedChoiceIndex = 0;\n    // Prevents forwarding click event that opened the menu to the choice.\n    setTimeout(() => { choices[focusedChoiceIndex].focus(); }, 10);\n    isActive = true;\n  };\n\n  const onMenuClose = () => {\n    focusedChoiceIndex = -1;\n    focusController();\n    isActive = false;\n  };\n\n  const onOpenSubmenu = async () => {\n    const choice = choices[focusedChoiceIndex];\n    choice.click();\n    await tick();\n    const submenu = getSubmenu(choice);\n    if (submenu) submenu.focus();\n  };\n\n  const onKeyDown = (e) => {\n    const { keyCode } = e;\n    const isValidKeyCode = Object.values(KeyCode).includes(keyCode);\n\n    if (isValidKeyCode) { e.preventDefault(); }\n\n    switch (keyCode) {\n      case KeyCode.ESC:\n        onMenuClose();\n        break;\n      case KeyCode.DOWN:\n      case KeyCode.TAB:\n        focusChoice(focusedChoiceIndex + 1);\n        break;\n      case KeyCode.HOME: case KeyCode.PAGEUP:\n        focusChoice(0);\n        break;\n      case KeyCode.END: case KeyCode.PAGEDOWN:\n        focusChoice(choices.length - 1);\n        break;\n      case KeyCode.UP:\n        focusChoice(focusedChoiceIndex - 1);\n        break;\n      case KeyCode.LEFT:\n        onMenuClose();\n        break;\n      case KeyCode.ENTER: case KeyCode.SPACE:\n        onOpenSubmenu();\n        break;\n      case KeyCode.RIGHT:\n        onOpenSubmenu();\n        break;\n      default:\n        break;\n    }\n  };\n\n  $: dispatch(isActive ? Event.OPEN : Event.CLOSE);\n</script>\n\n<style type=\"text/scss\">\n  @import '../../../style/common';\n\n  ul {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    font-size: $font-size-medium;\n    font-weight: $font-weight-regular;\n    position: relative;\n    overflow: hidden;\n    text-align: left;\n    white-space: nowrap;\n    z-index: 3;\n    list-style-type: none;\n\n    &[aria-hidden='true'] {\n      display: none;\n    }\n\n    &:focus {\n      outline: 0;\n    }\n  }\n</style>","<svelte:options accessors />\n\n<button\n  class:mobile={$isMobile}\n  class:audio={!$isVideoView}\n  class:videoFocus={!$isTouch}\n  class:audioFocus={!$isVideoView && !$isTouch}\n  class:touchHighlight={showHighlight}\n  use:vFocus\n  use:vHighlight\n  on:click\n  on:highlightchange=\"{(e) => { showHighlight = e.detail; }}\"\n  aria-label={title}\n  {...$$restProps}\n>\n  <Icon icon={$icons.checkmark} />\n  <span class=\"arrow left\"></span>\n  <span>{title}</span>\n  <span \n    class=\"hint\" \n    use:vIf={hint}\n  >\n    {hint}\n  </span>\n  <span \n    class=\"badge\"\n    use:vIf={badge}\n  >\n    {badge}\n  </span>\n  <span class=\"arrow right\"></span>\n</button>\n\n<script>\n  import Icon from '../../../core/Icon.svelte';\n  import { vIf, vFocus, vHighlight } from '@vime-js/utils';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    isMobile, isVideoView, isTouch, icons,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let showHighlight = false;\n\n  export let title = '';\n  export let hint = null;\n  export let badge = null;\n</script>\n\n<style type=\"text/scss\">\n  @import '../../../style/common';\n\n  button {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    width: 100% !important;\n    font-size: $menu-item-font-size !important;\n    font-weight: $font-weight-regular !important;\n    padding: 4px ($control-padding * 2);\n    border: 0;\n    margin: 0;\n    cursor: pointer;\n    color: #fff;\n    background: inherit;\n\n    &:focus {\n      outline: 0;\n    }\n\n    &.mobile {\n      padding: 12px ($control-padding * 2);\n    }\n\n    &.audio {\n      background: #fff;\n      color: $color-gray-600;\n\n      .hint, .badge {\n        color: $color-gray-600;\n      }\n    }\n\n    &.videoFocus {\n      &:hover,\n      &:focus {\n        background: $color-white-100;\n      }\n    }\n\n    &.audioFocus {\n      &:hover,\n      &:focus {\n        background: $color-gray-100;\n      }\n    }\n\n    &.touchHighlight {\n      background: $color-white-100;\n\n      &.audio {\n        background: $color-gray-100;\n      }\n    }\n  \n    &[aria-hidden='true'] {\n      display: none;\n    }\n\n    &[aria-disabled='true'] .arrow {\n      display: none !important;\n    }\n\n    &[aria-expanded='true'] {\n      .arrow.left {\n        display: inline-block;\n      }\n\n      .hint {\n        display: none;\n      }\n    }\n\n    &[aria-expanded='false'] {\n      .arrow.right {\n        display: inline-block;\n      }\n    }\n\n    &[aria-checked] {\n      :global(svg) {\n        display: inline-block;\n      }\n\n      .hint {\n        display: none;\n      }\n    }\n\n    &[aria-checked='true'] :global(svg) {\n      opacity: 1;\n      transition: opacity 0.3s ease;\n    }\n\n    :global(svg) {\n      opacity: 0;\n      display: none;\n      fill: currentColor;\n      pointer-events: none;\n      width: 10px;\n      height: 10px;\n      margin-right: 10px;\n      transition: opacity 0.3s ease;\n    }\n  }\n\n  .hint {\n    margin-left: auto;\n    overflow: hidden;\n    padding-left: ceil($control-padding * 3.5);\n    pointer-events: none;\n    font-size: 13px;\n    opacity: 0.54;\n    color: #fff;\n  }\n\n  .badge {\n    color: #fff;\n    font-size: 10px;\n    line-height: 1;\n    padding-left: 4px;\n    overflow: hidden;\n    pointer-events: none;\n  }\n  \n  .arrow {\n    border: 2px solid;\n    color: inherit;\n    border-width: 0 2px 2px 0;\n    padding: 2px;\n    display: none;\n\n    &.left {\n      margin-right: $control-padding;\n      transform: rotate(135deg);\n    }\n\n    &.right {\n      transform: rotate(-45deg);\n      margin-left: $control-padding;\n      opacity: 0.38;\n    }\n  }\n</style>","<svelte:options accessors />\n\n<li>\n  <MenuControl \n    {id}\n    {title}\n    {hint}\n    {player}\n    role=\"menuitem\"\n    {...$$restProps}\n    on:click\n    bind:this={menuControl}\n  />\n  <slot />\n</li>\n\n<script>\n  import MenuControl from './MenuControl.svelte';\n  \n  export let player;\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let menuControl;\n\n  export let id = null;\n  export let title = null;\n  export let hint = null;\n\n  export const getMenuControl = () => menuControl;\n</script>","<svelte:options accessors />\n\n{#if isEnabled}\n  <MenuItem\n    id={controllerId}\n    {player}\n    {title}\n    {hint}\n    aria-hidden={hideController}\n    aria-haspopup={!isLocked ? true : null}\n    aria-expanded={!isLocked ? isActive : null}\n    aria-controls={!isLocked ? id : null}\n    on:click={onToggleMenu}\n  >\n    {#if !isLocked}\n      <div \n        class=\"divider\"\n        class:audio={!$isVideoView}\n        class:active={isActive}\n        bind:this={divider}\n      ></div>\n      <Menu \n        {id}\n        bind:isActive\n        aria-labelledby={controllerId}\n        on:open\n        on:close\n        bind:this={menu}\n      >\n        <slot />\n      </Menu>\n    {/if}\n  </MenuItem>\n{/if}\n\n<script context=\"module\">\n  let menuIdCounter = 0;\n</script>\n\n<script>\n  import Menu from '../Menu.svelte';\n  import MenuItem from '../MenuItem.svelte';\n\n  // eslint-disable-next-line prefer-const\n  menuIdCounter += 1;\n  const id = `v-submenu-${menuIdCounter}`;\n  const controllerId = `v-submenu-control-${menuIdCounter}`;\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const { isVideoView } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let menu;\n  let divider;\n\n  export let title = null;\n  export let hint = null;\n  export let isActive = false;\n  export let isLocked = false;\n  export let isEnabled = true;\n  export let hideController = false;\n\n  export const getId = () => id;\n  export const getControllerId = () => controllerId;\n  export const getMenu = () => menu;\n  export const getDivider = () => divider;\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const onToggleMenu = () => {\n    if (isLocked) return;\n    isActive = !isActive;\n  };\n</script>\n\n<style type=\"text/scss\">\n  @import '../../../../style/common';\n\n  .divider {\n    width: 100%;\n    margin: 4px 0;\n    border: 0.5px solid;\n    border-color: $color-white-100;\n    display: none;\n\n    &.audio {\n      border-color: $color-gray-100;\n    }\n\n    &.active {\n      display: block;\n    }\n  }\n</style>","<svelte:options accessors />\n\n<button\n  class=\"control\"\n  class:large\n  class:live={$isLive}\n  class:audio={!$isVideoView}\n  class:videoFocus={$isVideoView && !$isTouch}\n  class:audioFocus={!$isVideoView && !$isTouch}\n  class:touchHighlight={showHighlight}\n  use:vFocus\n  use:vHighlight\n  on:click\n  on:keydown\n  on:focuschange\n  on:focuschange=\"{(e) => { isFocused = e.detail; }}\"\n  on:highlightchange=\"{(e) => { showHighlight = e.detail; }}\"\n  {...$$restProps}\n  aria-describedby={tooltip ? tooltipId : null}\n  bind:this={el}\n>\n  <slot />\n  {#if shouldRenderTooltip}\n    <svelte:component \n      {player}\n      {title}\n      id={tooltipId}\n      isActive={isFocused}\n      this={Tooltip}\n      bind:this={tooltip}\n    />\n  {/if}\n</button>\n\n<script context=\"module\">\n  let tooltipIdCount = 0;\n</script>\n\n<script>\n  import { vFocus, vHighlight } from '@vime-js/utils';\n  import { ID as TooltipsID } from '../../tooltips/Tooltips.svelte';\n  \n  // eslint-disable-next-line prefer-const\n  tooltipIdCount += 1;\n  const tooltipId = `v-tooltip-${tooltipIdCount}`;\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const plugins = player.getPluginsRegistry();\n  const { isVideoView, isLive, isTouch } = player.getStore();\n  \n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let el;\n  let isFocused = false;\n  let showHighlight = false;\n\n  export let title = null;\n  export let label = null;\n  export let large = false;\n  export let shouldRenderTooltip = true;\n\n  export const getEl = () => el;\n\n  // --------------------------------------------------------------\n  // Tooltips Plugin\n  // --------------------------------------------------------------\n  \n  let tooltip;\n\n  export const getTooltip = () => tooltip;\n\n  $: tooltips = $plugins[TooltipsID];\n  $: Tooltip = tooltips && tooltips.getTooltipComponent();\n  $: tooltipsRegistry = tooltips && tooltips.getRegistry();\n\n  // TODO: this is a poor temporary fix, the same control might be reused in different\n  // positions, how to register them?\n  $: if (label && tooltipsRegistry && tooltip && !tooltipsRegistry.has(label)) {\n    tooltipsRegistry.register(label, tooltip);\n  }\n</script>\n\n<style type=\"text/scss\">\n  @import '../../../style/common';\n\n  button {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    background: transparent;\n    border: 0;\n    border-radius: 3px;\n    color: inherit;\n    cursor: pointer;\n    flex-shrink: 0;\n    overflow: visible; // IE11\n    padding: $control-padding;\n    position: relative;\n    transition: all 0.3s ease;\n    color: #fff;\n    pointer-events: auto;\n\n    &.audio {\n      color: $color-dark;\n    }\n\n    &.touchHighlight {\n      background: $color-white-100;\n\n      &.audio {\n        background: $color-gray-100;\n      }\n    }\n\n    &:focus {\n      outline: 0;\n    }\n\n    &.large {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 48px;\n      height: 48px;\n      border-radius: 50%;\n      background: $color-gray-300;\n\n      @media (min-width: 480px) {\n        width: 60px;\n        height: 60px;\n\n        & :global(svg) {\n          transform: scale(1.4);\n        }\n      }\n\n      @media (min-width: 860px) {\n        width: 68px;\n        height: 68px;\n\n        & :global(svg) {\n          transform: scale(1.5);\n        }\n      }\n    }\n\n    &.videoFocus {\n      &:focus,\n      &:hover,\n      &[aria-expanded='true'] {\n        background: var(--color, $color-white-200);\n        color: #fff;\n      }\n    }\n\n    &.audioFocus {\n      &:focus,\n      &:hover,\n      &[aria-expanded='true'] {\n        background: var(--color, $color-dark);\n        color: #fff;\n      }\n    }\n  }\n</style>","<svelte:options accessors />\n\n<div\n  class=\"settings\"\n  class:audio={!$isVideoView}\n  class:video={$isVideoView}\n  class:mobile={$isMobile}\n  class:active={$isMenuActive}\n  bind:this={el}\n>\n  <div \n    class=\"modalHeader\"\n    class:hidden={isModalHeaderHidden}\n  >\n    <div></div>\n    <div>{$i18n.settings}</div>\n    <div>\n      <Control \n        {player}\n        shouldRenderTooltip={false}\n        on:click={onMenuClose}\n      >\n        {$i18n.close}\n      </Control>\n    </div>\n  </div>\n  <Menu\n    id={menuId}\n    isActive={$isMenuActive}\n    aria-labelledby={controllerId}\n    on:open\n    on:close\n    on:close={onMenuClose}\n    bind:this={menu}\n  >\n    {#each submenus as id (id)}\n      <svelte:component \n        {player}\n        hideController={!is_null($currentSubmenu) && $currentSubmenu !== id}\n        on:open=\"{() => { onSubmenuOpen(id); }}\"\n        on:close={onSubmenuClose}\n        this={submenuType[id]}\n        bind:this={instances[id]}\n      />\n    {/each}\n  </Menu>\n</div>\n\n<script context=\"module\">\n  import PluginRole from '../../core/PluginRole';\n\n  export const ID = 'vSettings';\n  export const ROLE = PluginRole.SETTINGS;\n\n  let menuIdCounter = 0;\n\n  const Event = {\n    OPEN_SUBMENU: 'opensubmenu',\n    CLOSE_SUBMENU: 'closesubmenu',\n  };\n</script>\n\n<script>\n  import { tick, createEventDispatcher } from 'svelte';\n  import { writable } from 'svelte/store';\n  import Menu from './menu/Menu.svelte';\n  import Submenu from './menu/submenu/Submenu.svelte';\n  import Control from '../controls/control/Control.svelte';\n  import { is_null, private_writable, map_store_to_component } from '@vime-js/utils';\n\n  // eslint-disable-next-line prefer-const\n  menuIdCounter += 1;\n  const menuId = `v-settings-${menuIdCounter}`;\n  const controllerId = `v-settings-control-${menuIdCounter}`;\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const dispatch = createEventDispatcher();\n  const registry = player.createRegistry(ID);\n  const { i18n, isMobile, isVideoView } = player.getStore();\n\n  const store = {\n    isMenuActive: writable(false),\n    currentSubmenu: private_writable(null),\n  };\n\n  const onPropsChange = map_store_to_component(null, store);\n  $: onPropsChange($$props);\n\n  const { isMenuActive, currentSubmenu } = store;\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let el;\n  let menu;\n  let submenus = [];\n  \n  const submenuType = {};\n  const instances = {};\n\n  export const getId = () => menuId;\n  export const getEl = () => el;\n  export const getMenu = () => menu;\n  export const getControllerId = () => controllerId;\n  export const getRegistry = () => registry;\n  export const getSubmenus = () => instances;\n  export const getSubmenu = (id) => instances[id];\n\n  export const createSubmenu = async (id, type = Submenu) => {\n    submenus.push(id);\n    submenuType[id] = type;\n    await tick();\n    return instances[id];\n  };\n\n  export const createSubmenus = (ids, type = Submenu) => {\n    const promises = ids.map((id) => createSubmenu(id, type));\n    return Promise.all(promises);\n  };\n\n  export const removeSubmenu = (id) => {\n    submenus = submenus.filter((itemId) => itemId !== id);\n    delete submenuType[id];\n    return tick();\n  };\n\n  export const removeSubmenus = (ids) => {\n    ids.map(removeSubmenu);\n    return tick();\n  };\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const onMenuClose = () => { $isMenuActive = false; };\n  \n  const onSubmenuOpen = (id) => {\n    $currentSubmenu = id;\n    dispatch(Event.OPEN_SUBMENU, id);\n  };\n\n  const onSubmenuClose = () => {\n    dispatch(Event.CLOSE_SUBMENU, $currentSubmenu);\n    $currentSubmenu = null;\n  };\n\n  $: isModalHeaderHidden = !$isMobile || !$isVideoView || !is_null($currentSubmenu);\n\n  $: submenus\n    .filter((id) => !registry.has(id) && instances[id])\n    .forEach((id) => registry.register(id, instances[id]));\n</script>\n\n<style type=\"text/scss\">\n  @import '../../style/common';\n\n  $audio-settings-bg: #fff;\n  $video-settings-bg: $color-dark;\n\n  $video-scroll-bg: $video-settings-bg;\n  $video-scroll-thumb-color: rgba(#fff, 0.25);\n\n  $audio-scroll-bg: $audio-settings-bg;\n  $audio-scroll-thumb-color: rgba($color-dark, 0.25);\n\n  .settings {\n    position: absolute;\n    border-radius: 2px;\n    background: $video-settings-bg;\n    right: $control-spacing;\n    bottom: 64px;\n    width: 200px;\n    box-shadow: 0 0 8px 2px $color-gray-100;\n    overflow-x: hidden;\n    overflow-y: auto;\n    max-height: 65%;\n    z-index: 3;\n    scrollbar-width: thin;\n    scrollbar-color: $video-scroll-thumb-color $video-scroll-bg;\n    scroll-behavior: smooth;\n\n    &::-webkit-scrollbar {\n      width: 10px;\n    }\n\n    &::-webkit-scrollbar-track {\n      background: none;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      border-radius: 10px;\n      background-color: $video-scroll-thumb-color;\n      border: 2px solid $video-scroll-bg;\n    }\n\n    &.active {\n      padding: $control-spacing 0;\n    }\n\n    &.audio {\n      background: $audio-settings-bg;\n      bottom: 64px;\n      max-height: 200px;\n      scrollbar-color: $audio-scroll-thumb-color $audio-scroll-bg;\n\n      &::-webkit-scrollbar-thumb {\n        background-color: $audio-scroll-thumb-color;\n        border: 2px solid $audio-scroll-bg;\n      }\n    }\n\n    &.video.mobile {\n      width: 100%;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      max-height: none;\n      z-index: 10;\n      top: 100%;\n      position: fixed;\n      transition: top .3s ease-out;\n\n      &.active {\n        top: 0;\n      }\n    }\n  }\n\n  .modalHeader {\n    width: 100%;\n    color: #fff;\n    display: flex;\n    align-items: center;\n    margin-top: -6px;\n    justify-content: center;\n    padding: 0 $control-spacing 2px $control-spacing;\n    border-bottom: 1px solid $color-white-100;\n    margin-bottom: 6px;\n    font-size: $font-size-small;\n    font-weight: $font-weight-regular;\n\n    &.hidden {\n      display: none;\n    }\n\n    > div {\n      display: flex;\n      flex: 1;\n      justify-content: center;\n    }\n\n    > div:last-child {\n      justify-content: flex-end;\n    }\n\n    :global(.control) {\n      font-size: 13px !important;\n    }\n  }\n</style>","<svelte:options accessors />\n\n{#if isEnabled && controls.length > 0}\n  <div\n    class=\"group\"\n    class:fill={shouldFill}\n    use:vShow={isActive}\n    bind:this={el}\n  >\n    <div \n      class=\"container\"\n      class:mobile={$isMobile}\n      class:audio={!$isVideoView}\n      class:video={$isVideoView}\n      class:gradientUp\n      class:gradientDown\n      bind:this={containerEl}\n    >\n      {#each controls as Control}\n        <svelte:component\n          {player}\n          this={Control.default}\n          bind:this={instances[Control.ID]}\n        />\n      {/each}\n    </div>\n  </div>\n{/if}\n\n<script>\n  import { set_style, vShow } from '@vime-js/utils';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const { isMobile, isVideoView } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let el;\n  let containerEl;\n\n  const instances = {};\n\n  export let controls = [];\n  export let isEnabled = true;\n  export let isActive = false;\n  export let shouldFill = false;\n  export let flow = null;\n  export let position = null;\n  export let gradientUp = false;\n  export let gradientDown = false;\n\n  export const getEl = () => el;\n  export const hasControls = () => controls.length > 0;\n\n  export const getInstances = () => {\n    const { undefined: _, ...rest } = instances;\n    return rest;\n  };\n\n  export const reset = () => {\n    controls = [];\n    isEnabled = true;\n    isActive = false;\n    shouldFill = false;\n    flow = null;\n    position = null;\n  };\n\n  const onPositionChange = () => {\n    if (!position) {\n      set_style(el, 'alignItems');\n      set_style(containerEl, 'justifyContent');\n      return;\n    }\n    const [align, justify] = position.split(':');\n    set_style(el, 'alignItems', align);\n    set_style(isColumnFlow ? el : containerEl, 'justifyContent', justify);\n  };\n\n  const onFlowChange = () => {\n    set_style(containerEl, 'flexFlow', flow);\n    set_style(containerEl, 'width', (isColumnFlow) ? 'auto' : null);\n  };\n\n  $: if (el && containerEl) onPositionChange(position, isColumnFlow);\n  $: if (containerEl) onFlowChange(flow, isColumnFlow);\n  $: isColumnFlow = flow && flow.includes('column');\n</script>\n\n<style type=\"text/scss\">\n  @import '../../style/common';\n\n  .group {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    flex-flow: row wrap;\n    color: #fff;\n    position: relative;\n\n    &.fill {\n      flex: 1;\n    }\n  }\n\n  .container {\n    position: relative;\n    display: flex;\n    flex-flow: row wrap;\n    width: 100%;\n    align-items: center;\n    padding: $control-spacing;\n\n    &.audio {\n      background: #fff;\n      color: $color-dark;\n      padding: $control-spacing;\n      box-shadow: 0 0 8px 2px $color-gray-100;\n    }\n    \n    &.video {\n      background-clip: padding-box;\n      padding: $control-spacing ($control-spacing / 2) ($control-spacing / 2);\n\n      @media (min-width: $bp-sm) {\n        padding: $control-spacing;\n      }\n\n      &.gradientUp {\n        background: linear-gradient(transparent, rgba(90, 90, 90, 0.4));\n      }\n\n      &.gradientDown {\n        background: linear-gradient(rgba(90, 90, 90, 0.4), transparent);\n      }\n\n      &.mobile {\n        padding: $control-spacing;\n      }\n    }\n\n    :global(> div),\n    :global(> .control) {\n      margin-left: $control-spacing;\n\n      &:first-child {\n        margin-left: 0;\n      }\n    }\n  }\n</style>","<svelte:options accessors />\n\n<div \n  class=\"controls\"\n  class:video={$isVideoView}\n  use:vIf={isActive}\n  bind:this={el}\n>\n  {#each groups as id (id)}\n    <ControlGroup\n      {player}\n      bind:this={instances[id]}\n    />\n  {/each}\n</div>\n\n<script context=\"module\">\n  import PluginRole from '../../core/PluginRole';\n  \n  export const ID = 'vControls';\n  export const ROLE = PluginRole.CONTROLS;\n</script>\n\n<script>\n  import { tick, onMount, onDestroy } from 'svelte';\n  import { listen } from 'svelte/internal';\n  import { vIf } from '@vime-js/utils';\n  import { ID as SettingsID } from '../settings/Settings.svelte';\n  import ControlGroup from './ControlGroup.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const registry = player.createRegistry(ID);\n  const plugins = player.getPluginsRegistry();\n\n  const {\n    paused, isVideoView, isControlsEnabled,\n    canInteract, useNativeControls, _isControlsActive: isControlsActive,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let el;\n  let idleTimer = 0;\n  let hideControlsTimeout;\n  let groups = [];\n\n  const instances = {};\n\n  export const getEl = () => el;\n  export const getRegistry = () => registry;\n  export const getGroups = () => instances;\n  export const getGroup = (id) => instances[id];\n  \n  export const createGroup = async (id) => {\n    groups.push(id);\n    await tick();\n    return instances[id];\n  };\n\n  export const createGroups = (newGroups) => {\n    const promises = newGroups.map(createGroup);\n    return Promise.all(promises);\n  };\n\n  export const removeGroup = (id) => {\n    groups = groups.filter((groupId) => groupId !== id);\n    return tick();\n  };\n\n  export const removeGroups = (ids) => {\n    ids.map(removeGroup);\n    return tick();\n  };\n\n  $: if (!$paused && $isVideoView && idleTimer) {\n    window.clearTimeout(hideControlsTimeout);\n    $isControlsActive = true;\n    hideControlsTimeout = window.setTimeout(() => { $isControlsActive = false; }, 2750);\n  } else {\n    window.clearTimeout(hideControlsTimeout);\n    $isControlsActive = $canInteract;\n  }\n\n  $: groups\n    .filter((id) => !registry.has(id) && instances[id])\n    .forEach((id) => registry.register(id, instances[id]));\n\n  $: isActive = ($isControlsEnabled && !$useNativeControls)\n    && ($isControlsActive || (settings && $isMenuActive));\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const onShowControls = () => { idleTimer += 1; };\n\n  onMount(() => {\n    const showControlsEvents = ['focus', 'keydown', 'click', 'mousemove', 'touchstart'];\n    showControlsEvents.forEach((event) => onDestroy(listen(player.getEl(), event, onShowControls)));\n  });\n  \n  // --------------------------------------------------------------\n  // Settings Plugin\n  // --------------------------------------------------------------\n\n  let isMenuActive;\n\n  $: settings = $plugins[SettingsID];\n  $: if (settings) { ({ isMenuActive } = settings.getStore()); }\n</script>\n\n<style type=\"text/scss\">\n  @import '../../style/common';\n\n  .controls {\n    position: relative;\n    display: flex;\n    z-index: 3;\n    pointer-events: none;\n    flex-direction: column;\n\n    &.video {\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n    }\n  }\n</style>","<svelte:options accessors />\n\n{#if isEnabled}\n  <Control\n    {player}\n    {title}\n    {...$$restProps}\n    on:click\n    on:keydown\n    on:focuschange\n    on:click={autopilot ? onToggle : null}\n    aria-pressed={isActive}\n    bind:this={control}\n  >\n    <Icon {icon} />\n  </Control>\n{/if}\n\n<script>\n  import Control from './Control.svelte';\n  import Icon from '../../../core/Icon.svelte';\n\n  export let player;\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let control;\n\n  export let activeTitle;\n  export let inactiveTitle;\n  export let activeIcon;\n  export let inactiveIcon;\n  export let isActive = false;\n  export let isEnabled = true;\n  export let autopilot = true;\n\n  export const getControl = () => control;\n\n  $: icon = isActive ? activeIcon : inactiveIcon;\n  $: title = isActive ? activeTitle : inactiveTitle;\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const onToggle = () => { isActive = !isActive; };\n</script>","<ToggleControl\n  {player}\n  label={LABEL}\n  isActive={!$paused}\n  autopilot={false}\n  activeIcon={$icons.pause}\n  inactiveIcon={$icons.play}\n  activeTitle={$i18n.pause}\n  inactiveTitle={$i18n.play}\n  aria-label={$i18n.playback}\n  on:click={onToggle}\n  bind:this={toggle}\n/>\n\n<script context=\"module\">\n  export const ID = 'vPlaybackControl';\n  export const LABEL = 'togglePlayback';\n</script>\n\n<script>\n  import ToggleControl from './ToggleControl.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const { icons, i18n, paused } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let toggle;\n\n  export const getToggle = () => toggle;\n\n  const onToggle = () => { $paused = !$paused; };\n</script>","<div class:paused={$paused}>\n  <ToggleControl\n    {player}\n    large={true}\n    shoudlRenderTooltip={false}\n    isActive={!$paused}\n    autopilot={false}\n    activeIcon={$icons.pause}\n    inactiveIcon={$icons.play}\n    aria-label={$i18n.playback}\n    on:click={onToggle}\n    bind:this={toggle}\n  />\n</div>\n\n<script context=\"module\">\n  export const ID = 'vBigPlaybackControl';\n</script>\n\n<script>\n  import ToggleControl from './ToggleControl.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const { paused, i18n, icons } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let toggle;\n\n  export const getToggle = () => toggle;\n  \n  const onToggle = () => { $paused = !$paused; };\n</script>\n\n<style>\n  div.paused :global(svg) {\n    margin-left: 4px;\n  }\n</style>","<ToggleControl\n  {player}\n  autopilot={false}\n  label={LABEL}\n  isEnabled={$canSetTracks && $tracks.length > 0}\n  isActive={$isCaptionsActive}\n  activeIcon={$icons.captionsOn}\n  inactiveIcon={$icons.captionsOff}\n  activeTitle={$i18n.disableCaptions}\n  inactiveTitle={$i18n.enableCaptions}\n  aria-label={$i18n.captions}\n  on:click={onToggle}\n  bind:this={toggle}\n/>\n\n<script context=\"module\">\n  export const ID = 'vCaptionsControl';\n  export const LABEL = 'toggleCaptions';\n</script>\n\n<script>\n  import ToggleControl from './ToggleControl.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    icons, i18n, isCaptionsActive,\n    canSetTracks, currentTrackIndex,\n    tracks,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let toggle;\n  let prevTrackIndex = -1;\n\n  export const getToggle = () => toggle;\n\n  const onToggle = () => {\n    if ($isCaptionsActive) prevTrackIndex = $currentTrackIndex;\n    $isCaptionsActive ? ($currentTrackIndex = -1) : ($currentTrackIndex = prevTrackIndex);\n  };\n</script>","<ToggleControl\n  {player}\n  label={LABEL}\n  autopilot={false}\n  isActive={$isPiPActive}\n  isEnabled={$canSetPiP}\n  activeIcon={$icons.exitPiP}\n  inactiveIcon={$icons.enterPiP}\n  activeTitle={$i18n.exitPiP}\n  inactiveTitle={$i18n.enterPiP}\n  aria-label={$i18n.pip}\n  on:click={onToggle}\n  bind:this={toggle}\n/>\n\n<script context=\"module\">\n  export const ID = 'vPiPControl';\n  export const LABEL = 'togglePiP';\n</script>\n\n<script>\n  import { noop } from 'svelte/internal';\n  import ToggleControl from './ToggleControl.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    icons, i18n, isPiPActive, canSetPiP,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let toggle;\n\n  export const getToggle = () => toggle;\n\n  const onToggle = () => {\n    !$isPiPActive ? player.requestPiP().catch(noop) : player.exitPiP().catch(noop);\n  };\n</script>","<ToggleControl\n  {player}\n  label={LABEL}\n  autopilot={false}\n  isActive={$isFullscreenActive}\n  isEnabled={$canSetFullscreen}\n  activeIcon={$icons.exitFullscreen}\n  inactiveIcon={$icons.enterFullscreen}\n  activeTitle={$i18n.exitFullscreen}\n  inactiveTitle={$i18n.enterFullscreen}\n  aria-label={$i18n.fullscreen}\n  on:click={onToggle}\n  bind:this={toggle}\n/>\n\n<script context=\"module\">\n  export const ID = 'vFullscreenControl';\n  export const LABEL = 'toggleFullscreen';\n</script>\n\n<script>\n  import { noop } from 'svelte/internal';\n  import ToggleControl from './ToggleControl.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    icons, i18n, canSetFullscreen, isFullscreenActive,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let toggle;\n\n  export const getToggle = () => toggle;\n\n  const onToggle = () => {\n    !$isFullscreenActive\n      ? player.requestFullscreen().catch(noop)\n      : player.exitFullscreen().catch(noop);\n  };\n</script>","<ToggleControl\n  {player}\n  label={LABEL}\n  activeIcon={$icons.volumeMute}\n  inactiveIcon={get_volume_icon($icons, $muted, $volume)}\n  activeTitle={$i18n.unmute}\n  inactiveTitle={$i18n.mute}\n  aria-label={$i18n.mute}\n  on:focuschange\n  bind:isActive={$muted}\n  bind:this={toggle}\n/>\n\n<script context=\"module\">\n  export const ID = 'vMuteControl';\n  export const LABEL = 'toggleMute';\n</script>\n\n<script>\n  import { get_volume_icon } from '../../../utils';\n  import ToggleControl from './ToggleControl.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    icons, i18n, muted, volume,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let toggle;\n\n  export const getToggle = () => toggle;\n</script>","<div bind:this={el}>\n  <MuteControl \n    {player} \n    on:focuschange={onFocus}\n    bind:this={muteControl}\n  />\n  <input\n    type=\"range\"\n    role=\"slider\"\n    step=\"5\"\n    min=\"0\"\n    max=\"100\"\n    autocomplete=\"off\"\n    aria-label={i18n.volume}\n    aria-valuemin=\"0\"\n    aria-valuemax=\"100\"\n    aria-valuenow=\"{currentVolume}\"\n    aria-valuetext={`${currentVolume}%`}\n    aria-orientation=\"horizontal\"\n    class:hidden={$isMobile}\n    class:active={isFocused}\n    use:vFocus\n    on:focuschange={onFocus}\n    on:input=\"{onVolumeChange}\"\n    on:keydown|stopPropagation\n    bind:this={slider}\n    bind:value={currentVolume}\n  />\n</div>\n\n<script context=\"module\">\n  export const ID = 'vVolumeControl';\n  export const LABEL = 'adjustVolume';\n</script>\n\n<script>\n  import { vFocus } from '@vime-js/utils';\n  import MuteControl from './MuteControl.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    i18n, volume, muted,\n    isMobile,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let el;\n  let slider;\n  let muteControl;\n  let isFocused = false;\n  let prevMuted = false;\n\n  export const getEl = () => el;\n  export const getSlider = () => slider;\n  export const getMuteControl = () => muteControl;\n\n  const unmuteVolume = () => {\n    if (prevMuted && !$muted && $volume === 0) $volume = 30;\n    prevMuted = $muted;\n  };\n\n  $: unmuteVolume($muted);\n  $: $muted = ($volume === 0);\n  $: currentVolume = $muted ? 0 : $volume;\n  $: if (slider) slider.style.setProperty('--value', `${currentVolume}%`);\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const onVolumeChange = (e) => { $volume = window.parseInt(e.target.value); };\n  const onFocus = (e) => { isFocused = e.detail; };\n</script>\n\n<style type=\"text/scss\">\n  @import '../../../style/common';\n\n  @function slider-transition($prop) {\n    @return $prop 0.2s cubic-bezier(0.4, 0, 1, 1);\n  }\n\n  div {\n    align-items: center;\n    display: flex;\n    position: relative;\n    margin-left: ($control-spacing / 2) !important;\n    pointer-events: auto;\n  }\n\n  input[type='range'] {\n    width: 75px;\n    height: 40px;\n    margin: 0;\n    max-width: 0;\n    position: relative;\n    z-index: 3;\n    transition: slider-transition(margin), slider-transition(max-width);\n\n    &.hidden {\n      display: none;\n    }\n\n    &.active {\n      max-width: 75px;\n      margin: 0 ($control-spacing / 2);\n    }\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n</style>","<div\n  on:mouseenter=\"{onSeeking}\"\n  on:mouseleave=\"{onSeeking}\"\n  on:mousemove={onSeeking}\n  on:touchmove={() => { slider.focus(); }}\n  on:touchend={() => { slider.blur(); }}\n  on:mouseleave=\"{() => { slider.blur(); }}\"\n  bind:this={scrubber}\n>\n  <input\n    type=\"range\"\n    role=\"slider\"\n    step=\"0.01\"\n    min=\"0\"\n    max={ariaDuration}\n    autocomplete=\"off\"\n    aria-label={$i18n.scrubber}\n    aria-valuemin=\"0\"\n    aria-valuemax={ariaDuration}\n    aria-valuenow={$currentTime}\n    aria-valuetext={scrubberLabel}\n    aria-orientation=\"horizontal\"\n    use:vInputTouch\n    on:input={onSeek}\n    bind:this={slider}\n  />\n  <progress\n    role=\"progressbar\"\n    class:loading={$buffering}\n    class:audio={!$isVideoView}\n    class:video={$isVideoView}\n    min=\"0\"\n    max={ariaDuration}\n    value={$buffered}\n    aria-label={$i18n.buffered}\n    aria-valuemin=\"0\"\n    aria-valuemax={ariaDuration}\n    aria-valuenow={$buffered}\n    aria-valuetext={`${($buffered / ariaDuration).toFixed(0)}%`}\n    aria-orientation=\"horizontal\"\n    bind:this={progressBar}\n  >\n    % buffered\n  </progress>\n  <svelte:component \n    {player}\n    noBounding\n    title={tooltipTitle}\n    isActive={tooltipActive}\n    this={Tooltip}\n    bind:this={tooltip}\n  />\n</div>\n\n<script context=\"module\">\n  export const ID = 'vScrubberControl';\n  export const LABEL = 'seek';\n</script>\n\n<script>\n  import { set_style_raf, format_time, vInputTouch } from '@vime-js/utils';\n  import { ID as TooltipsID } from '../../tooltips/Tooltips.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const plugins = player.getPluginsRegistry();\n\n  const {\n    i18n, isVideoView, currentTime,\n    duration, buffered, buffering,\n  } = player.getStore();\n  \n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let slider;\n  let scrubber;\n  let progressBar;\n  \n  let tooltip;\n  let tooltipTitle;\n  let tooltipActive;\n\n  export const getEl = () => scrubber;\n  export const getSlider = () => slider;\n  export const getTooltip = () => tooltip;\n  export const getProgressBar = () => progressBar;\n\n  $: if (slider) slider.value = $currentTime;\n  $: if (slider) slider.style.setProperty('--value', `${($currentTime / $duration) * 100}%`);\n  \n  $: ariaDuration = Math.max(0, $duration);\n  \n  $: scrubberLabel = $i18n.scrubberLabel\n    .replace('{currentTime}', format_time($currentTime))\n    .replace('{duration}', format_time(ariaDuration));\n\n  // --------------------------------------------------------------\n  // Tooltips Plugin\n  // --------------------------------------------------------------\n\n  const setTooltipXPos = (percent, value) => {\n    if (!tooltip.getEl()) return;\n    const rect = tooltip.getEl().getBoundingClientRect();\n    const bounds = scrubber.parentNode.getBoundingClientRect();\n    const scrubberRect = scrubber.getBoundingClientRect();\n    const leftOffset = scrubberRect.left - bounds.left;\n    const rightOffset = bounds.right - scrubberRect.right;\n    const leftLimit = bounds.left + leftOffset;\n    const rightLimit = bounds.right - rightOffset;\n    if ((rect.left + percent > leftLimit) && (rect.right - (100 - percent) < rightLimit)) {\n      set_style_raf(tooltip.getEl(), 'left', `${value}px`);\n    }\n  };\n\n  $: tooltips = $plugins[TooltipsID];\n  $: Tooltip = tooltips && tooltips.getTooltipComponent();\n  $: tooltipsRegistry = tooltips && tooltips.getRegistry();\n  \n  $: if (tooltipsRegistry && tooltip && !tooltipsRegistry.has(LABEL)) {\n    tooltipsRegistry.register(LABEL, tooltip);\n  }\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const onSeek = (e) => { $currentTime = window.parseFloat(e.target.value); };\n  \n  const onSeeking = (e) => {\n    if ($duration <= 0 || !tooltip) return;\n    const rect = scrubber.getBoundingClientRect();\n    const percent = Math.max(0, Math.min(100, (100 / rect.width) * (e.pageX - rect.left)));\n    tooltipActive = e.type !== 'mouseleave';\n    tooltipTitle = format_time(($duration / 100) * percent);\n    setTooltipXPos(percent, (percent / 100) * rect.width);\n  };\n</script>\n\n<style type=\"text/scss\">\n  @import '../../../style/common';\n\n  $scrubber-loading-size: 25px;\n  $scrubber-loading-color: $color-gray-300;\n  $scrubber-loading-bg: $color-gray-600;\n\n  $video-scrubber-buffered-bg: $color-white-200;\n  $audio-scrubber-buffered-bg: $color-gray-100;\n\n  // Offset the range thumb in order to be able to calculate the relative progress\n  $scrubber-offset: $range-thumb-height;\n\n  @keyframes progress {\n    to {\n      background-position: $scrubber-loading-size 0;\n    }\n  }\n\n  div {\n    flex: 1;\n    left: $scrubber-offset / 2;\n    margin-right: $scrubber-offset;\n    position: relative;\n    pointer-events: auto;\n    margin-bottom: 3px;\n\n    :global([role='tooltip']) {\n      margin-bottom: 6px;\n    }\n  }\n\n  input[type='range'],\n  progress {\n    height: 12px;\n    margin-left: -($scrubber-offset / 2);\n    margin-right: -($scrubber-offset / 2);\n    width: calc(100% + #{$scrubber-offset});\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  input[type='range'] {\n    position: relative;\n    z-index: 3;\n  }\n\n  progress {\n    -webkit-appearance: none;\n    background: transparent;\n    border: 0;\n    border-radius: 100px;\n    height: $range-track-height;\n    left: 0;\n    margin-top: -($range-track-height / 2);\n    padding: 0;\n    position: absolute;\n    top: 50%;\n\n    &::-webkit-progress-bar {\n      background: transparent;\n    }\n\n    &::-webkit-progress-value {\n      background: currentColor;\n      border-radius: 100px;\n      min-width: $range-track-height;\n      transition: width 0.2s ease;\n    }\n\n    &::-moz-progress-bar {\n      background: currentColor;\n      border-radius: 100px;\n      min-width: $range-track-height;\n      transition: width 0.2s ease;\n    }\n\n    &::-ms-fill {\n      border-radius: 100px;\n      transition: width 0.2s ease;\n    }\n\n    &.video {\n      box-shadow: 0 1px 1px $color-gray-100;\n      color: $video-scrubber-buffered-bg;\n    }\n\n    &.audio {\n      color: $audio-scrubber-buffered-bg;\n    }\n\n    &.loading {\n      animation: progress 1s linear infinite;\n      background-image: linear-gradient(-45deg,\n      $scrubber-loading-bg 25%,\n      $scrubber-loading-color 25%,\n      $scrubber-loading-color 50%,\n      $scrubber-loading-bg 50%,\n      $scrubber-loading-bg 75%,\n      $scrubber-loading-color 75%,\n      $scrubber-loading-color);\n      background-repeat: repeat-x;\n      background-size: $scrubber-loading-size $scrubber-loading-size;\n      color: $scrubber-loading-color;\n\n      &.video {\n        background-color: $video-scrubber-buffered-bg;\n      }\n\n      &.audio {\n        background-color: $audio-scrubber-buffered-bg;\n      }\n    }\n  }\n</style>","<div use:vIf={$isLive}>\n  {$i18n.live}\n</div>\n\n<script context=\"module\">\n  export const ID = 'vLiveIndicator';\n  export const LABEL = 'liveStreamIndicator';\n</script>\n\n<script>\n  import { vIf } from '@vime-js/utils';\n\n  export let player;\n\n  const { isLive, i18n } = player.getStore();\n</script>\n\n<style type=\"text/scss\">\n  @import '../../../style/common';\n\n  div {\n    display: flex;\n    align-items: center;\n    font-size: 13px;\n    font-weight: $font-weight-bold;\n    letter-spacing: 0.6px;\n\n    &::before {\n      content: '';\n      display: inline-block;\n      width: 8px;\n      height: 8px;\n      border-radius: 50%;\n      background-color: red;\n      margin-right: 4px;\n    }\n  }\n</style>","<svelte:options accessors />\n\n{#if isEnabled}\n  <div>\n    <Control\n      {id}\n      {player}\n      label={LABEL}\n      title={!isActive ? $i18n.settings : null}\n      aria-haspopup\n      aria-controls={menuId}\n      aria-expanded={isActive}\n      aria-label={$i18n.settings}\n      on:click\n      on:keydown\n      on:focuschange\n      on:click={onToggle}\n      on:keydown={onKeyDown}\n      bind:this={control}\n    >\n      <Icon icon={$icons.settings} />\n    </Control>\n  </div>\n{/if}\n\n<script context=\"module\">\n  export const ID = 'vSettingsControl';\n  export const LABEL = 'toggleSettings';\n</script>\n\n<script>\n  import { tick } from 'svelte';\n  import Control from './Control.svelte';\n  import { ID as SettingsID } from '../../settings/Settings.svelte';\n  import Icon from '../../../core/Icon.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const plugins = player.getPluginsRegistry();\n  \n  const {\n    i18n, icons, isLive,\n    hasSettings,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let control;\n\n  export let id = null;\n  export let menuId = null;\n  export let isActive = false;\n  export let isEnabled = true;\n\n  export const getControl = () => control;\n  \n  $: isEnabled = $hasSettings && !$isLive;\n\n  // --------------------------------------------------------------\n  // Settings Plugin\n  // --------------------------------------------------------------\n\n  let isMenuActive;\n\n  const onToggle = (e) => {\n    if (!settings) return;\n    e.preventDefault();\n    e.stopPropagation();\n    $isMenuActive = !$isMenuActive;\n  };\n\n  const onKeyDown = async (e) => {\n    if (e.keyCode !== 13 || !settings) return;\n    onToggle(e);\n    // Wait for dom updates so menu is ready.\n    await tick();\n    settings.getMenu().focus();\n  };\n\n  $: settings = $plugins[SettingsID];\n\n  $: if (settings) id = settings.getControllerId();\n  $: if (settings) menuId = settings.getId();\n  $: if (settings) isActive = $isMenuActive;\n  $: if (settings) { ({ isMenuActive } = settings.getStore()); }\n</script>\n\n<style type=\"text/scss\">\n  div {\n    :global(.control > svg) {\n      transition: transform 0.3s ease;\n    }\n\n    :global(> .control[aria-expanded='true'] > svg) {\n      transform: rotate(90deg);\n    }\n  }\n</style>","<div class=\"spacer\"></div>\n\n<script context=\"module\">\n  export const LABEL = 'addSpace';\n</script>\n\n<script>\n  import { noop } from 'svelte/internal';\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  export let player;\n\n  // Silence dev mode warning.\n  noop(player);\n</script>\n\n<style>\n  .spacer {\n    flex: 1;\n  }\n</style>","<div \n  class=\"break\"\n  bind:this={el}\n></div>\n\n<script context=\"module\">\n  export const LABEL = 'addNewLine';\n</script>\n\n<script>\n  import { raf } from 'svelte/internal';\n  import { onMount, onDestroy } from 'svelte';\n  import { set_style, set_style_raf } from '@vime-js/utils';\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let el;\n  let nextControl;\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  onMount(() => {\n    nextControl = el.nextElementSibling;\n    set_style_raf(nextControl, 'marginLeft', 0);\n  });\n\n  onDestroy(() => {\n    if (!nextControl) return;\n    raf(() => {\n      set_style(nextControl, 'marginLeft');\n      nextControl = null;\n    });\n  });\n</script>\n\n<style type=\"text/scss\">\n  .break {\n    width: 100%;\n  }\n</style>","<div aria-label={$$props['aria-label']}>\n  {format_time(Math.max(0, seconds))}\n</div>\n\n<script>\n  import { format_time } from '@vime-js/utils';\n\n  export let seconds = 0;\n</script>\n\n<style type=\"text/scss\">\n  @import '../../../../style/common';\n\n  div {\n    font-size: $time-font-size;\n    font-weight: $time-font-weight;\n    display: inline-block;\n  }\n</style>","<Time \n  seconds={$currentTime}\n  aria-label={$i18n.currentTime}\n/>\n\n<script context=\"module\">\n  export const ID = 'vCurrentTime';\n  export const LABEL = 'displayCurrentTime';\n</script>\n\n<script>\n  import Time from './Time.svelte';\n\n  export let player;\n\n  const { currentTime, i18n } = player.getStore();\n</script>","<Time \n  seconds={$duration}\n  aria-label={$i18n.duration}\n/>\n\n<script context=\"module\">\n  export const ID = 'vEndTime';\n  export const LABEL = 'displayEndTime';\n</script>\n\n<script>\n  import Time from './Time.svelte';\n\n  export let player;\n\n  const { duration, i18n } = player.getStore();\n</script>","<div>\n  <CurrentTime {player} />\n  <TimeDivider />\n  <EndTime {player} />\n</div>\n\n<script context=\"module\">\n  export const ID = 'vTimeProgress';\n  export const LABEL = 'displayTimeProgress';\n</script>\n\n<script>\n  import CurrentTime from './CurrentTime.svelte';\n  import TimeDivider from './TimeDivider.svelte';\n  import EndTime from './EndTime.svelte';\n\n  export let player;\n</script>\n\n<style>\n  div {\n    display: flex;\n    align-items: center;\n  }\n</style>","<script context=\"module\">\n  export const ID = 'vDefaultControls';\n</script>\n\n<script>\n  import { tick, onDestroy } from 'svelte';\n  import { ID as ControlsID } from './Controls.svelte';\n\n  import * as PlaybackControl from './control/PlaybackControl.svelte';\n  import * as BigPlaybackControl from './control/BigPlaybackControl.svelte';\n  import * as CaptionControl from './control/CaptionControl.svelte';\n  import * as PiPControl from './control/PiPControl.svelte';\n  import * as FullscreenControl from './control/FullscreenControl.svelte';\n  import * as VolumeControl from './control/VolumeControl.svelte';\n  import * as ScrubberControl from './control/ScrubberControl.svelte';\n  import * as LiveIndicator from './control/LiveIndicator.svelte';\n  import * as SettingsControl from './control/SettingsControl.svelte';\n  import * as ControlSpacer from './control/ControlSpacer.svelte';\n  import * as ControlNewLine from './control/ControlNewLine.svelte';\n  import * as CurrentTime from './control/time/CurrentTime.svelte';\n  import * as EndTime from './control/time/EndTime.svelte';\n  import * as TimeProgress from './control/time/TimeProgress.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const plugins = player.getPluginsRegistry();\n  \n  const {\n    isLive, isVideoView, isMobile,\n    playbackStarted,\n  } = player.getStore();\n\n  let lowerGroup;\n  let centerGroup;\n  let upperGroup;\n  let didMount = false;\n\n  const GROUPS = ['vUpperGroup', 'vCenterGroup', 'vLowerGroup'];\n\n  const onCreateGroups = async () => {\n    ([upperGroup, centerGroup, lowerGroup] = await controls.createGroups(GROUPS));\n    didMount = true;\n  };\n\n  const onResetGroups = () => {\n    GROUPS.forEach((id) => { controls.getGroup(id).reset(); });\n  };\n\n  const onDestroyGroups = () => {\n    lowerGroup = null;\n    centerGroup = null;\n    upperGroup = null;\n    if ($plugins[ControlsID]) controls.removeGroups(GROUPS);\n  };\n\n  onDestroy(onDestroyGroups);\n\n  $: controls = $plugins[ControlsID];\n\n  $: if (controls && !didMount) {\n    onCreateGroups();\n  } else if (!controls && didMount) {\n    didMount = false;\n    onDestroyGroups();\n  }\n\n  // --------------------------------------------------------------\n  // Audio Controls\n  // --------------------------------------------------------------\n\n  const onSetupAudioControls = () => {\n    onResetGroups();\n\n    const liveControls = [\n      PlaybackControl, VolumeControl, CurrentTime,\n      ControlSpacer, LiveIndicator,\n    ];\n\n    const stdControls = [\n      PlaybackControl, VolumeControl, CurrentTime,\n      ScrubberControl, EndTime, SettingsControl,\n    ];\n\n    lowerGroup.$set({\n      controls: !$isLive ? stdControls : liveControls,\n      isActive: true,\n    });\n  };\n\n  $: if (\n    controls\n    && !$isVideoView\n    && didMount\n  ) onSetupAudioControls($isLive);\n\n  // --------------------------------------------------------------\n  // Desktop Video Controls\n  // --------------------------------------------------------------\n\n  const onSetupDesktopVideoControls = () => {\n    onResetGroups();\n\n    centerGroup.$set({\n      isActive: true,\n      shouldFill: true,\n      position: 'center:center',\n      controls: [BigPlaybackControl],\n    });\n\n    const liveControls = [\n      PlaybackControl, VolumeControl, ControlSpacer,\n      LiveIndicator, PiPControl, FullscreenControl,\n    ];\n\n    const stdControls = [\n      ScrubberControl, ControlNewLine, PlaybackControl,\n      VolumeControl, TimeProgress, ControlSpacer,\n      CaptionControl, PiPControl, SettingsControl,\n      FullscreenControl,\n    ];\n\n    lowerGroup.$set({\n      position: 'flex-end:flex-start',\n      isEnabled: false,\n      isActive: false,\n      shouldFill: true,\n      gradientUp: true,\n      controls: !$isLive ? stdControls : liveControls,\n    });\n  };\n\n  const onDesktopVideoStart = async () => {\n    centerGroup.isActive = false;\n    await tick();\n    setTimeout(async () => {\n      centerGroup.shouldFill = false;\n      lowerGroup.isEnabled = true;\n      await tick();\n      lowerGroup.isActive = true;\n    }, 400);\n  };\n\n  $: isDesktopVideo = $isVideoView && !$isMobile && didMount;\n  $: if (controls && isDesktopVideo) onSetupDesktopVideoControls($isLive);\n  $: if (controls && isDesktopVideo && $playbackStarted) onDesktopVideoStart($isLive);\n\n  // --------------------------------------------------------------\n  // Mobile Video Controls\n  // --------------------------------------------------------------\n\n  const onSetupMobileVideoControls = () => {\n    onResetGroups();\n\n    const upperStdControls = [ControlSpacer, VolumeControl, CaptionControl, SettingsControl];\n    const upperLiveControls = [ControlSpacer, VolumeControl, FullscreenControl];\n    upperGroup.controls = !$isLive ? upperStdControls : upperLiveControls;\n\n    centerGroup.$set({\n      isActive: true,\n      shouldFill: true,\n      position: 'center:center',\n      controls: [BigPlaybackControl],\n    });\n\n    const lowerStdControls = [\n      CurrentTime, ControlSpacer, EndTime,\n      FullscreenControl, ControlNewLine, ScrubberControl,\n    ];\n\n    lowerGroup.controls = !$isLive ? lowerStdControls : [];\n  };\n\n  const onMobileVideoStart = async () => {\n    // Wait to mount new controls if switching to mobile mid-playback.\n    await tick();\n    upperGroup.isActive = true;\n    lowerGroup.isActive = true;\n  };\n\n  $: isMobileVideo = $isVideoView && $isMobile && didMount;\n  $: if (controls && isMobileVideo) onSetupMobileVideoControls($isLive);\n  $: if (controls && isMobileVideo && $playbackStarted) onMobileVideoStart($isLive);\n</script>","<script context=\"module\">\n  export const ID = 'vDefaultKeyboard';\n</script>\n\n<script>\n  import { onDestroy } from 'svelte';\n  import { noop } from 'svelte/internal';\n  import { ID as KeyboardID } from './Keyboard.svelte';\n  import { ID as ActionDisplayID } from '../ActionDisplay.svelte';\n\n  import {\n    get_playback_icon,\n    get_pip_icon,\n    get_captions_icon,\n    get_fullscreen_icon,\n    get_volume_icon,\n  } from '../../utils';\n\n  import {\n    PlaybackControl,\n    VolumeControl,\n    MuteControl,\n    CaptionControl,\n    PiPControl,\n    FullscreenControl,\n    ScrubberControl,\n  } from '../controls';\n\n  export let player;\n\n  const plugins = player.getPluginsRegistry();\n\n  const {\n    paused, icons, volume,\n    muted, isCaptionsActive, isPiPActive,\n    isFullscreenActive, currentTime, duration,\n    canInteract, canSetTrack, canSetPiP,\n    canSetFullscreen, currentTrackIndex,\n  } = player.getStore();\n\n  let hasKeyboardInitialized = false;\n\n  const displayAction = (icon, value) => {\n    const actionDisplay = player[ActionDisplayID];\n    if (actionDisplay) actionDisplay.run(icon, value);\n  };\n\n  const onInitializeKeyboard = () => {\n    keyboard.addShortcut(PlaybackControl.LABEL, {\n      hint: 'space/k',\n      keys: [32, 75],\n      action: () => {\n        if (!$canInteract) return;\n        $paused = !$paused;\n        displayAction(get_playback_icon($icons, !$paused));\n      },\n    });\n\n    keyboard.addShortcut(VolumeControl.LABEL, {\n      // Up Arrow (38), Down Arrow (40)\n      keys: [38, 40],\n      action: (e) => {\n        if (!$canInteract) return;\n        const isUp = e.keyCode === 38;\n        $volume = isUp ? Math.min(100, $volume + 5) : Math.max(0, $volume - 5);\n        let icon;\n        if (isUp) {\n          icon = $icons.volumeHigh;\n        } else {\n          icon = ($volume === 0 ? $icons.volumeMute : $icons.volumeLow);\n        }\n        displayAction(icon, `${$volume}%`);\n      },\n    });\n\n    keyboard.addShortcut(MuteControl.LABEL, {\n      hint: 'm',\n      keys: [77],\n      action: () => {\n        if (!$canInteract) return;\n        $muted = !$muted;\n        displayAction(get_volume_icon($icons, $muted, $volume));\n      },\n    });\n\n    let prevTrackIndex = -1;\n    keyboard.addShortcut(CaptionControl.LABEL, {\n      hint: 'c',\n      keys: [67],\n      action: () => {\n        if (!$canInteract || !$canSetTrack) return;\n        if ($isCaptionsActive) prevTrackIndex = $currentTrackIndex;\n        $isCaptionsActive ? ($currentTrackIndex = -1) : ($currentTrackIndex = prevTrackIndex);\n        displayAction(get_captions_icon($icons, $isCaptionsActive));\n      },\n    });\n\n    keyboard.addShortcut(PiPControl.LABEL, {\n      hint: 'p',\n      keys: [80],\n      action: () => {\n        if (!$canInteract || !$canSetPiP) return;\n        $isPiPActive ? player.exitPiP().catch(noop) : player.requestPiP().catch(noop);\n        displayAction(get_pip_icon($icons, $isPiPActive));\n      },\n    });\n\n    keyboard.addShortcut(FullscreenControl.LABEL, {\n      hint: 'f',\n      keys: [70],\n      action: () => {\n        if (!$canInteract || !$canSetFullscreen) return;\n        $isFullscreenActive\n          ? player.exitFullscreen().catch(noop)\n          : player.requestFullscreen().catch(noop);\n        displayAction(get_fullscreen_icon($icons, $isFullscreenActive));\n      },\n    });\n\n    keyboard.addShortcut(ScrubberControl.LABEL, {\n      // Left Arrow (37), Right Arrow (39)\n      keys: [37, 39],\n      action: (e) => {\n        if (!$canInteract) return;\n        const isLeft = e.keyCode === 37;\n        $currentTime = isLeft ? Math.max(0, $currentTime - 5) : Math.min($duration, $currentTime + 5);\n        displayAction(isLeft ? $icons.seekBackward : $icons.seekForward);\n      },\n    });\n\n    hasKeyboardInitialized = true;\n  };\n\n  onDestroy(() => {\n    if (!$plugins[KeyboardID]) return;\n    const controls = [\n      PlaybackControl,\n      VolumeControl,\n      MuteControl,\n      CaptionControl,\n      PiPControl,\n      FullscreenControl,\n    ];\n    keyboard.removeShortcuts(controls.map((Control) => Control.LABEL));\n  });\n\n  $: keyboard = $plugins[KeyboardID];\n  $: if (keyboard && !hasKeyboardInitialized) onInitializeKeyboard();\n  $: if (!keyboard && hasKeyboardInitialized) hasKeyboardInitialized = false;\n</script>","<svelte:options accessors />\n\n<li>\n  <MenuControl \n    {title}\n    {badge}\n    {player}\n    role=\"menuitemradio\"\n    aria-label={title}\n    aria-checked={isChecked}\n    on:click\n    on:click={onClick}\n  />\n</li>\n\n<script context=\"module\">\n  const Event = {\n    VALUE_CHANGE: 'valuechange',\n  };\n</script>\n\n<script>\n  import { createEventDispatcher } from 'svelte';\n  import MenuControl from './MenuControl.svelte';\n\n  const dispatch = createEventDispatcher();\n\n  export let player;\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let menuControl;\n\n  export let group;\n  export let title = null;\n  export let value = null;\n  export let badge = null;\n\n  export const getMenuControl = () => menuControl;\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const onClick = () => { dispatch(Event.VALUE_CHANGE, value); };\n\n  $: isChecked = (group === value);\n</script>","<svelte:options accessors />\n\n{#each options as option, index}\n  <MenuItemRadio\n    {player}\n    {group}\n    {...option}\n    on:valuechange\n    bind:this={menuItemRadios[index]}\n  />\n{/each}\n\n<script>\n  import MenuItemRadio from './MenuItemRadio.svelte';\n\n  export let player;\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  const menuItemRadios = [];\n  \n  export let group;\n  export let options = [];\n\n  export const getRadios = () => menuItemRadios.filter(Boolean);\n</script>","<Submenu\n  {title}\n  {player}\n  {hint}\n  {isActive}\n  {isEnabled}\n  {hideController}\n  isLocked={isLocked || !hasOptions}\n  on:open\n  on:close\n  bind:this={submenu}\n>\n  <MenuOptions\n    {player}\n    {options}\n    group={value}\n    on:valuechange\n    bind:this={menuOptions}\n  />\n</Submenu>\n\n<script>\n  import Submenu from './Submenu.svelte';\n  import MenuOptions from '../MenuOptions.svelte';\n\n  export let player;\n  \n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  let submenu;\n  let menuOptions;\n\n  export let title = null;\n  export let value = null;\n  export let options = [];\n  export let emptyHint = '';\n  export let isActive = false;\n  export let isLocked = false;\n  export let isEnabled = true;\n  export let hideController = false;\n\n  export const getSubmenu = () => submenu;\n  export const getMenuOptions = () => menuOptions;\n\n  $: hasOptions = options && options.length > 0;\n  $: currentOption = hasOptions ? options.find((o) => o.value === value) : null;\n  $: hint = (!hasOptions || !currentOption) ? emptyHint : currentOption.title;\n</script>","<script context=\"module\">\n  export const ID = 'vDefaultSettings';\n</script>\n\n<script>\n  import { onDestroy } from 'svelte';\n  import { ID as SettingsID } from './Settings.svelte';\n  import SelectSubmenu from './menu/submenu/SelectSubmenu.svelte';\n  import Disposal from '../../core/Disposal';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const disposal = new Disposal();\n  const plugins = player.getPluginsRegistry();\n  \n  const {\n    i18n, isVideoView, isAudio,\n    canSetVideoQuality, videoQualities, videoQuality,\n    canSetTrack, tracks, currentTrackIndex,\n    canSetPlaybackRate, playbackRate, playbackRates,\n  } = player.getStore();\n\n  let playbackRateMenu;\n  let captionsMenu;\n  let videoQualityMenu;\n\n  const MENUS = ['vPlaybackRateMenu', 'vCaptionsMenu', 'vVideoQualityMenu'];\n\n  const onCreateMenus = async () => {\n    const onValueChange = (menu, callback) => {\n      const off = menu.$on('valuechange', (e) => { callback(e.detail); });\n      disposal.add(off);\n    };\n\n    ([\n      playbackRateMenu,\n      captionsMenu,\n      videoQualityMenu,\n    ] = await settings.createSubmenus(MENUS, SelectSubmenu));\n\n    onValueChange(playbackRateMenu, (rate) => { $playbackRate = rate; });\n    onValueChange(captionsMenu, (index) => { $currentTrackIndex = index; });\n    onValueChange(videoQualityMenu, (quality) => { $videoQuality = quality; });\n  };\n\n  const onDestroyMenus = () => {\n    disposal.dispose();\n    playbackRateMenu = null;\n    captionsMenu = null;\n    videoQualityMenu = null;\n    if (plugins[SettingsID]) settings.removeSubmenus(MENUS);\n  };\n\n  onDestroy(onDestroyMenus);\n\n  $: settings = $plugins[SettingsID];\n  $: if (settings && !playbackRateMenu) onCreateMenus();\n  $: if (!settings && playbackRateMenu) onDestroyMenus();\n\n  // --------------------------------------------------------------\n  // Playback Rate Menu\n  // --------------------------------------------------------------\n\n  $: if (playbackRateMenu) {\n    playbackRateMenu.$set({\n      title: $i18n.speed,\n      value: $playbackRate,\n      options: ($playbackRates.length === 1) ? [] : playbackRateOptions,\n      emptyHint: $i18n.normal,\n      isLocked: !$canSetPlaybackRate || ($playbackRates.length === 0),\n    });\n  }\n\n  $: playbackRateOptions = $playbackRates.map((rate) => ({\n    title: (rate === 1) ? $i18n.normal : rate,\n    value: rate,\n  }));\n\n  // --------------------------------------------------------------\n  // Captions Menu\n  // --------------------------------------------------------------\n\n  $: if (captionsMenu) {\n    captionsMenu.$set({\n      title: $i18n.subtitlesOrCc,\n      value: $currentTrackIndex,\n      options: (!$isVideoView || captionsOptions.length === 1) ? [] : captionsOptions,\n      emptyHint: $i18n.none,\n      isEnabled: $isVideoView,\n      isLocked: !$canSetTrack || ($tracks.length === 0),\n    });\n  }\n\n  $: captionsOptions = [{\n    title: $i18n.off,\n    value: -1,\n  }, ...$tracks.map((track, i) => ({\n    title: track.label,\n    value: i,\n  }))];\n\n  // --------------------------------------------------------------\n  // Video Quality Menu\n  // --------------------------------------------------------------\n  \n  $: if (videoQualityMenu) {\n    videoQualityMenu.$set({\n      title: $i18n.videoQuality,\n      value: $videoQuality,\n      options: $isAudio ? [] : videoQualityOptions,\n      emptyHint: $i18n.default,\n      isEnabled: !$isAudio,\n      isLocked: !$canSetVideoQuality || ($videoQualities.length === 0),\n    });\n  }\n\n  $: videoQualityOptions = $videoQualities.map((quality) => ({\n    title: `${quality}p`,\n    value: quality,\n    badge: (quality >= 720) ? 'HD' : null,\n  }));\n</script>","<svelte:options accessors />\n\n<script context=\"module\">\n  export const ID = 'vDblClickFullscreen';\n</script>\n\n<script>\n  import { onDestroy } from 'svelte';\n  import { noop, listen } from 'svelte/internal';\n  import { get_fullscreen_icon } from '../utils';\n  import { ID as ActionDisplayId } from './ActionDisplay.svelte';\n\n  // --------------------------------------------------------------\n  // Setup\n  // --------------------------------------------------------------\n\n  export let player;\n\n  const {\n    icons, isControlsEnabled, canSetFullscreen,\n    isVideoView, canInteract, isMobile, isFullscreenActive,\n    useNativeControls,\n  } = player.getStore();\n\n  // --------------------------------------------------------------\n  // Props\n  // --------------------------------------------------------------\n\n  export let autopilot = true;\n  export let isEnabled = true;\n\n  $: if (autopilot) {\n    isEnabled = $isControlsEnabled\n      && $canSetFullscreen\n      && $canInteract\n      && $isVideoView\n      && !$isMobile\n      && !$useNativeControls;\n  }\n\n  // --------------------------------------------------------------\n  // Events\n  // --------------------------------------------------------------\n\n  const onToggle = () => {\n    (!$isFullscreenActive\n      ? player.requestFullscreen().catch(noop)\n      : player.exitFullscreen().catch(noop)\n    );\n    const icon = get_fullscreen_icon($icons, $isFullscreenActive);\n    if (player[ActionDisplayId]) player[ActionDisplayId].run(icon);\n  };\n\n  let onDblClickListener;\n  const bindDblClickListener = () => {\n    const onDblClick = (e) => {\n    // TODO: this is probably not ideal, need a better solution.\n      const isInputNode = ['BUTTON', 'INPUT'].includes(e.target.nodeName);\n      if (!isInputNode) onToggle();\n    };\n    onDblClickListener = listen(player.getEl(), 'dblclick', onDblClick);\n  };\n\n  const unbindDblClickListener = () => {\n    if (onDblClickListener) onDblClickListener();\n    onDblClickListener = null;\n  };\n\n  onDestroy(unbindDblClickListener);\n\n  $: if (isEnabled && !onDblClickListener) {\n    bindDblClickListener();\n  } else if (!isEnabled && onDblClickListener) {\n    unbindDblClickListener();\n  }\n</script>","<svelte:options accessors />\n\n<script context=\"module\">\n  export const ID = 'vBoot';\n</script>\n\n<script>\n  import { is_undefined } from '@vime-js/utils';\n\n  // TODO: should/can everything below be dynamically imported?\n\n  import * as Icons from './Icons.svelte';\n  import * as Poster from './Poster.svelte';\n  import * as Scrim from './Scrim.svelte';\n  import * as Spinner from './Spinner.svelte';\n  import * as Captions from './Captions.svelte';\n  import * as ClickToPlay from './ClickToPlay.svelte';\n  import * as ActionDisplay from './ActionDisplay.svelte';\n  import * as Keyboard from './keyboard/Keyboard.svelte';\n  import * as DefaultKeyboard from './keyboard/DefaultKeyboard.svelte';\n  import * as Controls from './controls/Controls.svelte';\n  import * as DefaultControls from './controls/DefaultControls.svelte';\n  import * as Tooltips from './tooltips/Tooltips.svelte';\n  import * as Settings from './settings/Settings.svelte';\n  import * as DefaultSettings from './settings/DefaultSettings.svelte';\n  import * as DblClickFullscreen from './DblClickFullscreen.svelte';\n\n  export let player;\n  export let manifest = {};\n\n  const pluginsManager = player.getPluginsManager();\n\n  const PLUGINS = [\n    Icons,\n    Poster,\n    Scrim,\n    Spinner,\n    Captions,\n    ClickToPlay,\n    ActionDisplay,\n    Controls,\n    DefaultControls,\n    Keyboard,\n    DefaultKeyboard,\n    Tooltips,\n    Settings,\n    DefaultSettings,\n    DblClickFullscreen,\n  ];\n\n  const isPluginEnabled = (Plugin) => {\n    const id = Plugin.ID.slice(1);\n    const manifestId = id.charAt(0).toLowerCase() + id.slice(1);\n    if (is_undefined(manifest[manifestId])) manifest[manifestId] = true;\n    return manifest[manifestId];\n  };\n\n  const isPluginDisabled = (Plugin) => !isPluginEnabled(Plugin);\n\n  $: if (manifest) pluginsManager.addPlugins(PLUGINS.filter(isPluginEnabled));\n  $: if (manifest) pluginsManager.removePlugins(PLUGINS.filter(isPluginDisabled));\n</script>\n\n","// let fragmentation = []\nlet fragmentation = []\n// {start: 10, end: 20}, {start: 50, end: 100}, {start: 162, end: 232}\n\nfunction setFragmentation(frag){\n    fragmentation = frag\n}\nfunction getFragmentation(){\n    return fragmentation\n}\n\n\nconst addFragment = ({currentTime=0, duration=0}={}) => {\n    if(currentTime < 0 || currentTime >= duration ) return fragmentation\n\n    let fragment = {start:currentTime, end: duration} \n    \n    if(!searchFragment(fragment)) {\n        fragmentation.push(fragment)\n        fragmentation.sort((a, b) => (a.start - b.start))\n        rewriteEnd(fragment);    \n    }\n    \n    return fragmentation\n}\nconst searchFragment = (fragment={}) => {\n    // check duplicate\n    return fragmentation.some(el => el.start === fragment.start);\n}\n\nconst rewriteEnd = (fragment) => {\n    let index = fragmentation.indexOf(fragment);\n    if (index > 0) {\n        if (fragmentation[index - 1].end > fragment.start)\n        fragmentation[index - 1].end = fragment.start;\n    }\n    if(index +1  < fragmentation.length) {\n        if (fragment.end > fragmentation[index + 1].start )\n        fragment.end = fragmentation[index + 1].start;        \n    }\n}\n\n\n\n\nconst calculatePercentage = ( duration = 0 ) => {\n    let acc = 0\n    let percentages = []\n\n    if(duration !== 0) {\n        for (const fragment of fragmentation) {\n            let {start=0, end=0} = fragment\n            let empty = 100*start/duration  - acc\n            acc = acc + empty\n            let percentage =  100*end/duration - acc \n            acc = acc + percentage\n            percentages.push({ empty, percentage, fragment } ) \n        }\n    }\n    \n    return percentages\n}\n\nfunction clear(){\n    fragmentation = []\n}\n\nexport default {getFragmentation, setFragmentation,\n    rewriteEnd,\n    searchFragment,\n    addFragment, \n    calculatePercentage,\n    clear\n}\n\n// addFragment({currentTime: 25, duration: 30});\n// addFragment({currentTime: 50, duration: 55});\n// addFragment({currentTime: 75, duration: 100});\n// addFragment({currentTime: 12, duration:18});\n// console.log(calculatePercentage(100))\n\n","<script>\n\timport { Player, Boot, FileProvider, YouTubeProvider } from \"@vime-js/complete\"\n\timport FragManager from './fragment'\n\n\t// import { writable } from \"svelte/store\";\n\t// const store = writable(localStorage.getItem(\"store\") || \"[]\");\n\t// store.subscribe(val => localStorage.setItem(\"store\", val));\t\n\n\tlet videoUrlComp\n\t$: if (videoUrlComp) {\n\t\t// this only fires if `Comp` sets it up\n\t\tlet store =  JSON.parse(localStorage.getItem(videoUrl) || \"[]\");\n\t\tFragManager.setFragmentation(store)\n\t\t// onchange={clear()}\n\t}\t\n\n\tfunction saveSummary(){\n\t\tlet saveFragmentation = JSON.stringify(FragManager.getFragmentation())\n\t\tconsole.log('saveSummary', saveFragmentation)\n\t\tlocalStorage.setItem(videoUrl, saveFragmentation )\n\t}\n\n\tlet player = {duration:0}\n\tlet playerPaused = true\n\n\t// let videoUrl = 'https://www.youtube.com/watch?v=4uwPUO7LNpY'\n\tlet videoUrl\n\n\n\tlet fragmentationPercentage = [] \n\tlet mark = false\n\tlet markStart = 0\n\n\n  \tconst onPlayerMount = () => {\n\t\t// All props below are available here.\n\t\tconst { paused, isVideoReady } = player.getStore();\n\n\t\tconst unIsVideoReady = isVideoReady.subscribe(videoReady => {\n\t\t\tfragmentationPercentage = calculatePercentage() \n\n\t\t});\n\n\t\tconst unsubscribe = paused.subscribe(isPaused => {\n\t\t\tplayerPaused = isPaused\n\t\t});\n\n\t}\n\n\n\tconst markBucle = () => {\n\t\tif (seeking) return\n\t\tmark ? addFragment() : markStart = player.currentTime\n\t\tmark = !mark\n\t}\n\n\tconst addFragment = (e) => {\n\t\tFragManager.addFragment({currentTime: markStart, duration: player.currentTime} )\n\t\tfragmentationPercentage = calculatePercentage() \n\t}\n\n\n\tconst calculatePercentage = () => {\n\t\treturn FragManager.calculatePercentage(player && player.duration || 0)\n\t}\n\n\tlet seeking = false\n\tlet myInterval\n\tconst seek = (event,percentage ) => {\n\t\tevent.stopPropagation()\n\n\n\t\tif(!seeking){\n\t\t\tevent.target.style.backgroundColor = 'green'\n\t\t\tplayer.currentTime = percentage.fragment.start\n\t\t\tmyInterval = setInterval(() => {\n\t\t\t\tif(player.currentTime > percentage.fragment.end ) {\n\t\t\t\t\tplayer.currentTime = percentage.fragment.start\n\t\t\t\t}\n\t\t\t}, 1000);\t\t\t\n\t\t} else {\n\t\t\tevent.target.style.backgroundColor = ''\n\t\t\tmyInterval && clearInterval(myInterval)\n\t\t}\n\t\tseeking = !seeking\t\t\n\t}\n\n\n\tfunction clear(){\n\t\tFragManager.clear()\n\t\tfragmentationPercentage = []\n\t}\n\n</script>\n\n<style global>\n  @tailwind base;\n  @tailwind components;\n \n  @tailwind utilities;\n</style>\n\n<main>\n\t<!-- src=\"/media/my-video.mp4\"   -->\n\t<!-- src=\"https://sveltejs.github.io/assets/caminandes-llamigos.mp4\" -->\n\t<!-- src=\"/assets/caminandes-llamigos.mp4\" \n\tyoutube/DyTCOwB0DVw\n\n\t{player && !!player.paused ? 'fixed z-10' : 'fixed' } \n\t-->\n\t<div class=\"fixed z-10\" hidden={!playerPaused}  >\n\t\t<input bind:this={videoUrlComp} class=\"w-full bg-gray-200 text-black border border-gray-200 rounded-md  px-2\" id=\"application-link\" type=\"text\" placeholder=\"youtube video link\" bind:value={videoUrl}  > \n\t\t<p class=\"text-xs\" hidden={videoUrl}>eg: <spam>youtube/DyTCOwB0DVw</spam></p>\n\t\t<button hidden={!videoUrl} on:click={saveSummary} >Save</button>\n\n\t\t<!-- {#if !mark} <button class=\"p-3 rounded-md bg-green-300\" on:click={markBucle} > A </button>\n\t\t{:else} <button class=\"p-3 rounded-md bg-red-700\" on:click={markBucle} > B </button> {/if} -->\n\t</div>\n\n\t{#if !!videoUrl} \n\t<div >\n\t\t<Player\n\t\tsrc={videoUrl}\n\t\tplugins={[Boot]}\n\t\tproviders={[FileProvider, YouTubeProvider]}\n\t\ton:mount={onPlayerMount}\n\t\tbind:this={player} />\n\t\t<div class=\"bar-container mr-4 h-3 w-full bg-gray-300 flex {mark? 'bg-red-500': ''}\" on:click={markBucle}  >\n\t\t{#each fragmentationPercentage as fragment}\n\t\t\t<div class=\"bg-white\" style=\"width: {fragment.empty}%;\"></div>\n\t\t\t<div class=\"bg-red-900 px-px\" style=\"width: {fragment.percentage}%;\" on:click={(e) => seek(e,fragment)} ><div class=\"bg-red-300 w-full h-full\"></div></div> \n\t\t{/each}\n\t\t</div>\n\t</div>\n\t{/if}\n\n\n</main>\n","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {}\n});\n\nexport default app;"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","exclude_internal_props","props","result","compute_rest_props","keys","rest","Set","has","set_store_value","ret","set","action_destroyer","action_result","destroy","current_component","raf","window","cb","requestAnimationFrame","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","stop_propagation","stopPropagation","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","set_attributes","attributes","descriptors","getOwnPropertyDescriptors","__proto__","key","style","cssText","set_data","set_input_value","input","set_style","important","setProperty","toggle_class","toggle","classList","set_current_component","get_current_component","Error","onMount","on_mount","onDestroy","createEventDispatcher","type","detail","e","createEvent","initCustomEvent","custom_event","bubble","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","schedule_update","then","flush","tick","add_render_callback","add_flush_callback","flushing","seen_callbacks","update","pop","add","clear","fragment","before_update","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","globals","globalThis","global","outro_and_destroy_block","lookup","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","next","get_context","n","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","abs","will_move","did_move","m","first","new_block","old_block","new_key","old_key","get_spread_update","levels","updates","to_null_out","accounted_for","get_spread_object","spread_props","bind","index","bound","create_component","mount_component","new_on_destroy","map","filter","destroy_component","init","instance","create_fragment","not_equal","parent_component","prop_values","context","ready","fill","make_dirty","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","[object Object]","$destroy","indexOf","splice","PluginRole","POSTER","CONTROLS","CAPTIONS","SETTINGS","PlayerEvent","MOUNT","DESTROY","PLUGIN_MOUNT","PLUGIN_DESTROY","subscriber_queue","readable","start","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","cleanup","sync","unsubscribers","el","prop","set_style_raf","get_computed_width","parseFloat","getComputedStyle","get_computed_style","width","is_null","is_undefined","is_null_or_undefined","get_constructor","constructor","is_object","is_number","Number","isNaN","is_string","String","is_boolean","Boolean","Function","is_array","is_instance_of","obj_or_try_parse_json","json","onFail","JSON","parse","try_parse_json","IS_CLIENT","UA","navigator","userAgent","toLowerCase","IS_IOS","test","IS_ANDROID","IS_EDGE","IS_IPHONE","platform","IS_MOBILE","listen_for_touch_input","lastTouchTime","touchListener","Date","mouseListener","can_use_pip_in_chrome","video","pictureInPictureEnabled","disablePictureInPicture","can_use_pip_in_safari","webkitSupportsPresentationMode","webkitSetPresentationMode","can_autoplay","muted","playsinline","webkitPlaysinline","position","top","height","opacity","play","catch","paused","add_params_to_url","url","params","qs","mainAndQuery","split","apppend_querystring_to_url","appendQueryParam","param","v","encodeURIComponent","join","serialize_query_string","prefetch","rel","as","link","href","crossorigin","head","load_image","minWidth","reject","image","Image","onload","onerror","naturalWidth","create_prop","object","descriptor","defineProperty","merge_obj_deep","source","targetValue","sourceValue","concat","deferred","promise","res","rej","is_svelte_component","prototype","try_on_svelte_destroy","on_svelte_instance_destroy","safe_get","make_store_private","private","add_condition_to_store","condition","forceSet","private_writable","initialValue","private_writable_if","writable_if","rangeable","lowerBound","upperBound","min","selectable_if","newValue","$value","$values","includes","selectable","map_store_to_component","comp","canWrite","make_store_readonly","make_private_stores_readonly","configurable","getStore","onUpdateProp","shouldFlush","format_time","seconds","alwaysShowHours","format","hours","trunc","mins","get_minutes","secs","get_seconds","vFocus","dispose","onFocus","isFocused","blur","dispatchEvent","CustomEvent","listenTo","vHighlight","duration","off","setTimeout","vAspectRatio","initialAspectRatio","newAspectRatio","vInputTouch","onTouch","disabled","preventDefault","touch","changedTouches","step","delta","percent","clientRect","getBoundingClientRect","thumbWidth","clientX","left","round","toFixed","calcValue","Event","bubbles","mounted","destroyed","isTouch","vIf","initialVisibility","shouldDisplay","display","vShow","isShowing","visibility","prevTransition","transition","Registry","id","validator","_id","_name","_validator","_registry","_values","_parent","_dispatch","try_create_svelte_dispatcher","msg","_destroyed","_invalidateParent","_unwrapValues","getValues","_error","deregister","args","getRegistrations","getId","Disposal","_dispose","pause","playback","scrubber","scrubberLabel","played","buffered","close","currentTime","live","volume","mute","unmute","captions","subtitlesOrCc","enableCaptions","disableCaptions","default","fullscreen","enterFullscreen","exitFullscreen","settings","seekForward","seekBackward","seekTotal","speed","normal","none","videoQuality","loop","enabled","pip","enterPiP","exitPiP","buildCompleteStore","standardStore","hasRole","plugins","role","some","ROLE","locale","icons","languages","mergeable","en","theme","debug","isMobile","t","isContextMenuEnabled","currentPoster","poster","nativePoster","$poster","$nativePoster","i18n","$locale","$languages","hasControls","useNativeControls","$plugins","$useNativeControls","hasCaptions","useNativeCaptions","canSetTracks","$useNativeCaptions","$canSetNativeTracks","hasSettings","useNativeView","_isControlsActive","isControlsActive","isControlsEnabled","$isControlsEnabled","$isControlsActive","$isNativeControlsActive","canSetTrack","$canSetNativeTrack","canSetPoster","$canSetPoster","hasPlugin","_posterPlugin","idCount","PRECONNECTED","iframe","srcWithParams","dispatch","SRC_CHANGE","MESSAGE","DATA","REBUILD","title","origin","preconnections","decoder","originMatches","contentWindow","hasMounted","message","postMessage","stringify","intersecting","threshold","IntersectionObserver","observer","entries","isIntersecting","unobserve","observe","onScroll","rect","bottom","right","innerHeight","innerWidth","aspectRatio","isEnabled","READY","TITLE_CHANGE","ORIGIN_CHANGE","EMBED_URL_CHANGE","ERROR","embed","mediaTitle","initialized","providers","cookies","hasWrapper","ignoreDefaultParams","sendCommand","command","force","Provider","buildPostMessage","onReload","onSrcChange","onDataHandler","resolveReadyState","extractMediaTitle","find","canPlay","buildOrigin","embedURL","buildEmbedURL","iframeTitle","onData","allParams","defaultParams","onLoad","extractMediaId","ORIGIN","SRC","build_origin","can_play","extract_media_id","match","is_json_or_obj","startsWith","mediaId","func","info","playerState","videoData","ID","player","registry","createRegistry","logger","createLogger","isFullscreenActive","instances","validatedPlugins","plugin","addPlugin","newPlugin","removePlugin","validatePlugin","Plugin","error","$playsinline","$isFullscreenActive","register","newPlugins","promises","all","delPlugins","MediaType","NONE","AUDIO","VIDEO","PlayerState","IDLE","CUED","PLAYING","PAUSED","BUFFERING","ENDED","VideoQuality","UNKNOWN","XXS","XS","S","M","L","XL","XXL","MAX","currentPlayer","playerDefaults","playing","seeking","rebuilding","internalTime","currentSrc","buffering","videoQualities","playbackRate","playbackRates","playbackStarted","playbackEnded","playbackReady","isLive","buildStandardStore","defaults","canAutoplay","canMutedAutoplay","canInteract","$playbackReady","$rebuilding","provider","providerConfig","providerVersion","$src","$providers","$provider","setPoster","mediaType","isAudio","$mediaType","isVideo","isVideoView","$plugin","$isVideo","isVideoReady","$isVideoView","canSetPlaybackRate","$playbackRates","setPlaybackRate","canSetVideoQuality","$videoQualities","setVideoQuality","progress","$currentTime","$duration","$buffered","isPlayerActive","state","$playbackStarted","$playbackEnded","$paused","$buffering","setTracks","tracks","$tracks","setTrack","currentTrackIndex","bounds","$bounds","indexable","currentTrack","$index","isCaptionsActive","$isAudio","$currentTrackIndex","canSetPiP","$isVideoReady","supportsPiP","setPiP","isPiPActive","canSetFullscreen","autopause","autoplay","async","fillStore","onPropsChange","resetStore","FullscreenApi","prefixed","apiMap","self","_standardStore","playerWrapper","parentEl","$currentPlayer","tempMute","tempPlay","tempPause","tempControls","updatingVolume","updatingTime","cancelTempAction","svelteTick","initiateTempPlayback","$canMutedAutoplay","onRestart","$internalTime","setCurrentTime","onTimeUpdate","time","$seeking","$canInteract","checkIfBuffering","checkHasSeeked","onAutoplay","$autoplay","$canAutoplay","$muted","onRebuildStart","onRebuildEnd","requestFullscreen","onRebuild","onPlaybackReady","onAutopause","$autopause","firePauseTimer","onPause","$playing","onVolumeChange","newVolume","$volume","onBuffered","onSeeking","clearTimeout","onSeeked","onPlay","onPlaying","setPaused","setMuted","onLoop","onPlaybackEnd","onStateChange","$Provider","onProviderChange","pipRequest","active","$canSetPiP","fsDispose","fullscreenApi","doesDocumentSupportFullscreenApi","isFullscreen","els","getEl","isActive","fullscreenElement","matches","onDocumentFullscreenChange","onFullscreenChange","requestDocumentFullscreen","shouldEnter","request","requestProviderFullscreen","setFullscreen","fullscreenRequest","canProviderFullscreen","specApi","browserApi","LoadFullscreenApi","fullscreenchange","webkitExitFullscreen","$$props","$isPlayerActive","setPlaysinline","setAspectRatio","$aspectRatio","setView","$useNativeView","setControls","$canSetPlaybackRate","$playbackRate","$canSetVideoQuality","$videoQuality","setVolume","$canSetTracks","$canSetTrack","supportsFullscreen","rebuild","seeked","parseInt","$isPiPActive","AUDIO_EXT","VIDEO_EXT","HLS_EXT","is_media_stream","MediaStream","is_audio","is_video","canPlayType","can_play_hls_natively","is_hls","extract_media_resource","resource","run_on_every_src","every","quality","sources","srclang","kind","label","Html5","PLAYBACK_RATES","WebkitPresentationMode","PIP","INLINE","FULLSCREEN","TextTrack","Mode","SHOWING","HIDDEN","CHANGE","LOADED_METADATA","PROGRESS","PLAY","PAUSE","DURATION_CHANGE","RATE_CHANGE","SEEKING","SEEKED","VOLUME_CHANGE","WAITING","disposal","audio","prevMedia","controls","forceVideo","setChromePiP","pictureInPictureElement","requestPictureInPicture","exitPictureInPicture","setSafariPiP","mode","onTracksChange","media","textTracks","findIndex","timeRaf","cancelTimeUpdates","cancelAnimationFrame","getTimeUpdates","listenToMedia","end","setupMediaListeners","srcHasQualities","Infinity","load","loadMediaStream","srcObject","URL","createObjectURL","loadNewQuality","calcInitialQuality","videoWidth","w","h","minQuality","qualities","recommendedQuality","reduce","prev","curr","recommendedIndex","loadNewSrc","is_qualities_set","shouldUseAudio","shouldUseVideo","webkitFullscreenElement","mozFullScreenElement","webkitPresentationMode","newTime","isMuted","isPaused","newRate","newRatio","newVideoQuality","newPoster","canReload","webkitSupportsFullscreen","webkitEnterFullscreen","can_fullscreen_video","newTracks","newIndex","mediaTextTracks","YouTubeProvider","YT","State","UNSTARTED","QualityMap","unknown","tiny","small","medium","large","hd720","hd1080","highres","Command","SEEK_TO","MUTE","UNMUTE","SET_VOLUME","SET_PLAYBACK_RATE","litePlayer","lastTimeUpdate","fs","iv_load_policy","widget_referrer","location","send","calcCurrentTime","elapsedTime","now","onInfo","_info","availablePlaybackRates","rates","playbackQuality","rate","videoLoadedFraction","loadedFraction","availableQualityLevels","newDuration","currentTimeLastUpdated_","mappedQualities","q","fetchPoster","posterSrc","img","fetch_poster","getMediaId","dInfo","getEmbed","getIframe","disablekb","standardPlayer","pluginsManager","classes","onPluginsManagerMount","onThemeChange","$theme","$debug","getRegistry","requestPiP","subRegistry","iconsContainer","icon","vimeIcons","captionsOn","captionsOff","volumeLow","volumeHigh","volumeMute","checkmark","$icons","fetch","sprite","div","innerHTML","firstLinkTag","getElementsByTagName","container","autopilot","alt","$title","$currentPoster","$isMobile","bannedProviders","useLocale","cues","currentCueIndex","currentCue","$currentCues","activeCues","buildStore","isCueActive","shouldCueBeActive","cue","startTime","endTime","findNextCueIndex","$cues","onCuesChange","$currentCueIndex","addCue","VTTCue","warn","validateCue","removeCue","hasTrack","loadCues","track","buildTrack","newCues","once","$currentCue","$activeCues","getCueAsHTML","trim","get_playback_icon","get_fullscreen_icon","get_volume_icon","volumeIcon","timer","iconRef","valueContainer","actionContainer","show","offsetWidth","onClickListener","bindClickListener","isInputNode","nodeName","ActionDisplayId","onToggle","unbindClickListener","onTop","onBottom","growLeft","growRight","hint","showHint","noBounding","onBound","tooltip","Tooltip","showHints","$isTouch","$registry","getValue","getPluginsRegistry","getShortcuts","addShortcut","shortcut","removeShortcut","keyDownListener","onKeyDown","listeners","keyCode","action","tooltips","TooltipsID","tooltipsRegistry","$tooltipsRegistry","ids","prevState","KeyCode","freeze","TAB","ENTER","ESC","SPACE","PAGEUP","PAGEDOWN","END","HOME","LEFT","UP","RIGHT","DOWN","choices","focusedChoiceIndex","getSubmenu","choice","getElementById","focusChoice","focus","focusController","controller","updateChoices","querySelectorAll","onMenuClose","onOpenSubmenu","click","submenu","showHighlight","badge","menuControl","menuIdCounter","controllerId","menu","divider","isLocked","hideController","tooltipIdCount","tooltipId","shouldRenderTooltip","getTooltipComponent","menuId","isMenuActive","currentSubmenu","submenus","submenuType","createSubmenu","Submenu","removeSubmenu","itemId","onSubmenuOpen","$currentSubmenu","isModalHeaderHidden","$isMenuActive","containerEl","shouldFill","flow","gradientUp","gradientDown","onPositionChange","align","justify","isColumnFlow","onFlowChange","Control","hideControlsTimeout","idleTimer","groups","createGroup","removeGroup","groupId","onShowControls","SettingsID","newGroups","control","activeTitle","inactiveTitle","activeIcon","inactiveIcon","LABEL","prevTrackIndex","$isCaptionsActive","slider","muteControl","prevMuted","unmuteVolume","currentVolume","progressBar","tooltipTitle","tooltipActive","setTooltipXPos","scrubberRect","leftOffset","rightOffset","leftLimit","rightLimit","ariaDuration","$i18n","replace","pageX","$hasSettings","$isLive","getControllerId","getMenu","nextControl","nextElementSibling","lowerGroup","centerGroup","upperGroup","didMount","GROUPS","onResetGroups","getGroup","reset","onDestroyGroups","ControlsID","removeGroups","createGroups","onCreateGroups","liveControls","PlaybackControl","VolumeControl","CurrentTime","ControlSpacer","LiveIndicator","stdControls","ScrubberControl","EndTime","SettingsControl","$set","onSetupAudioControls","isDesktopVideo","BigPlaybackControl","PiPControl","FullscreenControl","ControlNewLine","TimeProgress","CaptionControl","onSetupDesktopVideoControls","onDesktopVideoStart","isMobileVideo","upperStdControls","upperLiveControls","lowerStdControls","onSetupMobileVideoControls","onMobileVideoStart","hasKeyboardInitialized","displayAction","actionDisplay","ActionDisplayID","KeyboardID","MuteControl","keyboard","removeShortcuts","PlaybackControl.LABEL","isUp","MuteControl.LABEL","CaptionControl.LABEL","get_captions_icon","PiPControl.LABEL","get_pip_icon","FullscreenControl.LABEL","$canSetFullscreen","isLeft","onInitializeKeyboard","group","isChecked","menuItemRadios","menuOptions","emptyHint","hasOptions","currentOption","playbackRateMenu","captionsMenu","videoQualityMenu","MENUS","onDestroyMenus","removeSubmenus","onValueChange","$on","createSubmenus","SelectSubmenu","onCreateMenus","playbackRateOptions","captionsOptions","videoQualityOptions","onDblClickListener","bindDblClickListener","unbindDblClickListener","manifest","getPluginsManager","PLUGINS","Icons","Poster","Scrim","Spinner","Captions","ClickToPlay","ActionDisplay","Controls","DefaultControls","Keyboard","DefaultKeyboard","Tooltips","Settings","DefaultSettings","DblClickFullscreen","isPluginEnabled","manifestId","charAt","isPluginDisabled","addPlugins","removePlugins","fragmentation","searchFragment","rewriteEnd","getFragmentation","setFragmentation","frag","addFragment","sort","calculatePercentage","acc","percentages","percentage","Boot","FileProvider","videoUrlComp","videoUrl","playerPaused","fragmentationPercentage","mark","markStart","FragManager","myInterval","seek","backgroundColor","clearInterval","setInterval","localStorage","getItem","saveFragmentation","console","log","setItem","videoReady","body"],"mappings":"gCAAA,SAASA,KAET,SAASC,EAAOC,EAAKC,GAEjB,IAAK,MAAMC,KAAKD,EACZD,EAAIE,GAAKD,EAAIC,GACjB,OAAOF,EAUX,SAASG,EAAIC,GACT,OAAOA,IAEX,SAASC,IACL,OAAOC,OAAOC,OAAO,MAEzB,SAASC,EAAQC,GACbA,EAAIC,QAAQP,GAEhB,SAASQ,EAAYC,GACjB,MAAwB,mBAAVA,EAElB,SAASC,EAAeC,EAAGC,GACvB,OAAOD,GAAKA,EAAIC,GAAKA,EAAID,IAAMC,GAAOD,GAAkB,iBAANA,GAAgC,mBAANA,EAUhF,SAASE,EAAUC,KAAUC,GACzB,GAAa,MAATD,EACA,OAAOnB,EAEX,MAAMqB,EAAQF,EAAMD,aAAaE,GACjC,OAAOC,EAAMC,YAAc,IAAMD,EAAMC,cAAgBD,EAE3D,SAASE,EAAgBJ,GACrB,IAAIK,EAEJ,OADAN,EAAUC,EAAOM,GAAKD,EAAQC,EAA9BP,GACOM,EAEX,SAASE,EAAoBC,EAAWR,EAAOS,GAC3CD,EAAUE,GAAGC,WAAWC,KAAKb,EAAUC,EAAOS,IAElD,SAASI,EAAYC,EAAYC,EAAKC,EAAS7B,GAC3C,GAAI2B,EAAY,CACZ,MAAMG,EAAWC,EAAiBJ,EAAYC,EAAKC,EAAS7B,GAC5D,OAAO2B,EAAW,GAAGG,IAG7B,SAASC,EAAiBJ,EAAYC,EAAKC,EAAS7B,GAChD,OAAO2B,EAAW,IAAM3B,EAClBL,EAAOkC,EAAQD,IAAII,QAASL,EAAW,GAAG3B,EAAG4B,KAC7CC,EAAQD,IAoBlB,SAASK,EAAYC,EAAMC,EAAiBP,EAAKC,EAASO,EAAOC,EAAqBC,GAClF,MAAMC,EAnBV,SAA0BZ,EAAYE,EAASO,EAAOpC,GAClD,GAAI2B,EAAW,IAAM3B,EAAI,CACrB,MAAMwC,EAAOb,EAAW,GAAG3B,EAAGoC,IAC9B,QAAsBK,IAAlBZ,EAAQO,MACR,OAAOI,EAEX,GAAoB,iBAATA,EAAmB,CAC1B,MAAME,EAAS,GACTC,EAAMC,KAAKC,IAAIhB,EAAQO,MAAMU,OAAQN,EAAKM,QAChD,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAKI,GAAK,EAC1BL,EAAOK,GAAKlB,EAAQO,MAAMW,GAAKP,EAAKO,GAExC,OAAOL,EAEX,OAAOb,EAAQO,MAAQI,EAE3B,OAAOX,EAAQO,MAGMY,CAAiBb,EAAiBN,EAASO,EAAOC,GACvE,GAAIE,EAAc,CACd,MAAMU,EAAelB,EAAiBI,EAAiBP,EAAKC,EAASS,GACrEJ,EAAKgB,EAAED,EAAcV,IAG7B,SAASY,EAAuBC,GAC5B,MAAMC,EAAS,GACf,IAAK,MAAMvD,KAAKsD,EACC,MAATtD,EAAE,KACFuD,EAAOvD,GAAKsD,EAAMtD,IAC1B,OAAOuD,EAEX,SAASC,EAAmBF,EAAOG,GAC/B,MAAMC,EAAO,GACbD,EAAO,IAAIE,IAAIF,GACf,IAAK,MAAMzD,KAAKsD,EACPG,EAAKG,IAAI5D,IAAe,MAATA,EAAE,KAClB0D,EAAK1D,GAAKsD,EAAMtD,IACxB,OAAO0D,EAcX,SAASG,EAAgB9C,EAAO+C,EAAK1C,EAAQ0C,GAEzC,OADA/C,EAAMgD,IAAI3C,GACH0C,EAGX,SAASE,EAAiBC,GACtB,OAAOA,GAAiBxD,EAAYwD,EAAcC,SAAWD,EAAcC,QAAUtE,EAOzF,IA8dIuE,EA9dAC,EAJgC,oBAAXC,OAIHC,GAAMC,sBAAsBD,GAAM1E,EA4CxD,SAAS4E,EAAOC,EAAQC,GACpBD,EAAOE,YAAYD,GAEvB,SAASE,EAAOH,EAAQC,EAAMG,GAC1BJ,EAAOK,aAAaJ,EAAMG,GAAU,MAExC,SAASE,EAAOL,GACZA,EAAKM,WAAWC,YAAYP,GAEhC,SAASQ,EAAaC,EAAYC,GAC9B,IAAK,IAAInC,EAAI,EAAGA,EAAIkC,EAAWnC,OAAQC,GAAK,EACpCkC,EAAWlC,IACXkC,EAAWlC,GAAGoC,EAAED,GAG5B,SAASE,EAAQC,GACb,OAAOC,SAASC,cAAcF,GAiBlC,SAASG,EAAYH,GACjB,OAAOC,SAASG,gBAAgB,6BAA8BJ,GAElE,SAASK,EAAKC,GACV,OAAOL,SAASM,eAAeD,GAEnC,SAASE,IACL,OAAOH,EAAK,KAEhB,SAASI,IACL,OAAOJ,EAAK,IAEhB,SAASK,EAAOvB,EAAMwB,EAAOC,EAASC,GAElC,OADA1B,EAAK2B,iBAAiBH,EAAOC,EAASC,GAC/B,IAAM1B,EAAK4B,oBAAoBJ,EAAOC,EAASC,GAS1D,SAASG,EAAiBrG,GACtB,OAAO,SAAUgG,GAGb,OAFAA,EAAMM,kBAECtG,EAAGuG,KAAKC,KAAMR,IAU7B,SAASS,EAAKjC,EAAMkC,EAAWxF,GACd,MAATA,EACAsD,EAAKmC,gBAAgBD,GAChBlC,EAAKoC,aAAaF,KAAexF,GACtCsD,EAAKqC,aAAaH,EAAWxF,GAErC,SAAS4F,EAAetC,EAAMuC,GAE1B,MAAMC,EAAc9G,OAAO+G,0BAA0BzC,EAAK0C,WAC1D,IAAK,MAAMC,KAAOJ,EACS,MAAnBA,EAAWI,GACX3C,EAAKmC,gBAAgBQ,GAER,UAARA,EACL3C,EAAK4C,MAAMC,QAAUN,EAAWI,GAEnB,YAARA,EACL3C,EAAKtD,MAAQsD,EAAK2C,GAAOJ,EAAWI,GAE/BH,EAAYG,IAAQH,EAAYG,GAAKtD,IAC1CW,EAAK2C,GAAOJ,EAAWI,GAGvBV,EAAKjC,EAAM2C,EAAKJ,EAAWI,IAyEvC,SAASG,EAAS5B,EAAMC,GACpBA,EAAO,GAAKA,EACRD,EAAKC,OAASA,IACdD,EAAKC,KAAOA,GAEpB,SAAS4B,EAAgBC,EAAOtG,GAC5BsG,EAAMtG,MAAiB,MAATA,EAAgB,GAAKA,EAUvC,SAASuG,EAAUjD,EAAM2C,EAAKjG,EAAOwG,GACjClD,EAAK4C,MAAMO,YAAYR,EAAKjG,EAAOwG,EAAY,YAAc,IA8EjE,SAASE,EAAaxC,EAASC,EAAMwC,GACjCzC,EAAQ0C,UAAUD,EAAS,MAAQ,UAAUxC,GA6KjD,SAAS0C,EAAsB1G,GAC3B4C,EAAoB5C,EAExB,SAAS2G,IACL,IAAK/D,EACD,MAAM,IAAIgE,MAAM,oDACpB,OAAOhE,EAKX,SAASiE,EAAQlI,GACbgI,IAAwBzG,GAAG4G,SAAS1G,KAAKzB,GAK7C,SAASoI,EAAUpI,GACfgI,IAAwBzG,GAAGC,WAAWC,KAAKzB,GAE/C,SAASqI,IACL,MAAMhH,EAAY2G,IAClB,MAAO,CAACM,EAAMC,KACV,MAAMzH,EAAYO,EAAUE,GAAGT,UAAUwH,GACzC,GAAIxH,EAAW,CAGX,MAAMkF,EAtMlB,SAAsBsC,EAAMC,GACxB,MAAMC,EAAIlD,SAASmD,YAAY,eAE/B,OADAD,EAAEE,gBAAgBJ,GAAM,GAAO,EAAOC,GAC/BC,EAmMeG,CAAaL,EAAMC,GACjCzH,EAAUkB,QAAQ1B,QAAQN,IACtBA,EAAGuG,KAAKlF,EAAW2E,OAcnC,SAAS4C,EAAOvH,EAAW2E,GACvB,MAAMlF,EAAYO,EAAUE,GAAGT,UAAUkF,EAAMsC,MAC3CxH,GACAA,EAAUkB,QAAQ1B,QAAQN,GAAMA,EAAGgG,IAI3C,MAAM6C,EAAmB,GAEnBC,EAAoB,GACpBC,EAAmB,GACnBC,EAAkB,GAClBC,EAAmBC,QAAQC,UACjC,IAAIC,GAAmB,EACvB,SAASC,IACAD,IACDA,GAAmB,EACnBH,EAAiBK,KAAKC,KAG9B,SAASC,IAEL,OADAH,IACOJ,EAEX,SAASQ,EAAoBzJ,GACzB+I,EAAiBtH,KAAKzB,GAE1B,SAAS0J,EAAmB1J,GACxBgJ,EAAgBvH,KAAKzB,GAEzB,IAAI2J,GAAW,EACf,MAAMC,EAAiB,IAAInG,IAC3B,SAAS8F,KACL,IAAII,EAAJ,CAEAA,GAAW,EACX,EAAG,CAGC,IAAK,IAAI5G,EAAI,EAAGA,EAAI8F,EAAiB/F,OAAQC,GAAK,EAAG,CACjD,MAAM1B,EAAYwH,EAAiB9F,GACnCgF,EAAsB1G,GACtBwI,GAAOxI,EAAUE,IAGrB,IADAsH,EAAiB/F,OAAS,EACnBgG,EAAkBhG,QACrBgG,EAAkBgB,KAAlBhB,GAIJ,IAAK,IAAI/F,EAAI,EAAGA,EAAIgG,EAAiBjG,OAAQC,GAAK,EAAG,CACjD,MAAMzB,EAAWyH,EAAiBhG,GAC7B6G,EAAelG,IAAIpC,KAEpBsI,EAAeG,IAAIzI,GACnBA,KAGRyH,EAAiBjG,OAAS,QACrB+F,EAAiB/F,QAC1B,KAAOkG,EAAgBlG,QACnBkG,EAAgBc,KAAhBd,GAEJI,GAAmB,EACnBO,GAAW,EACXC,EAAeI,SAEnB,SAASH,GAAOtI,GACZ,GAAoB,OAAhBA,EAAG0I,SAAmB,CACtB1I,EAAGsI,SACHzJ,EAAQmB,EAAG2I,eACX,MAAM9H,EAAQb,EAAGa,MACjBb,EAAGa,MAAQ,EAAE,GACbb,EAAG0I,UAAY1I,EAAG0I,SAAS/G,EAAE3B,EAAGK,IAAKQ,GACrCb,EAAG4I,aAAa7J,QAAQmJ,IAiBhC,MAAMW,GAAW,IAAI3G,IACrB,IAAI4G,GACJ,SAASC,KACLD,GAAS,CACLE,EAAG,EACHC,EAAG,GACHtH,EAAGmH,IAGX,SAASI,KACAJ,GAAOE,GACRnK,EAAQiK,GAAOG,GAEnBH,GAASA,GAAOnH,EAEpB,SAASwH,GAAcC,EAAOC,GACtBD,GAASA,EAAM5H,IACfqH,GAASS,OAAOF,GAChBA,EAAM5H,EAAE6H,IAGhB,SAASE,GAAeH,EAAOC,EAAO/F,EAAQvD,GAC1C,GAAIqJ,GAASA,EAAMI,EAAG,CAClB,GAAIX,GAAS1G,IAAIiH,GACb,OACJP,GAASL,IAAIY,GACbN,GAAOG,EAAE/I,KAAK,KACV2I,GAASS,OAAOF,GACZrJ,IACIuD,GACA8F,EAAMxF,EAAE,GACZ7D,OAGRqJ,EAAMI,EAAEH,IAsShB,MAAMI,GAA6B,oBAAX7G,OAClBA,OACsB,oBAAf8G,WACHA,WACAC,OAMV,SAASC,GAAwBR,EAAOS,GACpCN,GAAeH,EAAO,EAAG,EAAG,KACxBS,EAAOP,OAAOF,EAAMxD,OAW5B,SAASkE,GAAkBC,EAAYlJ,EAAOmJ,EAASC,EAAS5J,EAAK6J,EAAML,EAAQ5G,EAAMR,EAAS0H,EAAmBC,EAAMC,GACvH,IAAIb,EAAIO,EAAWxI,OACf+I,EAAIJ,EAAK3I,OACTC,EAAIgI,EACR,MAAMe,EAAc,GACpB,KAAO/I,KACH+I,EAAYR,EAAWvI,GAAGoE,KAAOpE,EACrC,MAAMgJ,EAAa,GACbC,EAAa,IAAIC,IACjBC,EAAS,IAAID,IAEnB,IADAlJ,EAAI8I,EACG9I,KAAK,CACR,MAAMoJ,EAAYP,EAAYhK,EAAK6J,EAAM1I,GACnCoE,EAAMoE,EAAQY,GACpB,IAAIxB,EAAQS,EAAOgB,IAAIjF,GAClBwD,EAIIa,GACLb,EAAMzH,EAAEiJ,EAAW/J,IAJnBuI,EAAQe,EAAkBvE,EAAKgF,GAC/BxB,EAAMH,KAKVwB,EAAWnI,IAAIsD,EAAK4E,EAAWhJ,GAAK4H,GAChCxD,KAAO2E,GACPI,EAAOrI,IAAIsD,EAAKvE,KAAKyJ,IAAItJ,EAAI+I,EAAY3E,KAEjD,MAAMmF,EAAY,IAAI7I,IAChB8I,EAAW,IAAI9I,IACrB,SAASiB,EAAOiG,GACZD,GAAcC,EAAO,GACrBA,EAAM6B,EAAEhI,EAAMmH,GACdP,EAAOvH,IAAI8G,EAAMxD,IAAKwD,GACtBgB,EAAOhB,EAAM8B,MACbZ,IAEJ,KAAOd,GAAKc,GAAG,CACX,MAAMa,EAAYX,EAAWF,EAAI,GAC3Bc,EAAYrB,EAAWP,EAAI,GAC3B6B,EAAUF,EAAUvF,IACpB0F,EAAUF,EAAUxF,IACtBuF,IAAcC,GAEdhB,EAAOe,EAAUD,MACjB1B,IACAc,KAEMG,EAAWtI,IAAImJ,IAKfzB,EAAO1H,IAAIkJ,IAAYN,EAAU5I,IAAIkJ,GAC3ClI,EAAOgI,GAEFH,EAAS7I,IAAImJ,GAClB9B,IAEKmB,EAAOE,IAAIQ,GAAWV,EAAOE,IAAIS,IACtCN,EAASxC,IAAI6C,GACblI,EAAOgI,KAGPJ,EAAUvC,IAAI8C,GACd9B,MAfA/G,EAAQ2I,EAAWvB,GACnBL,KAiBR,KAAOA,KAAK,CACR,MAAM4B,EAAYrB,EAAWP,GACxBiB,EAAWtI,IAAIiJ,EAAUxF,MAC1BnD,EAAQ2I,EAAWvB,GAE3B,KAAOS,GACHnH,EAAOqH,EAAWF,EAAI,IAC1B,OAAOE,EAaX,SAASe,GAAkBC,EAAQC,GAC/B,MAAMnD,EAAS,GACToD,EAAc,GACdC,EAAgB,CAAErL,QAAS,GACjC,IAAIkB,EAAIgK,EAAOjK,OACf,KAAOC,KAAK,CACR,MAAMgI,EAAIgC,EAAOhK,GACX8I,EAAImB,EAAQjK,GAClB,GAAI8I,EAAG,CACH,IAAK,MAAM1E,KAAO4D,EACR5D,KAAO0E,IACToB,EAAY9F,GAAO,GAE3B,IAAK,MAAMA,KAAO0E,EACTqB,EAAc/F,KACf0C,EAAO1C,GAAO0E,EAAE1E,GAChB+F,EAAc/F,GAAO,GAG7B4F,EAAOhK,GAAK8I,OAGZ,IAAK,MAAM1E,KAAO4D,EACdmC,EAAc/F,GAAO,EAIjC,IAAK,MAAMA,KAAO8F,EACR9F,KAAO0C,IACTA,EAAO1C,QAAO1E,GAEtB,OAAOoH,EAEX,SAASsD,GAAkBC,GACvB,MAA+B,iBAAjBA,GAA8C,OAAjBA,EAAwBA,EAAe,GA2ItF,SAASC,GAAKhM,EAAWgE,EAAM/D,GAC3B,MAAMgM,EAAQjM,EAAUE,GAAG6B,MAAMiC,QACnB5C,IAAV6K,IACAjM,EAAUE,GAAGgM,MAAMD,GAAShM,EAC5BA,EAASD,EAAUE,GAAGK,IAAI0L,KAGlC,SAASE,GAAiB7C,GACtBA,GAASA,EAAMH,IAKnB,SAASiD,GAAgBpM,EAAWkD,EAAQI,GACxC,MAAMsF,SAAEA,EAAQ9B,SAAEA,EAAQ3G,WAAEA,EAAU2I,aAAEA,GAAiB9I,EAAUE,GACnE0I,GAAYA,EAASuC,EAAEjI,EAAQI,GAE/B8E,EAAoB,KAChB,MAAMiE,EAAiBvF,EAASwF,IAAI5N,GAAK6N,OAAOrN,GAC5CiB,EACAA,EAAWC,QAAQiM,GAKnBtN,EAAQsN,GAEZrM,EAAUE,GAAG4G,SAAW,KAE5BgC,EAAa7J,QAAQmJ,GAEzB,SAASoE,GAAkBxM,EAAW6D,GAClC,MAAM3D,EAAKF,EAAUE,GACD,OAAhBA,EAAG0I,WACH7J,EAAQmB,EAAGC,YACXD,EAAG0I,UAAY1I,EAAG0I,SAAS9E,EAAED,GAG7B3D,EAAGC,WAAaD,EAAG0I,SAAW,KAC9B1I,EAAGK,IAAM,IAWjB,SAASkM,GAAKzM,EAAW6E,EAAS6H,EAAUC,EAAiBC,EAAW7K,EAAOhB,EAAQ,EAAE,IACrF,MAAM8L,EAAmBjK,EACzB8D,EAAsB1G,GACtB,MAAM8M,EAAcjI,EAAQ9C,OAAS,GAC/B7B,EAAKF,EAAUE,GAAK,CACtB0I,SAAU,KACVrI,IAAK,KAELwB,MAAAA,EACAyG,OAAQnK,EACRuO,UAAAA,EACAV,MAAOtN,IAEPkI,SAAU,GACV3G,WAAY,GACZ0I,cAAe,GACfC,aAAc,GACdiE,QAAS,IAAInC,IAAIiC,EAAmBA,EAAiB3M,GAAG6M,QAAU,IAElEtN,UAAWb,IACXmC,MAAAA,GAEJ,IAAIiM,GAAQ,EAkBZ,GAjBA9M,EAAGK,IAAMmM,EACHA,EAAS1M,EAAW8M,EAAa,CAACpL,EAAGa,KAAQJ,KAC3C,MAAMtC,EAAQsC,EAAKV,OAASU,EAAK,GAAKI,EAOtC,OANIrC,EAAGK,KAAOqM,EAAU1M,EAAGK,IAAImB,GAAIxB,EAAGK,IAAImB,GAAK7B,KACvCK,EAAGgM,MAAMxK,IACTxB,EAAGgM,MAAMxK,GAAG7B,GACZmN,GArCpB,SAAoBhN,EAAW0B,IACI,IAA3B1B,EAAUE,GAAGa,MAAM,KACnByG,EAAiBpH,KAAKJ,GACtBgI,IACAhI,EAAUE,GAAGa,MAAMkM,KAAK,IAE5BjN,EAAUE,GAAGa,MAAOW,EAAI,GAAM,IAAO,GAAMA,EAAI,GAgC/BwL,CAAWlN,EAAW0B,IAEvBa,IAET,GACNrC,EAAGsI,SACHwE,GAAQ,EACRjO,EAAQmB,EAAG2I,eAEX3I,EAAG0I,WAAW+D,GAAkBA,EAAgBzM,EAAGK,KAC/CsE,EAAQ3B,OAAQ,CAChB,GAAI2B,EAAQsI,QAAS,CACjB,MAAMC,EApnClB,SAAkBrJ,GACd,OAAOsJ,MAAMC,KAAKvJ,EAAQwJ,YAmnCJC,CAAS3I,EAAQ3B,QAE/BhD,EAAG0I,UAAY1I,EAAG0I,SAAS6E,EAAEL,GAC7BA,EAAMnO,QAAQuE,QAIdtD,EAAG0I,UAAY1I,EAAG0I,SAASO,IAE3BtE,EAAQ6I,OACRrE,GAAcrJ,EAAUE,GAAG0I,UAC/BwD,GAAgBpM,EAAW6E,EAAQ3B,OAAQ2B,EAAQvB,QACnD4E,KAEJxB,EAAsBmG,GAsC1B,MAAMc,GACFC,WACIpB,GAAkBrH,KAAM,GACxBA,KAAK0I,SAAWxP,EAEpBuP,IAAI3G,EAAMhH,GACN,MAAMR,EAAa0F,KAAKjF,GAAGT,UAAUwH,KAAU9B,KAAKjF,GAAGT,UAAUwH,GAAQ,IAEzE,OADAxH,EAAUW,KAAKH,GACR,KACH,MAAMgM,EAAQxM,EAAUqO,QAAQ7N,IACjB,IAAXgM,GACAxM,EAAUsO,OAAO9B,EAAO,IAGpC2B,SCt+CJ,MAAMI,GAAa,aACnBA,GAAWC,OAAS,EACpBD,GAAWE,SAAW,EACtBF,GAAWG,SAAW,EACtBH,GAAWI,SAAW,ECJtB,MAAMC,GAAc,aACpBA,GAAYC,MAAQ,QACpBD,GAAYE,QAAU,UACtBF,GAAYG,aAAe,cAC3BH,GAAYI,eAAiB,gBCF7B,MAAMC,GAAmB,GAMzB,SAASC,GAAS9O,EAAO+O,GACrB,MAAO,CACHrP,UAAWsP,GAAShP,EAAO+O,GAAOrP,WAQ1C,SAASsP,GAAShP,EAAO+O,EAAQvQ,GAC7B,IAAIyQ,EACJ,MAAMC,EAAc,GACpB,SAASvM,EAAIwM,GACT,GAAI5P,EAAeS,EAAOmP,KACtBnP,EAAQmP,EACJF,GAAM,CACN,MAAMG,GAAaP,GAAiBjN,OACpC,IAAK,IAAIC,EAAI,EAAGA,EAAIqN,EAAYtN,OAAQC,GAAK,EAAG,CAC5C,MAAMwN,EAAIH,EAAYrN,GACtBwN,EAAE,KACFR,GAAiBtO,KAAK8O,EAAGrP,GAE7B,GAAIoP,EAAW,CACX,IAAK,IAAIvN,EAAI,EAAGA,EAAIgN,GAAiBjN,OAAQC,GAAK,EAC9CgN,GAAiBhN,GAAG,GAAGgN,GAAiBhN,EAAI,IAEhDgN,GAAiBjN,OAAS,IA0B1C,MAAO,CAAEe,IAAAA,EAAKgG,OArBd,SAAgB7J,GACZ6D,EAAI7D,EAAGkB,KAoBWN,UAlBtB,SAAmBb,EAAKyQ,EAAa9Q,GACjC,MAAM+Q,EAAa,CAAC1Q,EAAKyQ,GAMzB,OALAJ,EAAY3O,KAAKgP,GACU,IAAvBL,EAAYtN,SACZqN,EAAOF,EAAMpM,IAAQnE,GAEzBK,EAAImB,GACG,KACH,MAAMoM,EAAQ8C,EAAYjB,QAAQsB,IACnB,IAAXnD,GACA8C,EAAYhB,OAAO9B,EAAO,GAEH,IAAvB8C,EAAYtN,SACZqN,IACAA,EAAO,SAMvB,SAASO,GAAQC,EAAQ3Q,EAAI4Q,GACzB,MAAMC,GAAUnC,MAAMoC,QAAQH,GACxBI,EAAeF,EACf,CAACF,GACDA,EACAK,EAAOhR,EAAG8C,OAAS,EACzB,OAAOkN,GAASY,EAAgB/M,IAC5B,IAAIoN,GAAS,EACb,MAAMC,EAAS,GACf,IAAIC,EAAU,EACVC,EAAU1R,EACd,MAAM2R,EAAO,KACT,GAAIF,EACA,OAEJC,IACA,MAAM/N,EAASrD,EAAG6Q,EAASK,EAAO,GAAKA,EAAQrN,GAC3CmN,EACAnN,EAAIR,GAGJ+N,EAAU7Q,EAAY8C,GAAUA,EAAS3D,GAG3C4R,EAAgBP,EAAapD,IAAI,CAAC9M,EAAOkC,IAAMnC,EAAUC,EAAQK,IACnEgQ,EAAOnO,GAAK7B,EACZiQ,KAAa,GAAKpO,GACdkO,GACAI,KAEL,KACCF,GAAY,GAAKpO,KAIrB,OAFAkO,GAAS,EACTI,IACO,WACHjR,EAAQkR,GACRF,OClGL,MAAM3J,GAAY,CAAC8J,EAAIC,EAAMtQ,EAAQ,QAAeqQ,IAAIA,EAAGnK,MAAMoK,GAAQtQ,IAEnEuQ,GAAgB,CAACF,EAAIC,EAAMtQ,KAAYgD,EAAI,KAAQuD,GAAU8J,EAAIC,EAAMtQ,MAIvEwQ,GAAsBH,GAAQA,EAAKI,WAFd,CAACJ,GAAQA,EAAKpN,OAAOyN,iBAAiBL,GAAM,KAEnBM,CAAmBN,GAAIO,OAAS,ECT9EC,GAAWvK,GAAoB,OAAVA,EACrBwK,GAAgBxK,QAA2B,IAAVA,EACjCyK,GAAwBzK,GAAUuK,GAAQvK,IAAUwK,GAAaxK,GAEjE0K,GAAmB1K,GAC7ByK,GAAqBzK,GAA6B,KAApBA,EAAM2K,YAG1BC,GAAa5K,GAAU0K,GAAgB1K,KAAWtH,OAClDmS,GAAa7K,GAAU0K,GAAgB1K,KAAW8K,SAAWA,OAAOC,MAAM/K,GAC1EgL,GAAahL,GAAU0K,GAAgB1K,KAAWiL,OAClDC,GAAclL,GAAU0K,GAAgB1K,KAAWmL,QACnDpS,GAAeiH,GAAU0K,GAAgB1K,KAAWoL,SACpDC,GAAYrL,GAAUkH,MAAMoC,QAAQtJ,GAWpCsL,GAAiB,CAACtL,EAAO2K,IAAgBQ,QACpDnL,GAAS2K,GAAe3K,aAAiB2K,GCdpC,MAKMY,GAAyBvL,GAChC4K,GAAU5K,GAAeA,EAfxB,SAAwBwL,EAAMC,GACnC,IACE,OAAOC,KAAKC,MAAMH,GAClB,MAAOxK,GAEP,OADIyK,GAAQA,EAAOzK,GACZ,MAWF4K,CAAe5L,GCZX6L,GAA8B,oBAAXlP,OACnBmP,GAAMD,IAAalP,OAAOoP,UAAUC,UAAUC,cAE9CC,IADSJ,IAAM,eAAeK,KAAKL,IACzBA,IAAM,uBAAuBK,KAAKL,KAC5CM,GAAcN,IAAM,UAAUK,KAAKL,IACnCO,GAAWP,IAAMA,GAAGnE,QAAQ,SAAW,EAEvC2E,IADaR,IAAM,cAAcK,KAAKL,IACzBD,IAAa,kBAAkBM,KAAKJ,UAAUQ,WAC3DC,GAAaN,IAAUE,GAMvBK,GAA0B7P,IACrC,IAAKiP,GAAW,OAAO3T,EAEvB,IAAIwU,EAAgB,EAEpB,MAAMC,EAAgBpO,EAAOT,SAAU,aAAc,KACnD4O,EAAgB,IAAIE,KACpBhQ,GAAG,KACF,GAEGiQ,EAAgBtO,EAAOT,SAAU,YAAa,KAE9C,IAAI8O,KAASF,EAAgB,KACjC9P,GAAG,KACF,GAEH,MAAO,KACL+P,IACAE,MAyBSC,GAAwB,KACnC,IAAKjB,GAAW,OAAO,EACvB,MAAMkB,EAAQnP,EAAQ,SACtB,QAASE,SAASkP,0BAA4BD,EAAME,yBAMzCC,GAAwB,KACnC,IAAKrB,GAAW,OAAO,EACvB,MAAMkB,EAAQnP,EAAQ,SACtB,OAAO7E,GAAYgU,EAAMI,iCACpBpU,GAAYgU,EAAMK,6BACjBd,IAYKe,GAAe,CAACC,GAAQ,EAAMC,GAAc,KACvD,IAAK1B,GAAW,OAAO,EAEvB,MAAMkB,EAAQnP,EAAQ,SA2BtB,OAzBI0P,IACFP,EAAM1N,aAAa,QAAS,IAC5B0N,EAAMO,OAAQ,GAGZC,IACFR,EAAM1N,aAAa,cAAe,IAClC0N,EAAM1N,aAAa,qBAAsB,IACzC0N,EAAMQ,aAAc,EACpBR,EAAMS,mBAAoB,GAG5BT,EAAM1N,aAAa,SAAU,KAC7B0N,EAAM1N,aAAa,QAAS,KAE5B0N,EAAMnN,MAAM6N,SAAW,QACvBV,EAAMnN,MAAM8N,IAAM,EAClBX,EAAMnN,MAAM0K,MAAQ,EACpByC,EAAMnN,MAAM+N,OAAS,EACrBZ,EAAMnN,MAAMgO,QAAU,EAItB,IAAIlM,QAASC,GAAYA,EAAQoL,EAAMc,SAASC,MAAM5V,GAE/CwJ,QAAQC,SAASoL,EAAMgB,SC/DnBC,GAAoB,CAC/BC,EACAC,IARwC,EAACD,EAAKE,KAC9C,IAAKA,EAAI,OAAOF,EAChB,MAAMG,EAAeH,EAAII,MAAM,IAAK,GACpC,OAAOD,EAAa,IAAMA,EAAa,GAAK,IAAIA,EAAa,MAAMD,IAAO,IAAIA,IAM3EG,CAA2BL,EA1BM,CAACC,IACrC,MAAMC,EAAK,GACLI,EAAmB,CAACC,EAAOC,KAC/BN,EAAGlU,KAAK,GAAGyU,mBAAmBF,MAAUE,mBAAmBD,OAW7D,OATA/V,OAAOqD,KAAKmS,GAAQpV,QAAS0V,IAC3B,MAAM9U,EAAQwU,EAAOM,GACjB/D,GAAqB/Q,KACrB2R,GAAS3R,GACXA,EAAMZ,QAAS2V,GAAMF,EAAiBC,EAAOC,IAE7CF,EAAiBC,EAAO9U,MAGrByU,EAAGQ,KAAK,MAYoBC,CAAuBV,IAE/CW,GAAW,CAACC,EAAKb,EAAKc,KACjC,IAAKlD,GAAW,OAAO,EACvB,MAAMmD,EAAOpR,EAAQ,QAMrB,OALAoR,EAAKF,IAAMA,EACXE,EAAKC,KAAOhB,EACRc,IAAIC,EAAKD,GAAKA,GAClBC,EAAKE,aAAc,EACnBpR,SAASqR,KAAKrS,OAAOkS,IACd,GCpDII,GAAa,CAAC/W,EAAKgX,EAAW,IAAM,IAAI3N,QAAQ,CAACC,EAAS2N,KACrE,MAAMC,EAAQ,IAAIC,MACZ/Q,EAAU,YACP8Q,EAAME,cACNF,EAAMG,QACbH,EAAMI,cAAgBN,EAAW1N,EAAQ4N,GAASD,EAAOC,IAE3D7W,OAAOP,OAAOoX,EAAO,CAAEE,OAAQhR,EAASiR,QAASjR,EAASpG,IAAAA,MCtB/CuX,GAAc,CACzBC,EACAlQ,EACAmQ,IACGpX,OAAOqX,eAAeF,EAAQlQ,EAAKmQ,GAQ3BE,GAAiB,CAACjT,EAAQkT,IAChCrF,GAAU7N,IAAY6N,GAAUqF,IAIrCvX,OAAOqD,KAAKkU,GAAQnX,QAAS6G,IAC3B,MAAMuQ,EAAcnT,EAAO4C,GACrBwQ,EAAcF,EAAOtQ,GAEvB0L,GAAS6E,IAAgB7E,GAAS8E,GAEpCpT,EAAO4C,GAAOuQ,EAAYE,OAAOD,GACxBvF,GAAUsF,IAAgBtF,GAAUuF,GAE7CpT,EAAO4C,GAAOqQ,GAAe,IAAKE,GAAeC,GAGjDpT,EAAO4C,GAAOwQ,IAIXpT,GAnBEkT,EChBEI,GAAW,KACtB,IAAI1O,EACA2N,EAKJ,MAAO,CAAEgB,QAJO,IAAI5O,QAAQ,CAAC6O,EAAKC,KAChC7O,EAAU4O,EACVjB,EAASkB,IAEO7O,QAAAA,EAAS2N,OAAAA,ICHhBmB,GAAuBzQ,GAAUmL,QAC5CnL,GAASsL,GAAetL,EAAM0Q,UAAWlJ,KAe9BmJ,GAAyB/T,IACpC,IACEgE,EAAUhE,GACV,MAAOoE,MAYE4P,GAA6B,CAACrK,EAAU3J,KA3BnB,IAACoD,GAAAA,EA4BTuG,EA5BmB4E,QAC3CnL,GAASyQ,GAAoBzQ,EAAM2K,iBA6B9BpE,EAASxM,GAAGC,aAAYuM,EAASxM,GAAGC,WAAa,IACtDuM,EAASxM,GAAGC,WAAWC,KAAK2C,KClBjBiU,GAAYpC,WAFApV,EAEgBoV,IAFG1V,GAAYM,EAAMD,WAEhBwL,EAAI6J,GAAKA,EAF/B,IAACpV,GAsCnByX,GAAsBzX,QACvBA,EACH0X,SAAS,IAGLC,GAAyB,CAAC3X,EAAO4X,SAClC5X,EACHgD,IAAM3C,IAAgBmX,GAASI,IAAY5X,EAAMgD,IAAI3C,IACrDwX,SAAU7X,EAAMgD,MAGL8U,GAAoBC,GAAiBN,GAAmBpI,GAAS0I,IA4BjEC,GAAsB,CACjCD,EACAH,IACGH,GARsB,EACzBM,EACAH,IACGD,GAAuBtI,GAAS0I,GAAeH,GAK5BK,CAAYF,EAAcH,IAmBrCM,GAAY,CAACH,EAAcI,EAAYC,KAClD,MAAMpY,EAAQqP,GAAS0I,GACvB,MAAO,IACF/X,EACHgD,IAAM3C,IACJL,EAAMgD,IAAIjB,KAAKC,IAAIwV,GAASW,GAAapW,KAAKsW,IAAIhY,EAAOmX,GAASY,SAyB3DE,GAAgB,CAC3BP,EACA1H,EACAuH,IACGD,GAjBqB,EAACI,EAAc1H,KACvC,IAAIkI,EACJ,MAAMvY,EAAQqP,GAAS0I,GACvB,MAAO,IACF/X,EACHD,UAAW8P,GAAQ,CAAC7P,EAAOqQ,GAAS,EAAEmI,EAAQC,MACvCA,IAAWF,EAAW,MACvBE,EAAQC,SAASF,KAAWD,EAAWC,GACpCD,IACNxY,YAQqB4Y,CAAWZ,EAAc1H,GAASuH,GAajDgB,GAAyB,CAACC,EAAM/I,KAC3C,IAAIgJ,EAAW,GACf,MAAMtY,EAAYqY,GAAQ1R,IAE1BoP,GAAY/V,EAAW,WAAY,CACjC+K,IAAK,IAAM,IAd6B,CAACuE,IAC3C,MAAMtN,EAAS,GAKf,OAJAnD,OAAOqD,KAAKoN,GAAQrQ,QAAS+E,IAC3B,MAAMxE,EAAQ8P,EAAOtL,GACrBhC,EAAOgC,GAAQxE,EAAM0X,QANU,CAAC1X,KAAaD,UAAWC,EAAMD,YAM/BgZ,CAAoB/Y,GAASA,IAEvDwC,GAQYwW,CAA6BlJ,GAC9CmJ,cAAc,IAGhBzY,EAAUE,GAAGC,WAAWC,KAAK,KAC3BvB,OAAOqD,KAAKoN,GAAQrQ,QAASkR,WAAkBnQ,EAAUmQ,YAClDnQ,EAAU0Y,SACjBJ,EAAW,KAGb,MAAMK,EAAe,CAACxI,EAAM4H,EAAUa,GAAc,KbrJtD,IAAmBvZ,EAAGC,EasJbgZ,EAASnI,KbtJC9Q,EasJmB0L,EAAIuE,EAAOa,IbtJ3B7Q,EasJmCyY,EbrJ9C1Y,GAAKA,EAAIC,GAAKA,EAAID,IAAMC,KasJ/BgQ,EAAOa,GAAM3N,IAAIuV,GACba,GAAa1Q,OAcnB,OAXArJ,OAAOqD,KAAKoN,GAAQrQ,QAASkR,IAC3B,MAAM3Q,EAAQ8P,EAAOa,GACrBmI,EAASnI,KAAU3Q,EAAMgD,MAAQhD,EAAM0X,QACvCnB,GAAY/V,EAAWmQ,EAAM,CAC3BpF,IAAK,IAAMA,EAAIvL,GACfgD,IAAK8V,EAASnI,GAAUyE,IAAQ+D,EAAaxI,EAAMyE,GAAG,SAAYxT,EAClEqX,cAAc,MAKV1W,GAAUlD,OAAOqD,KAAKH,GAAO9C,QAASkR,IAAWwI,EAAaxI,EAAMpO,EAAMoO,OCjMvE0I,GAAc,CAACC,EAAU,EAAGC,GAAkB,KAEzD,MAAMC,EAAUnZ,IAAU,IAAIA,GAAQc,OAAO,GAE7C,IAAIsY,GARapZ,EAQKiZ,EARKvX,KAAK2X,MAAOrZ,EAAQ,GAAK,GAAM,KAA1C,IAACA,EASjB,MAAMsZ,EARY,CAACtZ,GAAU0B,KAAK2X,MAAOrZ,EAAQ,GAAM,IAQ1CuZ,CAAYN,GACnBO,EARY,CAACxZ,GAAU0B,KAAK2X,MAAMrZ,EAAQ,IAQnCyZ,CAAYR,GAQzB,OANIC,GAAmBE,EAAQ,EAC7BA,GAAQ,IAERA,EAAQ,GAGH,GAAGA,IAAQD,EAAOG,MAASH,EAAOK,MChB5B,SAASE,GAAOpW,GAC7B,MAAMqW,EAAU,GAEVC,EAAWtS,IACf,MAAMuS,EAAwB,eAAXvS,EAAEF,MAAoC,UAAXE,EAAEF,KAC3CyS,GAAWvW,EAAKwW,OACrBxW,EAAKyW,cAAc,IAAIC,YAAY,cAAe,CAAE3S,OAAQwS,MAGxDI,EAAYnV,IAAY6U,EAAQpZ,KAAKsE,EAAOvB,EAAMwB,EAAO8U,KAO/D,OALAK,EAAS,SACTA,EAAS,QACTA,EAAS,cACTA,EAAS,cAEF,CACLlM,UAAY7O,EAAQya,KCjBT,SAASO,GAAW5W,EAAM6W,EAAW,KAClD,MAAMC,EAAMvV,EAAOvB,EAAM,aAAc,KACrCA,EAAKyW,cAAc,IAAIC,YAAY,kBAAmB,CAAE3S,QAAQ,KAEhEgT,WAAW,KACT/W,EAAKyW,cAAc,IAAIC,YAAY,kBAAmB,CAAE3S,QAAQ,MAC/D8S,KAGL,MAAO,CACLpM,UAAYqM,MCVD,SAASE,GAAahX,EAAMiX,GACzC,MAAM5R,EAAU6R,IACd,IAAKA,EAEH,YADAjU,GAAUjD,EAAM,iBAGlB,MAAOsN,EAAOqD,GAAUuG,EAAe7F,MAAM,KAC7CpO,GAAUjD,EAAM,gBAAqB,IAAMsN,EAASqD,EAAnB,MAKnC,OAFAtL,EAAO4R,GAEA,CACL5R,OAAAA,EACAoF,UACEpF,EAAO,QCZE,SAAS8R,GAAYnX,GAClC,MAsCMoX,EAAWpT,IACf,GAAIA,EAAEjE,OAAOsX,SAAU,OACvBrT,EAAEsT,iBACFtT,EAAEjE,OAAOrD,MAzCO,CAACsH,IACjB,MAAMhB,EAAQgB,EAAEjE,OACVwX,EAAQvT,EAAEwT,eAAe,GACzB9C,EAAMvH,WAAWnK,EAAMZ,aAAa,SAAW,EAC/C/D,EAAM8O,WAAWnK,EAAMZ,aAAa,SAAW,IAC/CqV,EAAOtK,WAAWnK,EAAMZ,aAAa,UAAY,EACjDsV,EAAQrZ,EAAMqW,EAGpB,IAAIiD,EACJ,MAAMC,EAAa5U,EAAM6U,wBAGnBC,EAAe,IAAMF,EAAWtK,UAAqB,IAG3DqK,EAAW,IAAMC,EAAWtK,OAAUiK,EAAMQ,QAAUH,EAAWI,MAGjEL,EAAUvZ,KAAKC,IAAI,EAAGD,KAAKsW,IAAIiD,EAAS,MAGpCA,EAAU,GACZA,IAAY,IAAgB,EAAVA,GAAeG,EACxBH,EAAU,KACnBA,GAA4B,GAAhBA,EAAU,IAAUG,GAGlC,MAAMrH,EAAWiH,GAASC,EAAU,KAEpC,OAAIF,GAAQ,EACH/C,EAAMtW,KAAK6Z,MAAMxH,EAAWgH,GAAQA,EAItC/C,EAAMvH,WAAWsD,EAASyH,QAAQ,KAMxBC,CAAUnU,GAE3B,MAAMxC,EAAQ,IAAI4W,MAAiB,aAAXpU,EAAEF,KAAsB,SAAW,QAAS,CAAEuU,SAAS,IAC/ErU,EAAEjE,OAAO0W,cAAcjV,IAGzB,IAAI6U,EAAU,GACViC,GAAU,EACVC,GAAY,EAEhB,MAQM3U,EAAY,KAChBhI,EAAQya,GACRA,EAAU,GACVpT,GAAUjD,EAAM,cAChBiD,GAAUjD,EAAM,oBAChBiD,GAAUjD,EAAM,gBAeZ2P,EAAgBF,GAZC+I,IACjBA,IAAYF,GAjBF,MACdrV,GAAUjD,EAAM,aAAc,QAC9BiD,GAAUjD,EAAM,mBAAoB,QACpCiD,GAAUjD,EAAM,cAAe,gBACX,CAAC,aAAc,YAAa,YACpClE,QAAS0F,GAAU6U,EAAQpZ,KAAKsE,EAAOvB,EAAMwB,EAAO4V,MAa9D1T,GACA4U,GAAU,EACVC,GAAY,GACFC,GAAYD,IACtB3U,IACA0U,GAAU,EACVC,GAAY,KAMhB,MAAO,CACL9N,UACO8N,GAAW3U,IACZ+L,GAAeA,MC1FV,SAAS8I,GAAIzY,EAAM0Y,GAChC,MAAMrT,EAAUsT,IAEd3Y,EAAK4C,MAAMgW,QAAUD,EAAgB,KAAO,QAK9C,OAFAtT,EAAOqT,GAEA,CACLrT,OAAAA,EACA7F,QAAS,KAAQ6F,GAAO,KCRb,SAASwT,GAAM7Y,EAAM0Y,GAClC,MAAMrT,EAAUyT,IACd9Y,EAAK4C,MAAMgO,QAAUkI,EAAY,IAAM,IACvC9Y,EAAK4C,MAAMmW,WAAaD,EAAY,UAAY,UAGlDzT,EAAOqT,GAEP,MAAMM,EAAiBrZ,OAAOyN,iBAAiBpN,GAAMiZ,WAGrD,OAFAjZ,EAAK4C,MAAMqW,YAAgBD,EAAoBA,EAAH,KAAwB,IAA5C,2BAEjB,CACL3T,OAAAA,EACA7F,QAAS,KACP6F,EAAOqT,GACP1Y,EAAK4C,MAAMqW,WAAaD,ICPf,MAAME,GACnBzO,YAAY0O,EAAIC,GACdpX,KAAKqX,IAAMF,EACXnX,KAAKsX,MAAWH,EAAH,WACbnX,KAAKuX,WAAaH,SAAoB,GACtCpX,KAAKwX,UAAY,IAAIva,IACrB+C,KAAKyX,QAAU/N,GAAS,IACxB1J,KAAK0X,QAAU,KACf1X,KAAK2X,UTNmC,MAC1C,IACE,OAAO9V,IACP,MAAOG,GACP,OAAO9I,ISEU0e,GACjBjG,GAAsB,IAAM3R,KAAKxC,WAGnCiL,OAAOoP,GACL,MAAMpW,MAAM,GAAGzB,KAAKsX,YAAYO,KAGlCpP,oBACMzI,KAAK0X,UAAY1X,KAAK0X,QAAQI,aAChC9X,KAAK0X,QAAQD,QAAQpU,OAAQoM,GAAMA,GACnCzP,KAAK0X,QAAQK,qBAIjBtP,cAAciC,GACZ,MAAM7N,EAAS,GAKf,OAJAnD,OAAOqD,KAAK2N,GAAQ5Q,QAASqd,IAC3B,MAAMzc,EAAQgQ,EAAOyM,GACrBta,EAAOsa,GAAM7K,GAAe5R,EAAOwc,IAAYlX,KAAKgY,cAActd,EAAMud,aAAevd,IAElFmC,EAGT4L,QACE,OAAOzI,KAAKqX,IAGd5O,UACE,OAAOzI,KAAKsX,MAGd7O,mBACE,OAAOP,MAAMC,KAAKnI,KAAKwX,UAAU9M,UAGnCjC,SAAS0O,GACP,OAAOvR,EAAI5F,KAAKyX,SAASN,GAG3B1O,YACE,OAAO7C,EAAI5F,KAAKyX,SAGlBhP,IAAI0O,GACF,OAAOnX,KAAKwX,UAAUta,IAAIia,GAG5B1O,aACEzI,KAAKyX,QAAQpU,OAAQoM,GAAMA,GAC3BzP,KAAK+X,oBAGPtP,SAAS0O,EAAIzc,GACNyc,GAAInX,KAAKkY,OAAO,+CACjBlY,KAAK9C,IAAIia,IAAKnX,KAAKkY,OAAO,sCAAsCf,sBAC/DnX,KAAKuX,WAAWJ,EAAIzc,KACzBsF,KAAKwX,UAAUjU,IAAI4T,GACnBnX,KAAKyX,QAAQpU,OAAQyP,QAAkBA,EAASrK,CAAC0O,GAAKzc,KACtDkX,GAA2BlX,EAAO,IAAMsF,KAAKmY,WAAWhB,IAEpD7K,GAAe5R,EAAOwc,MAAWxc,EAAMgd,QAAU1X,MACrDA,KAAK2X,UAAU,WAAY,CAAER,GAAAA,EAAIzc,MAAAA,IACjCsF,KAAK+X,qBAGPtP,WAAW0O,GACJnX,KAAK9C,IAAIia,KACdnX,KAAKwX,UAAUnT,OAAO8S,GACtBnX,KAAKyX,QAAQpU,OAAQyP,WAEZA,EAAQqE,GACRrE,IAET9S,KAAK2X,UAAU,aAAcR,GAC7BnX,KAAK+X,qBAGPtP,aAAa2P,GACX,OAAOlO,GAAQlK,KAAKyX,QAAU3E,GAAY9S,KAAKgY,cAAclF,IAAU1Y,aAAage,GAGtF3P,UACM8C,GAAQvL,KAAKwX,aACjBxX,KAAKqY,mBAAmBve,QAASqd,GAAOnX,KAAKmY,WAAWhB,IACpDnX,KAAK0X,UAAY1X,KAAK0X,QAAQI,YAAY9X,KAAK0X,QAAQS,WAAWnY,KAAKsY,SAC3EtY,KAAK8X,YAAa,ICnGP,MAAMS,GACnB9P,cACEzI,KAAKwY,SAAW,GAChB7G,GAAsB,IAAM3R,KAAKqU,WAGnC5L,IAAI3N,GACFkF,KAAKwY,SAASvd,KAAKH,GAGrB2N,UACE7O,EAAQoG,KAAKwY,UACbxY,KAAKwY,SAAW,WCjBL,CACb3J,KAAM,OACN4J,MAAO,QACPC,SAAU,WACVC,SAAU,WACVC,cAAe,8BACfC,OAAQ,SACRhE,SAAU,WACViE,SAAU,WACVC,MAAO,QACPC,YAAa,eACbC,KAAM,OACNC,OAAQ,SACRC,KAAM,OACNC,OAAQ,SACRC,SAAU,WACVC,cAAe,eACfC,eAAgB,4BAChBC,gBAAiB,6BACjBC,QAAS,UACTC,WAAY,aACZC,gBAAiB,mBACjBC,eAAgB,kBAChBC,SAAU,WACVC,YAAa,eACbC,aAAc,gBACdC,UAAW,aACXC,MAAO,QACPC,OAAQ,SACRC,KAAM,OACNC,aAAc,gBACdC,KAAM,OACNhF,SAAU,WACVP,IAAK,MACLwF,QAAS,UACTC,IAAK,qBACLC,SAAU,aACVC,QAAS,UC7BJ,MAAMC,GAAsBC,IACjC,MAAMtgB,EAAQ,GACRugB,EAAU,CAACC,EAASC,IAASD,EAAQE,KAAMre,GAAMA,EAAEse,OAASF,GAwFlE,OAtFAzgB,EAAM4gB,OAASvR,GAAS,MACxBrP,EAAM6gB,MAAQxR,GAAS,IACvBrP,EAAM8gB,UXwDiB,CAAC/I,IACxB,MAAM/X,EAAQqP,GAAS0I,GACvB,MAAO,IACF/X,EACHgD,IAAMoS,IAAQpV,EAAMgJ,OAAQ3G,GAAMsU,GAAetU,EAAG+S,OW5DpC2L,CAAU,CAAEC,GAAAA,KAC9BhhB,EAAMihB,MAAQ5R,GAAS,MACvBrP,EAAMwgB,QAAUnR,GAAS,IACzBrP,EAAMkhB,MAAQ7R,IAASzN,GACvB5B,EAAMmhB,SAAW9R,GAAS8D,IAC1BnT,EAAMmc,QAAUhN,IAAS,EAAQnM,GAAQoQ,GAAwBgO,GAAMpe,EAAIoe,KAC3EphB,EAAMqhB,qBAAuBhS,IAAS,GAEtCrP,EAAMshB,cAAgBzR,GACpB,CAACyQ,EAAciB,OAAQjB,EAAckB,cACrC,EAAEC,EAASC,KAAoBD,GAAWC,GAG5C1hB,EAAM2hB,KAAO9R,GACX,CAAC7P,EAAM4gB,OAAQ5gB,EAAM8gB,WACrB,EAAEc,EAASC,KAAgBA,EAAWD,IAAYC,EAAWb,IAG/DhhB,EAAM8hB,YAAcjS,GAClB,CAAC7P,EAAMwgB,QAASF,EAAcyB,mBAC9B,EAAEC,EAAUC,KAAwB1B,EAAQyB,EAAUxT,GAAWE,WAC5DuT,GAGPjiB,EAAMkiB,YAAcrS,GAClB,CAAC7P,EAAMwgB,QAASF,EAAc6B,kBAAmB7B,EAAc8B,cAC/D,EAAEJ,EAAUK,EAAoBC,KAAyB/B,EAAQyB,EAAUxT,GAAWG,WAChF0T,GAAsBC,GAG9BtiB,EAAMuiB,YAAc1S,GAClB,CAAC7P,EAAMwgB,QAASF,EAAcyB,mBAC9B,EAAEC,EAAUC,KAAwB1B,EAAQyB,EAAUxT,GAAWI,WAC5DqT,GAKP3B,EAAckC,cAAcxf,KAAI,GAChCsd,EAAcyB,kBAAkB/e,KAAI,GACpCsd,EAAc6B,kBAAkBnf,KAAI,GAGpChD,EAAMyiB,kBAAoBpT,IAAS,GACnCrP,EAAM0iB,iBAAmB7S,GACvB,CACEyQ,EAAcqC,kBAEd3iB,EAAMyiB,kBACNnC,EAAcyB,kBACdzB,EAAcoC,kBAEhB,EACEE,EACAC,EACAZ,EACAa,KACIF,IACAC,GACAZ,GAAsBa,IAG9B9iB,EAAM+iB,YAAclT,GAClB,CAAC7P,EAAMwgB,QAASF,EAAc6B,kBAAmB7B,EAAcyC,aAC/D,EAAEf,EAAUK,EAAoBW,KAAwBzC,EAAQyB,EAAUxT,GAAWG,WAC/E0T,GAAsBW,GAG9BhjB,EAAMoiB,aAAevS,GACnB,CAAC7P,EAAMwgB,QAASF,EAAc6B,kBAAmB7B,EAAc8B,cAC/D,EAAEJ,EAAUK,EAAoBC,KAAyB/B,EAAQyB,EAAUxT,GAAWG,WAChF0T,GAAsBC,GAG9BtiB,EAAMijB,aAAepT,GACnB,CAAC7P,EAAMwgB,QAASF,EAAc2C,cAC9B,EAAEjB,EAAUkB,MACV,MAAMC,EAAY5C,EAAQyB,EAAUxT,GAAWC,QAG/C,OADA6R,EAAc8C,cAAcpgB,IAAImgB,GACzBA,GAAaD,IAIjB,IACF5C,KACAtgB,oGC/FAe,kNALoBA,gFAKpBA,sEAQDsiB,GAAU,QACRC,6BAOFC,EAAS,KACTC,EAAgB,KAGpBH,IAAW,QACLvG,gBAAmBuG,GACnBI,EAAWjc,IAEXuU,GACJ2H,WAAY,YACZC,QAAS,UACTC,KAAM,OACNC,QAAS,mBAGA7kB,EAAM,eACN8kB,EAAQ,gBACRjP,gBACAkP,EAAS,wBACTC,iBACAC,EAAU,cAWfC,EAAiBvc,MAChB4b,GAAU5b,EAAEiP,SAAW2M,EAAOY,iBAC3BxS,GAAUoS,IAAYA,IAAWpc,EAAEoc,YAUzCK,GAAa,SACjB/c,YAAgB+c,GAAa,kPAKtBA,OAAYZ,EAAgBxkB,EAAM2V,GAAkB3V,EAAK6V,GAAU,wBAHnEuP,GAAYX,EAAS1H,EAAM2H,WAAYF,qBACvCY,GAAcZ,GAAeC,EAAS1H,EAAM8H,2BAI5CO,GAAcZ,IAAkBD,IAAWD,GAAa5K,SAAS8K,IAClEhO,GAAS,aAAcgO,IAAgBF,GAAa1iB,KAAK4iB,qBAKxDY,GACLJ,EACGjX,OAAQ1K,IAAOihB,GAAa5K,SAASrW,IACrC5C,QAASmV,IAAcY,GAAS,aAAcZ,IAAM0O,GAAa1iB,KAAKgU,eAxBxDjN,QACZuc,EAAcvc,UACnB8b,EAAS1H,EAAM4H,QAAShc,SAClB7C,EAAOmf,EAAUA,EAAQtc,EAAE7C,MAAQ,KACrCA,GAAM2e,EAAS1H,EAAM6H,KAAM9e,kBAlBNgY,MACIyG,MACHC,GAEAa,EAAS3gB,KAC9B6f,GAAWA,EAAOY,eACvBZ,EAAOY,cAAcG,YAAYjS,KAAKkS,UAAUF,GAAU3gB,GAAUqgB,GAAU,6EAxCrER,osBCCP7S,EACA8T,GAAe,aAERC,EAAY,OAEvBpd,UACsC,oBAAzBqd,4BACHC,MAAeD,qBAAsBE,QACzCJ,EAAeI,EAAQ,GAAGC,gBACtBL,GAAcG,EAASG,UAAUpU,KAClC+T,UAAAA,WAELE,EAASI,QAAQrU,OACJiU,EAASG,UAAUpU,YAGzBsU,UACDC,EAAOvU,EAAG8K,4BAEhBgJ,EACES,EAAKC,OAAS,GACXD,EAAKE,MAAQ,GACZF,EAAK5Q,KAAO,EAAIoQ,GAAcnhB,OAAO8hB,aACtCH,EAAKtJ,KAAOrY,OAAO+hB,YAGpBb,GAAclhB,OAAOiC,oBAAoB,SAAUyf,UAGzD1hB,OAAOgC,iBAAiB,SAAU0f,OACrB1hB,OAAOiC,oBAAoB,SAAUyf,gLAxCtCtU,gxBCIMQ,GAAQnQ,6EACJA,KAAYA,KAAc,qGAA1BA,KAAYA,KAAc,wBAD9BmQ,GAAQnQ,yHAFrBA,gFAAAA,2PAFJA,oUAqBG0iB,EAAWjc,QAEbkJ,eAEO4U,EAAc,mBACdC,GAAY,8LAEhB7U,GAAI+S,EAAS,QAAS/S,0DAtBZA,mKCGV3P,YACGA,WACDA,YACCA,mJAKCA,kCACAA,OAAAA,gDACKA,wJAVTA,0BACGA,wBACDA,wBACCA,sLARCA,wKAAAA,4KA2BL0iB,EAAWjc,IAEXuU,GACJyJ,MAAO,QACPC,aAAc,cACdC,cAAe,eACfC,iBAAkB,iBAClBC,MAAO,aAGLC,EACAC,EAAa,KACbtY,EAAQwJ,KACR+O,GAAc,OAEP/mB,EAAM,gBACN6V,mBACAmR,iBACAC,GAAU,iBACVC,GAAa,kBACbZ,EAAc,+BACda,GAAsB,WASpBC,QAAqBC,EAAStI,EAAMuI,QAC1CC,MAGED,UACG3d,UACA6E,EAAMyJ,SAEd4O,EAAMvB,YAAYiC,EAASC,iBAAiBH,EAAStI,UAC9CpW,MAGL8e,OACJjZ,EAAMyJ,QAAQxC,MAAM5V,GACpB2O,EAAMyI,SACNzI,EAAQwJ,UACR+O,GAAc,GACdvY,EAAMyJ,QACHxO,eACCsd,GAAc,GACdtC,EAAS1H,EAAMyJ,SAEhB/Q,MAAO9M,IACN8b,EAAS1H,EAAM6J,MAAOje,MAItB+e,YAAsBZ,EAAa,OAGnCa,EAAiBhf,UACf7C,EAAO6C,EAAED,OACV5C,GAASyhB,IACdA,EAASK,kBAAkB9hB,EAAM0I,EAAO4Y,GACnCN,QAAYA,EAAaS,EAASM,kBAAkB/hB,0BAGvDsf,GAAa,SACjB/c,YAAgB+c,GAAa,KAE7BqC,0TAEGC,8BAIAH,EAAWP,EAAUc,KAAMzkB,GAAMA,EAAE0kB,QAAQ/nB,kCAF3C+kB,EAASwC,EAAWA,EAASS,YAAYf,GAAW,mCACpDgB,EAAWV,EAAWA,EAASW,cAAcloB,EAAKinB,GAAW,mCAE7DkB,EAAeZ,GAAYT,KAAiBS,EAAS/hB,UAAUshB,GAAc,iBAAmB,mCAChG7B,EAAUsC,EAAWA,EAAStC,QAAU,mCACxCD,EAAiBuC,EAAWA,EAASvC,+CACrCoD,EAAWrB,GAAgBD,EAA8B,KAAhBa,gCAEzCU,GAAclB,GAAuBI,GAAYA,EAASe,kBACpDf,EAASe,iBAAkBzS,GAChCA,4BAEGuP,GAAYX,EAAS1H,EAAM2H,WAAY1kB,4BACvColB,GAAYX,EAAS1H,EAAM0J,aAAcK,4BACzC1B,GAAYX,EAAS1H,EAAM2J,cAAe3B,4BAC1CK,GAAYX,EAAS1H,EAAM4J,iBAAkBsB,gCA/BzBV,GAAUA,EAASgB,OAAO1B,kBAnCtB9B,MACD8B,MACGoB,MACHnB,MACGS,MACAA,EAAWA,EAASiB,eAAexoB,GAAO,oEAvC9D6mB,itCClBR,MACM4B,GAAS,0BAETC,GAAM,kHAaNC,GAAgB1B,GAAaA,EAAUwB,GAdnB,mCAgBpBG,GAAY5oB,GAAQ2S,GAAU3S,IAAQ0oB,GAAI5U,KAAK9T,GAE/C6oB,GAAoB7oB,IAC/B,MAAM8oB,EAAQ9oB,EAAMA,EAAI8oB,MAAMJ,IAAO,KACrC,OAAOI,EAAQA,EAAM,GAAK,aClBb,CACbtjB,KDLkB,UCMlByf,QCJ0Bnf,IAASijB,SzBONphB,EyBPqB7B,KzBS3CyM,GAAU5K,IAAUA,EAAMqhB,WAAW,OyBTe9V,GAAsBpN,GzBOrD,IAAC6B,GwBF7Bqd,eDD4B,CAC5ByD,GAL+B,mCAO/B,yBACA,sCACA,iCACA,sBACA,uBCLAV,QAASa,GACTZ,YAAaW,GACbH,eAAgBK,GAChBX,cDc6B,CAACloB,EAAKinB,KACnC,MAAMgC,EAAUJ,GAAiB7oB,GACjC,OAAOipB,EAAU,GAAGN,GAAa1B,YAAkBgC,kBAA0B,MCf7EV,OAAS1B,IAEPnL,WAAW,IAAMmL,EAAMvB,YAAY,CAAEnf,MAAO,cAAgB,MAE9DqhB,iBAAkB,CAACH,EAAStI,MAC1B5Y,MAAO,UACP+iB,KAAM7B,EACNtI,KAAMA,GAAQ,KAEhB6I,kBAAmB,CAAC9hB,EAAM0I,KACxB,MAAM2a,KAAEA,EAAIhjB,MAAEA,GAAUL,EAClBsjB,EAAcD,GAAQA,EAAKC,YACnB,UAAVjjB,GAAmBqI,EAAMyI,OAAOkS,GAChB,IAAhBC,GAAmB5a,EAAMlF,WAE/Bue,kBAAoB/hB,IAClB,MAAMujB,EAAYvjB,EAAKqjB,MAAQrjB,EAAKqjB,KAAKE,UAEzC,OADcA,GAAaA,EAAUvE,OACrB,oJE7BV/iB,MAAOqe,wSAAPre,MAAOqe,+VAHVre,gBAA4BA,MAAOunB,mBAAxCrmB,wMAAKlB,yFAALkB,uIAUaqmB,GAAK,gDAWPC,WAELC,EAAWD,EAAOE,eAAeH,IACjCI,EAASH,EAAOI,aAAaL,aAC3B9H,EAAOtM,YAAEA,EAAW0U,mBAAEA,GAAuBL,EAAOrP,6EAMtD2P,SACFC,WAES3F,EAAa4F,GAAWA,EAAOT,IAAMtG,EAAStB,KAAMre,GAAMA,EAAEimB,KAAOS,EAAOT,IAE1EU,WACP7F,EAAU8F,GAAmB5gB,QAAQC,QAAQugB,EAAUI,EAAUX,UACrEtG,EAASA,EAAS/f,QAAUgnB,WACtBtgB,IACCkgB,EAAUI,EAAUX,KAQhBY,EAAgBpM,QAC3BkF,EAAWA,EAASjV,OAAQ1K,GAAMA,EAAEimB,KAAOxL,IACpCnU,KAkBHwgB,EAAkBC,UAChB5kB,EAAO4kB,IAAWA,EAAOd,IAAOc,EAAOhK,SAAWgK,EAAOhK,QAAQ5a,aAClE4kB,GAAWA,EAAOd,MAIlBc,EAAOhK,UAAYhI,GAAoBgS,EAAOhK,YACjDsJ,EAAOW,iBAAiB7kB,sEACjB,IALPkkB,EAAOW,iBAAiB7kB,qCACjB,UAUP4f,GAAa,SACjB/c,YAAgB+c,GAAa,wFArB1BmB,EAAa1S,IAAUyW,IAAiBC,IAAyB1W,uBAuB7DuR,OACL0E,EAAmBvD,EAAYvD,EAASjV,OAAOoc,GAAgBrc,IAAKzK,QAAYA,uBAG/EymB,EACA/b,OAAQ1K,IAAOmmB,EAAS3lB,IAAIR,EAAEimB,KAAOO,EAAUxmB,EAAEimB,KACjD7oB,QAAS4C,GAAMmmB,EAASgB,SAASnnB,EAAEimB,GAAIO,EAAUxmB,EAAEimB,wBAhD3BmB,UACnBC,EAAWD,EAAW3c,IAAIkc,UACzB3gB,QAAQshB,IAAID,MAQSE,IAC5BA,EAAW9c,IAAIoc,GACRvgB,SAGwB6f,EACP1L,GAAO+L,EAAU/L,OACX+L,gCAxDnBA,EAAUO,EAAOd,oCAAjBO,EAAUO,EAAOd,6hBCHhC,MAAMuB,GAAY,aAClBA,GAAUC,KAAO,EACjBD,GAAUE,MAAQ,EAClBF,GAAUG,MAAQ,ECHlB,MAAMC,GAAc,aACpBA,GAAYC,KAAO,EACnBD,GAAYE,KAAO,EACnBF,GAAYG,QAAU,EACtBH,GAAYI,OAAS,EACrBJ,GAAYK,UAAY,EACxBL,GAAYM,MAAQ,ECNpB,MAAMC,GAAe,aACrBA,GAAaC,QAAU,EACvBD,GAAaE,IAAM,IACnBF,GAAaG,GAAK,IAClBH,GAAaI,EAAI,IACjBJ,GAAaK,EAAI,IACjBL,GAAaM,EAAI,IACjBN,GAAaO,GAAK,KAClBP,GAAaQ,IAAM,KACnBR,GAAaS,IAAM,KCRZ,MAAMC,GAAgB7b,GAAS,MCWhC8b,GAAiB,MACrBzW,QAAQ,EACR0W,SAAS,EACTC,SAAS,EACTC,YAAY,EACZC,aAAc,EACd5M,YAAa,EACbmF,MAAO,GACPtJ,SAAU,EACViE,SAAU,EACVwJ,QAAS,KACTuD,WAAY,KACZC,WAAW,EACX1L,aAAcyK,GAAaC,QAC3BiB,eAAgB,GAChBC,aAAc,EACdC,cAAe,CAAC,GAChBC,iBAAiB,EACjBC,eAAe,EACfC,eAAe,EACfC,QAAQ,EACRxK,aAAc,KACdkB,kBAAkB,IAcPuJ,GAAsB1D,IACjC,MAAMvoB,EAAQ,GACRksB,EAAWf,KxB6ES,IAI1BvT,EwB4JA,OA3OA5X,EAAM+rB,cAAgBjU,GAAiBoU,EAASH,eAChD/rB,EAAMsrB,WAAatT,GAAoBkU,EAASZ,WAAYtrB,EAAM+rB,eAClE/rB,EAAMmsB,YAAcrU,IAAiB,GACrC9X,EAAMosB,iBAAmBtU,IAAiB,GAC1C9X,EAAMqsB,YAAcxc,GAClB,CAAC7P,EAAM+rB,cAAe/rB,EAAMsrB,YAC5B,EAAEgB,EAAgBC,KAAiBD,IAAmBC,GAOxDvsB,EAAMwiB,cAAgBnT,IAAS,GAC/BrP,EAAM+hB,kBAAoB1S,IAAS,GACnCrP,EAAMmiB,kBAAoB9S,IAAS,GACnCrP,EAAMwhB,aAAe1J,GAAiBoU,EAAS1K,cAM/CxhB,EAAMhB,IAAMqQ,GAAS,MACrBrP,EAAMioB,QAAUnQ,GAAiBoU,EAASjE,SAC1CjoB,EAAMuhB,OAASlS,GAAS,MACxBrP,EAAMwsB,SAAW1U,GAAiB,MAClC9X,EAAMgmB,UAAY3W,GAAS,IAC3BrP,EAAMysB,eAAiBpd,GAAS,IAChCrP,EAAM0sB,gBAAkBrd,GAAS,UACjCrP,EAAM+jB,OAASjM,GAAiB,MAChC9X,EAAM8jB,MAAQhM,GAAiBoU,EAASpI,OACxC9jB,EAAMwrB,WAAa1T,GAAiBoU,EAASV,YAE7CxrB,EAAMumB,SAAW1W,GACf,CAAC7P,EAAMhB,IAAKgB,EAAMgmB,WAClB,EAAE2G,EAAMC,KAAgBA,EAAW9F,KAAMzkB,GAAMA,EAAE0kB,QAAQ4F,KAG3D3sB,EAAMijB,aAAepT,GACnB7P,EAAMwsB,SACLK,GAAcA,GAAantB,GAAYmtB,EAAUC,YAOpD9sB,EAAM+sB,UAAYjV,GAAiB+R,GAAUC,MAC7C9pB,EAAMgtB,QAAUnd,GAAQ7P,EAAM+sB,UAAYE,GAAeA,IAAepD,GAAUE,OAClF/pB,EAAMktB,QAAUrd,GAAQ7P,EAAM+sB,UAAYE,GAAeA,IAAepD,GAAUG,OAClFhqB,EAAMgsB,OAASlU,IAAiB,GAChC9X,EAAM4rB,cAAgB9T,GAAiBoU,EAASN,eAChD5rB,EAAM0rB,eAAiB5T,GAAiBoU,EAASR,gBACjD1rB,EAAMwa,SAAW1C,GAAiBoU,EAAS1R,UAI3Cxa,EAAMojB,cAAgB/T,IAAS,GAC/BrP,EAAMmtB,YAActd,GAElB,CAAC7P,EAAMuhB,OAAQvhB,EAAMwhB,aAAcxhB,EAAMijB,aAAcjjB,EAAMojB,cAAepjB,EAAMktB,SAClF,EACEzL,EACAC,EACAwB,EACAkK,EACAC,QACQnK,IAAiBkK,IAAa3L,IAAWC,IAAmB2L,GAGxErtB,EAAMstB,aAAezd,GACnB,CAAC7P,EAAM+rB,cAAe/rB,EAAMmtB,aAC5B,EAAEb,EAAgBiB,KAAkBjB,GAAkBiB,GAOxDvtB,EAAMwtB,mBAAqB3d,GACzB,CAAC7P,EAAMwsB,SAAUxsB,EAAM4rB,eACvB,EACEiB,EACAY,KACIZ,GAAaY,EAAexrB,OAAS,GAAKvC,GAAYmtB,EAAUa,kBAGxE1tB,EAAM2tB,mBAAqB9d,GACzB,CAAC7P,EAAMwsB,SAAUxsB,EAAMktB,QAASltB,EAAM0rB,gBACtC,EAAEmB,EAAWQ,EAAUO,KAAqBf,GACvCQ,GACAO,EAAgB3rB,OAAS,GACzBvC,GAAYmtB,EAAUgB,kBAG7B7tB,EAAM0U,OAASrF,GAAS6c,EAASxX,QACjC1U,EAAM2rB,aAAerT,GACnB4T,EAASP,aACT3rB,EAAM4rB,cACN5rB,EAAMwtB,oBAERxtB,EAAM+f,aAAezH,GACnB4T,EAASnM,aACT/f,EAAM0rB,eACN1rB,EAAM2tB,oBAER3tB,EAAM2e,YAAczG,GAAUgU,EAASvN,YAAa,EAAG3e,EAAMwa,UAC7Dxa,EAAMurB,aAAezT,GAAiBoU,EAASX,cAC/CvrB,EAAMiU,MAAQ5E,IAAS,GACvBrP,EAAM6e,QxB9BNjH,GwB8ByCzE,GxB7BtCwE,GAAuBO,GwB6BE,GAAI,EAAG,KxB7BwCN,IwB8B3E5X,EAAMye,SAAW3G,GAAiBoU,EAASzN,UAC3Cze,EAAM2iB,kBAAoBtT,IAAS,GACnCrP,EAAM0iB,iBAAmB5K,GAAiBoU,EAASxJ,kBAEnD1iB,EAAM8tB,SAAWje,GACf,CAAC7P,EAAM2e,YAAa3e,EAAMwa,SAAUxa,EAAMye,UAC1C,EAAEsP,EAAcC,EAAWC,OACzBzP,OAAQ,CACNlF,QAASyU,EACTzS,QAAUyS,EAAeC,EAAa,KAExCvP,SAAU,CACRnF,QAAS2U,EACT3S,QAAU2S,EAAYD,EAAa,QASzChuB,EAAMorB,QAAUtT,GAAiBoU,EAASd,SAC1CprB,EAAMyrB,UAAY3T,GAAiBoU,EAAST,WAC5CzrB,EAAM8rB,cAAgBhU,GAAiBoU,EAASJ,eAChD9rB,EAAM6rB,gBAAkB/T,GAAiBoU,EAASL,iBAClD7rB,EAAMqrB,QAAUvT,GAAiBoU,EAASb,SAC1CrrB,EAAMkuB,eAAiBpW,IAAiB,GAExC9X,EAAMmuB,MAAQte,GACZ,CACE7P,EAAM6rB,gBACN7rB,EAAM8rB,cACN9rB,EAAM0U,OACN1U,EAAMyrB,UACNzrB,EAAM+rB,eAER,EAAEqC,EAAkBC,EAAgBC,EAASC,EAAYjC,KACnD+B,EACKpE,GAAYM,MACfgE,EACGtE,GAAYK,UACf8D,GAAoBE,EACjBrE,GAAYI,OACf+D,EACGnE,GAAYG,QACfkC,EACGrC,GAAYE,KAEdF,GAAYC,MAQvBlqB,EAAMoiB,aAAevS,GACnB7P,EAAMwsB,SACLK,GAAcA,GAAantB,GAAYmtB,EAAU2B,YAIpDxuB,EAAMyuB,OAASpf,GAAS,IAExBrP,EAAM+iB,YAAclT,GAClB,CAAC7P,EAAMwsB,SAAUxsB,EAAMyuB,QACvB,EAAE5B,EAAW6B,KAAa7B,GACrB6B,GACAA,EAAQzsB,OAAS,GACjBvC,GAAYmtB,EAAU8B,WAK7B3uB,EAAM4uB,kBxBzIiB,CAACC,IACxB,MAAM7uB,EAAQqP,IAAU,GACxB,MAAO,IACFrP,EACHD,UAAW8P,GAAQ,CAAC7P,EAAO6uB,GAAS,EAAErW,EAAQsW,KACvCA,GAA8B,IAAnBA,EAAQ7sB,QACpBuW,GAAU,GAAKA,EAASsW,EAAQ7sB,OAAeuW,GADL,GAG7CzY,YwBiIqBgvB,CAAU/uB,EAAMyuB,QAE1CzuB,EAAMgvB,aAAenf,GACnB,CAAC7P,EAAMyuB,OAAQzuB,EAAM4uB,mBACrB,EAAEF,EAASO,KAAcA,GAAU,EAAKP,EAAQO,GAAU,MAG5DjvB,EAAMkvB,iBAAmBrf,GACvB,CAAC7P,EAAM+rB,cAAe/rB,EAAMgtB,QAAShtB,EAAM4uB,mBAC3C,EAAEtC,EAAgB6C,EAAUC,KAAwB9C,IAC9C6C,IACwB,IAAxBC,GASRpvB,EAAMqvB,UAAYxf,GAChB,CAAC7P,EAAMstB,aAActtB,EAAMwsB,UAC3B,EAAE8C,EAAezC,KAAeyC,GAC3BzC,GACAA,EAAU0C,eACV7vB,GAAYmtB,EAAU2C,SAG7BxvB,EAAMyvB,YAAc3X,IAAiB,GAOrC9X,EAAM0vB,iBAAmB5X,IAAiB,GAC1C9X,EAAM4oB,mBAAqB9Q,IAAiB,GAM5C9X,EAAM2vB,UAAYtgB,IAAS,GAC3BrP,EAAMslB,YAAcjW,GAAS,QAC7BrP,EAAMkU,YAAc7E,IAAS,GAC7BrP,EAAM4vB,SAAWvgB,IAAS,GAC1BrP,EAAMggB,KAAO3Q,IAAS,GAhPNwgB,OAAO7vB,IACvBA,EAAMmsB,YAAYnpB,UAAUgR,IAAa,IACzChU,EAAMosB,iBAAiBppB,UAAUgR,IAAa,KAgP9C8b,CAAU9vB,GAEH,CACLA,MAAAA,EACA+vB,cAAenX,GAAuB2P,EAAQvoB,GAC9CgwB,WAAY,IA7PG,CAAChwB,IAClB,MAAMksB,EAAWf,KACjB9rB,OAAOqD,KAAKwpB,GACTzsB,QAASkR,GAAS3Q,EAAM2Q,IAAS3Q,EAAM2Q,GAAM3N,IAAIkpB,EAASvb,MA0PzCqf,CAAWhwB,KCjS3BiwB,GAAgB,CACpBC,UAAU,GAGNC,GAAS,CACb,CACE,oBACA,iBACA,oBACA,oBACA,mBACA,kBACA,cAGF,CACE,0BACA,uBACA,0BACA,0BACA,yBACA,wBACA,uBAGF,CACE,uBACA,sBACA,uBACA,uBACA,sBACA,qBACA,oBAGF,CACE,sBACA,mBACA,sBACA,sBACA,qBACA,oBACA,mDCpCIpvB,UACCA,cACGA,eACCA,cACHA,MAAaA,KAAUqe,uIAElBre,iJANPA,oBACCA,wBACGA,0BACCA,sBACHA,MAAaA,KAAUqe,iHAElBre,yRAXFA,iBACGA,OAAiBA,KAAuBA,KAAe,kKAD1DA,+BACGA,OAAiBA,KAAuBA,KAAe,kTAsCjEqvB,GAAOjpB,oBAGAkpB,GAAiB,QAExBN,GAAgBlxB,EAChBqS,GAAQmf,MACVA,GAAiBpE,GAAmBmE,MACjCL,cAAAA,IAAkBM,iBAGfrwB,GAAKgwB,WAAEA,IAAeK,gBAI5Bnc,GAAWQ,OAAEA,GAAMT,MAAEA,GAAK6X,cAC1BA,GAAajN,OAAEA,GAAMwM,QAAEA,GAAOE,aAC9BA,GAAY5M,YAAEA,GAAW8Q,YAAEA,GAAW9D,aACtCA,GAAY5L,aAAEA,GAAY/gB,IAAEA,GAAG2jB,kBAC/BA,GAAiB2C,YAAEA,GAAWmG,UAAEA,GAAShN,SACzCA,GAAQkR,UAAEA,GAASC,SAAEA,GAAQxE,QAC7BA,GAAOS,gBAAEA,GAAetK,OAAEA,GAAMwK,cAChCA,GAAaoB,YAAEA,GAAWsB,OAAEA,GAAMG,kBAClCA,GAAiBpC,SAAEA,GAAQlB,WAAEA,GAAUgC,aACvCA,GAAYjB,YAAEA,GAAWzD,mBAAEA,GAAkBpG,cAC7CA,GAAaT,kBAAEA,GAAiBI,kBAAEA,GAAiB3H,SACnDA,GAAQ+L,SAAEA,GAAQ2H,eAAEA,GAAczB,eAClCA,GAAcC,gBAAEA,IACd1sB,0zBAGFqvB,GAASjN,aAAEA,GAAYW,YAAEA,GAAWoJ,YACpCA,GAAWC,iBAAEA,GAAgBnJ,aAAEA,GAAYuK,mBAC3CA,GAAkBG,mBAAEA,IAClB3tB,OAEAswB,kMAEOC,GAAW,oBACXrK,IAAa,WAKlB3jB,MAONgF,OACMipB,IAAmBJ,SAAMI,EAAiB,WAC9CJ,GAAO,QAGLlf,GAAQsf,SAAiBA,EAAiBJ,QAQ1CK,IAAW,EACXC,IAAW,EACXC,IAAY,EACZC,IAAe,EACfC,IAAiB,EACjBC,IAAe,QAEbC,mBAGEC,IACNtW,gBACEnX,KACC,MAGC0tB,QACC3E,GAAmB4E,SACxBT,IAAW,QACXC,IAAW,QACXpH,GAAe,KAGX6H,SACA5lB,EAAIvL,GAAM4e,OAAUyP,SACxB+C,EAAgB,QAChBrD,EAAe,QACfM,GAAiB,GACjBxB,EAAUwE,eAAe,QACzB/C,GAAU,KAGNgD,GAAgBC,IAChBC,GAAYV,KAAiBW,SACjCL,EAAgBG,QAChBxD,EAAewD,GACO,IAAlBH,GAAuB/C,GAAgB8C,OvCie/C,IAAqBhyB,GAAAA,QuC7dZmtB,IAAkBkF,GAAazD,IAAiBqD,SACrDA,EAAgBrD,GAChBlB,EAAUwE,eAAetD,GACzB+C,IAAe,IvC2df3pB,IAAwBzG,GAAG4I,aAAa1I,KAAKzB,UuCxdzCuyB,SACAzD,EAAYF,GAAiBK,GAAkC,IAAdH,SACnDM,GAAa,IAIXoD,SACCH,GAAavD,GAAaF,GAAgBA,EAAeC,SAC9DwD,GAAW,QACXjD,GAAa,GACbuC,IAAe,EACV1C,SACHA,GAAmB,GACfL,IAAiBC,QAAWD,EAAe,IAE7CM,QAAgBA,GAAiB,GACrC0C,aACEJ,IAAY,OAIViB,SAEDC,GACEtF,GACAwB,EAAe,IACb+D,IAAiBZ,SAExB5C,GAAU,QACVhF,GAAe,GACVwI,QAAcC,GAAS,KAGxBC,QACC1F,SACLC,GAAc,QACdgC,GAAa,KAGT0D,aACC3F,GAAmBC,IACpBwB,EAAe,GAAGlB,EAAUwE,eAAetD,SACzCiD,SACNzE,GAAc,GAEVhD,GAAqB2I,KAAoBzd,MAAM5V,KAG/CszB,aACC7F,SAELmE,IAAW,QACXC,IAAW,SACLM,IACFjD,EAAe,GAAKmD,EACtBD,KAGFgB,OAGIG,mBAEEpB,SACN1E,GAAiB,QACjBiC,GAAa,GACb4D,MAGIE,QACCC,GAAe9B,GAAkBA,IAAmBJ,SACzDI,EAAe9b,QAAS,UAKtB6d,SACEC,QACJD,GAAiBjvB,OAAOoX,gBAClBiW,UACJrC,GAAU,QACVC,GAAa,QACbkE,GAAW,KACV,MAGCC,GAAkBC,SACtBC,EAAUD,QACV9B,IAAiB,IAGbgC,GAAc/E,IACdA,QAAUG,EAAYH,GACtB0D,GAAUG,MAGVmB,QACAtB,IACJluB,OAAOyvB,aAAaR,SACpBf,GAAW,GACXE,KACCtD,OAA6CuC,IAAY,GAAtCM,OAGhB+B,aACCxB,UAECR,IACN6B,GAAW5E,KAGPgF,aACJ3E,GAAU,GACVoD,MAGIwB,aACJ3E,GAAa,QACbH,GAAmB,GACnB4E,KACAX,UACA7B,EAAiBJ,IACZM,UACHpC,GAAU,QACVmE,GAAW,IAEb5F,EAAUsG,UAAU7E,GACpBzB,EAAUuG,SAASrB,GACnBhB,aACEL,IAAW,QACXD,IAAW,KAEbwB,MAGIoB,cACA9nB,EAAIvL,GAAM4e,OAAUrT,EAAIvL,GAAMggB,cAC5BgR,IACNG,OAGImC,aACJjF,GAAiB,QACjBC,GAAU,GACV+E,MAGIE,0BACEvC,IACE7C,QACDlE,GAAYE,KACfiI,gBAEGnI,GAAYI,UACXkC,SACJiG,gBAEGvI,GAAYK,eACfiE,GAAa,cAEVtE,GAAYG,QACf8I,gBAEGjJ,GAAYM,MACf+I,OAyCA5M,QACJsJ,KAEIrD,GAAQ6G,QAAWjF,GAAa,GACpCuC,IAAe,OACfJ,IAAW,QACXA,IAAW,QACXD,IAAW,QACXG,IAAe,IAGX6C,QACJ/M,KACA1mB,GAAM+jB,OAAO/gB,IAAI,MACjBhD,GAAMyvB,YAAYzsB,KAAI,GAElBumB,GAAqBhK,KAAiB9K,MAAM5V,GAC3C20B,GAAWxzB,GAAM+sB,UAAU/pB,IAAI6mB,GAAUC,OAkD1C4J,GAAcC,GACbrE,GACAsE,GACEvrB,QAAQC,QAAQukB,EAAU2C,OAAOmE,IADdtrB,QAAQ4N,OALH,kCAIF5N,QAAQ4N,OAHL,yEAmB9B4d,MACAC,GAAgB,KAChBC,IAAmC,QAEjCC,cACEC,GAAO3D,GAAeC,GAAU1D,GAAaA,EAAUqH,SAASnnB,OAAO+E,aACzEqiB,EAAWF,EAAIvb,SAASjU,SAASqvB,GAAcM,2BAC9CD,IAAUA,EAAWF,EAAIvT,KAAMhQ,GAAOA,EAAG2jB,SAAW3jB,EAAG2jB,YAAYP,GAAczU,cAC/E8U,GAGHG,aACJ/K,EAAsByK,OAGlBO,GAAsBJ,SAC1B5K,EAAsB4K,GACjB5K,QAAqBqH,IAAe,QACzCD,IAAY,GAEPrC,GACH5T,gBACEmS,EAAUsG,WAAU,IACnB,MAIDqB,GAA6BC,UAC3B/jB,EAAK6f,IAAYD,OAClB5f,IAAQ+jB,IAAgBT,YAAwB3rB,QAAQ4N,YACzDwe,GAAeT,YAAuB3rB,QAAQC,gBAC5CosB,EAAUD,EACZ/jB,EAAGojB,GAAc5B,qBACjBztB,SAASqvB,GAAcvU,yBACpBlX,QAAQC,QAAQosB,IAKnBC,GAA6BF,IAC7BA,QAAa7D,IAAe,QAChCD,IAAY,GACLtoB,QAAQC,QAAQukB,EAAU+H,cAAcH,KAG3CI,GAAqBJ,GACpBnF,GAECyE,GACGS,GAA0BC,GAC7BK,GACGH,GAA0BF,GAE5BpsB,QAAQ4N,OAvD0B,6BAiDhC5N,QAAQ4N,OAlEe,qEA2ErBic,OAA0B2C,IAAkB,GAC5CtV,OAAuBsV,IAAkB,GAEtDxtB,OACEysB,GDrcW,WACb,MAAMiB,EAAU5E,GAAO,GACvB,IAAI6E,EAGJ,IAAK,IAAI9yB,EAAI,EAAGA,EAAIiuB,GAAOluB,OAAQC,GAAK,EAEtC,GAAIiuB,GAAOjuB,GAAG,KAAMuC,SAAU,CAC5BuwB,EAAa7E,GAAOjuB,GACpB,MAKJ,GAAI8yB,EAAY,CACd,IAAK,IAAI9yB,EAAI,EAAGA,EAAI8yB,EAAW/yB,OAAQC,GAAK,EAC1C+tB,GAAc8E,EAAQ7yB,IAAM8yB,EAAW9yB,GAGzC+tB,GAAcC,SAAW8E,EAAW,KAAOD,EAAQ,GAGrD,OAAO9E,GC+aWgF,QAChBlB,KAAqCD,GAAc5B,mBAE9C6B,KAELF,GAAUjzB,KAAKsE,EACbT,SACAqvB,GAAcoB,iBACdZ,KAWE7vB,SAAS0wB,sBACXtB,GAAUjzB,KAAKsE,EACbT,SACA,yBACA6vB,QAKN/sB,OACEhI,EAAQs0B,IACRA,uMA7dC9D,GAAcqF,GAkCd/1B,OACAqD,KAAK0yB,GACLroB,OAAQ4D,IAAU3Q,GAAM2Q,IACxBlR,QAASkR,QAAYpO,GAAMoO,GAAQykB,EAAQzkB,mCAQ3C0kB,EAAmB7E,IAAmBJ,sBAsRtC1J,uBACA+M,+BAMI5B,GAAavF,GAAgBsF,2DAC7B/E,IAAcN,GAAaM,EAAUyI,eAAehM,uCACpDpG,IAAkBqJ,GAAaM,EAAUC,UAAU7K,EAAqBR,EAAU,yBAClFoL,GAAantB,GAAYmtB,EAAU0I,iBAAiB1I,EAAU0I,eAAeC,uCAE7E3I,IAAcN,GAAe7sB,GAAYmtB,EAAU4I,UACxD5I,EAAU4I,QAAQC,0DAGb7I,IAAcN,GACnBM,EAAU8I,YAAY/S,IAAuBX,GAAsB2O,4CAG9D/D,IAAcyB,GAAWD,GAAgB8C,4CACzCtE,GAAaP,GAAgBO,EAAUsG,WAAW7E,GAAWqC,MAAeD,4DAC5E7D,GAAa4E,GAAc5E,EAAUuG,SAASrB,GAAUtB,gEACxDmF,GAAuBnE,GAAc5E,EAAUa,gBAAgBmI,iEAC/DC,IAAuBrE,GAAc5E,EAAUgB,gBAAgBkI,8DAElElJ,GAAa4E,IAAiBZ,GAC9BhE,EAAUmJ,UAAUpD,QACnB/B,IAAiB,iEAMfoF,IAAiBxE,GAAc5E,EAAU2B,UAAUnM,EAAqBqM,oEAExEwH,IAAgBzE,GACrB5E,EAAU8B,SAAStM,EAAqB+M,GAAsB,0BAwH7D0F,GAAwBjI,GACtBA,EAAUsJ,sBACVz2B,GAAYmtB,EAAU+H,4DAExB50B,GAAM0vB,iBAAiB1sB,IACxBssB,KAAkByE,IAAoCe,oLAvNtCntB,UACVwgB,EAAOxgB,EAAED,OACXygB,EAAKgG,OAAOoF,GAAcpL,EAAKgG,OAC/BhG,EAAK3T,OAASkc,IAAUuC,KACxB9K,EAAKiO,SAASpE,KACdzF,KACCrb,GAAQiX,EAAK5G,SAAW4G,EAAK5G,SAASvhB,GAAMwhB,aAAaxe,IAAImlB,EAAK5G,QACnE1P,GAAWsW,EAAK6D,SAAShsB,GAAMgsB,OAAOhpB,IAAImlB,EAAK6D,QAC/Cxa,GAAU2W,EAAK3N,gBAAWwT,EAAYld,WAAWqX,EAAK3N,WACtDhJ,GAAU2W,EAAKxJ,cAAc2S,GAAaxgB,WAAWqX,EAAKxJ,cAC1DnN,GAAU2W,EAAK1J,WAAWoU,GAAW/hB,WAAWqX,EAAK1J,WACrD0J,EAAKkD,SAASyH,KACd3K,EAAKkO,QAAQrD,KACbxhB,GAAU2W,EAAK4E,YAAY/sB,GAAM+sB,UAAU/pB,IAAImlB,EAAK4E,WACpD5E,EAAKrE,OAAO9jB,GAAM8jB,MAAM9gB,IAAImlB,EAAKrE,OACjCqE,EAAKqD,YAAYxrB,GAAMwrB,WAAWxoB,IAAImlB,EAAKqD,YAC3CrD,EAAKF,SAASjoB,GAAMioB,QAAQjlB,IAAImlB,EAAKF,SACrCzW,GAAU2W,EAAKtJ,SAAS6T,GAAe4D,SAASnO,EAAKtJ,OAAQ,KAC7DhN,GAAWsW,EAAKlU,SAAWwc,SAAUsB,EAAS5J,EAAKlU,OACnDkU,EAAKpE,QAAQ/jB,GAAM+jB,OAAO/gB,IAAImlB,EAAKpE,QACnCvS,GAAU2W,EAAKpI,eAAe/f,GAAM+f,aAAalI,SAASsQ,EAAKpI,cAC/DoI,EAAKuD,gBAAgB1rB,GAAM0rB,eAAe1oB,IAAImlB,EAAKuD,gBACnDvD,EAAKwD,cAAc3rB,GAAM2rB,aAAa9T,SAASsQ,EAAKwD,cACpDxD,EAAKyD,eAAe5rB,GAAM4rB,cAAc5oB,IAAImlB,EAAKyD,eACjDvJ,IACE8F,EAAKsG,aAAQC,EAAUvG,EAAKsG,QAC5Bjd,GAAU2W,EAAKyG,yBAAoBQ,EAAqBjH,EAAKyG,oBAE/D/c,GAAWsW,EAAKjI,WAAMqW,EAAepO,EAAKjI,KAE1CrO,GAAWsW,EAAK9I,aAAakV,GAAmBpM,EAAK9I,wBA/QjC2R,QA2VM0C,IAAW,OACdA,IAAW,wRAla3B7G,4BARDllB,QAAQ2oB,GAAgB3oB,EAAED,yqBCAjC,MAAM8uB,GAAY,qEACZC,GAAY,qCACZC,GAAU,kBAGVC,GAAmB33B,GAAQwT,IAAaP,GAAejT,EAAKsE,OAAOszB,aAGnEC,GAAY73B,GAAQw3B,GAAU1jB,KAAK9T,GACnC83B,GAAY93B,GAAQy3B,GAAU3jB,KAAK9T,IjCyCX,MACnC,IAAKwT,GAAW,OAAO,EAEvB,OADcjO,EAAQ,SACTwyB,YAAY,kCiC5C8BC,IAHnC,CAACh4B,GAAQ2S,GAAU3S,IAAQ03B,GAAQ5jB,KAAK9T,GAGsBi4B,CAAOj4B,GAK9Ek4B,GAA0BC,GACjCxlB,GAAUwlB,IAAaR,GAAgBQ,GAClCA,EACH5lB,GAAU4lB,GACPA,EAASn4B,IAEX,GAGIo4B,GAAmB,CAACp4B,EAAKuE,IAAQyO,GAAShT,GACnDA,EAAIq4B,MAAOF,GAAa5zB,EAAG2zB,GAAuBC,KAClD5zB,EAAG2zB,GAAuBl4B,2HC5BrBuS,GAAUxQ,MAAUA,KAAO/B,IAAO+B,MAAU,iCAC3CwQ,GAAUxQ,MAAUA,KAAO0G,KAAO,sBAC/B8J,GAAUxQ,MAAUA,KAAOu2B,QAAU,+CAFzC/lB,GAAUxQ,MAAUA,KAAO/B,IAAO+B,MAAU,gCAC3CwQ,GAAUxQ,MAAUA,KAAO0G,KAAO,iCAC/B8J,GAAUxQ,MAAUA,KAAOu2B,QAAU,+DAJ3Cv2B,0BAALkB,4KAAKlB,aAALkB,uIAAAA,kEAWWjD,KAEPu4B,mFAGFA,EADKv4B,EACKgT,GAAShT,GAAOA,GAAOA,gNCdxB+B,KAAMqe,mBACVre,KAAM/B,mCACF+B,KAAMy2B,sBACTz2B,KAAM02B,oBACL12B,KAAM22B,4CAJJ32B,KAAMqe,wCACVre,KAAM/B,+BACF+B,KAAMy2B,uCACTz2B,KAAM02B,iCACL12B,KAAM22B,8DANV32B,0BAALkB,4KAAKlB,aAALkB,uIAAAA,qEAWWwsB,iMCkBI1tB,qKAbJA,KAA2B,KAATA,8CAEdA,mBACAA,0BACGA,uDAGIA,qIAFIA,oCACGA,mCAEDA,mCACAA,2CACQA,iDAGrBA,sHAbJA,KAA2B,KAATA,sDAEdA,oCACAA,0CACGA,oFAGIA,uNAfPA,+SAAAA,gWANZA,OAUKA,sVA0BF42B,IAENC,gBAAwB,IAAM,GAAK,IAAM,EAAG,KAAM,IAAK,GAGvDC,wBACEC,IAAK,qBACLC,OAAQ,SACRC,WAAY,cAIdC,WACEC,MACEC,QAAS,UACTC,OAAQ,UAEVrc,OACEsc,OAAQ,WAKZtc,OACEuc,gBAAiB,iBACjBC,SAAU,WACVC,KAAM,OACNC,MAAO,QACPrO,QAAS,UACTsO,gBAAiB,iBACjBC,YAAa,aACbC,QAAS,UACTC,OAAQ,SACRC,cAAe,eACfC,QAAS,UACTxO,MAAO,QACP3E,MAAO,UAGImB,GH7CU/nB,GAAQ23B,GAAgB33B,IAC5Co4B,GAAiBp4B,EAAK63B,KACtBO,GAAiBp4B,EAAK83B,2BGyErBkC,WAEEhf,OACJza,EAAQy5B,GACRA,MAGFzxB,EAAUyS,OAENoK,GAAa,EACjB/c,YAAgB+c,GAAa,WAEvBX,EAAWjc,QAEb2gB,KACA8Q,EAAQ,KACRvlB,EAAQ,KACRwlB,EAAY,KACZ3X,EAAS,KACTtN,GAAQ,EACRklB,EAAW,KACXjlB,EAAc,KACdoR,EAAc,KACdkG,EAAa,KACbO,GAAgB,EAChBrX,GAAS,EACTqL,EAAe,KACf8L,GAAkB,OAEX7sB,kBACA6W,EAAc,oBACdujB,GAAa,WA4BlBC,EAAgBlF,IACfA,GAAY1vB,SAAS60B,0BAA4B5lB,GAAOrL,QAAQ4N,SACrEke,EAAWzgB,EAAM6lB,0BAA4B90B,SAAS+0B,wBAGlDC,EAAgBtF,UACduF,EAAOvF,EAAWwD,GAAME,uBAAuBC,IAAMH,GAAME,uBAAuBE,cACnFrkB,EAAMI,+BAA+B4lB,GAGnChmB,EAAMK,0BAA0B2lB,GAF9BrxB,QAAQ4N,OAViB,2BA6ChCwY,KACAG,GAAqB,QAmBnB+K,aAEEltB,EADkBoB,MAAMC,KAAK8rB,EAAMC,YACXC,UAAW1Y,GAAMA,EAAEsY,OAAS/B,GAAMM,UAAUC,KAAKC,SAC3EvJ,IAAsBniB,QAAO0b,EAAKyG,kBAAoBniB,UAOxDstB,QAEEC,MAA0B12B,OAAO22B,qBAAqBF,GAC5DxyB,EAAUyyB,SAEJE,YACJ/R,EAAKxJ,YAAcib,EAAMjb,eACzBob,EAAU12B,EAAI62B,IAGVC,GAAiBh1B,EAAO5B,IAAOy1B,EAASp4B,KAAKsE,EAAO00B,EAAOz0B,EAAO5B,IAElEsvB,sBACIpU,GAAamb,YACbpf,GAAaof,EACfQ,EAA2B,IAApB3b,EAASxc,OAAgB,EAAIwc,EAAS2b,IAAI3b,EAASxc,OAAS,QACzEkmB,EAAK1J,SAAY2b,EAAM5f,EAAYA,EAAW4f,MAG1CC,OACJF,EAAcxC,GAAM5b,MAAMuc,0BACxBnQ,EAAKgG,MAAQlE,GAAYE,aACzBhC,EAAKyD,cAAgB+L,GAAMC,uBAC3BzP,EAAK4E,UAAYrZ,EAAQmW,GAAUG,MAAQH,GAAUE,SACjDuQ,SACFnS,EAAKuD,eAAiB1sB,EAAI8N,IAAK4C,GAAMA,EAAE4nB,iBACvCnP,EAAKpI,aAAeA,MAEtB8S,SACA9G,GAAgB,KAElBoO,EAAcxC,GAAM5b,MAAMwc,SAAU1F,GACpCsH,EAAcxC,GAAM5b,MAAMyc,eACxB9jB,GAAS,QACTyT,EAAK3T,MAAO,SACZqX,GAAkB,KAEpBsO,EAAcxC,GAAM5b,MAAM0c,gBACxB/jB,GAAS,QACTyT,EAAKgG,MAAQlE,GAAYI,YAE3B8P,EAAcxC,GAAM5b,MAAM2c,0BACxBvQ,EAAK3N,SAAWof,EAAMpf,iBACtB2N,EAAK6D,OAAS4N,EAAMpf,WAAa+f,EAAAA,OAEnCJ,EAAcxC,GAAM5b,MAAMqO,kBAAiBjC,EAAKgG,MAAQlE,GAAYG,aACpE+P,EAAcxC,GAAM5b,MAAM4c,sBAAqBxQ,EAAKwD,aAAeiO,EAAMjO,kBACzEwO,EAAcxC,GAAM5b,MAAM6c,kBACxBzQ,EAAKxJ,YAAcib,EAAMjb,oBACzBwJ,EAAKkD,SAAU,OAEjB8O,EAAcxC,GAAM5b,MAAM8c,iBAAgB1Q,EAAKkO,QAAS,OACxD8D,EAAcxC,GAAM5b,MAAM+c,wBACxB3Q,EAAKtJ,OAASyX,SAAwB,IAAfsD,EAAM/a,OAAc,YAC3CsJ,EAAKlU,MAAQ2lB,EAAM3lB,WAErBkmB,EAAcxC,GAAM5b,MAAMgd,kBAAiB5Q,EAAKgG,MAAQlE,GAAYK,eACpE6P,EAAcxC,GAAM5b,MAAMwO,gBAAepC,EAAKgG,MAAQlE,GAAYM,WAClE4P,EAAcxC,GAAM5b,MAAM6J,MAAQje,GAAM8b,EAAS,QAAS9b,IAC1DqxB,EAASp4B,KAAKsE,EAAO00B,EAAMC,WAAYlC,GAAMM,UAAUlc,MAAMsc,OAAQsB,KAYjEa,YACCZ,UAECjxB,IACNixB,EAAMY,SAGFpE,iBACJjO,EAAKiO,SAAU,UACfrK,GAAgB,GAChByO,KAGIC,WACJjP,EAAa,eAEXoO,EAAMc,UAAY17B,WACX2I,QACPiyB,EAAM56B,IAAMsE,OAAOq3B,IAAIC,gBAAgB57B,QAIrC67B,YACc77B,EAAI0hB,KAAMhR,GAAMA,EAAE4nB,UAAYvX,SAEhDyL,EAAaxsB,EAAI+N,OAAQ2C,GAAMA,EAAE4nB,UAAYvX,IAC7CqW,MAGI0E,WACCxV,GAAevF,eACdgb,EAAalqB,GAAmB6C,IAC/BsnB,EAAGC,GAAK3V,EAAYtQ,MAAM,KAC3BkmB,EAAcH,EAAaC,EAAKC,EAChCE,EAAYn8B,EAAI8N,IAAK4C,GAAMA,EAAE4nB,SAE7B8D,EAAqBD,EAAUE,QAClCC,EAAMC,IAAUx5B,KAAKyJ,IAAI+vB,EAAOL,GAAcn5B,KAAKyJ,IAAI8vB,EAAOJ,GAAcK,EAAOD,GAEhFE,EAAmBL,EAAUrB,UAAWxC,GAAYA,IAAY8D,QACtErb,EAAeob,EAAUp5B,KAAKC,IAAI,EAAIw5B,EAAmB,MAGrDC,WACJjQ,EAAaxsB,GACTwsB,GAAYgP,KAGZ9T,YACJqF,GAAgB,QAChBhM,EAAe,UACf8L,GAAkB,GACd8K,GAAgB33B,GAClBy7B,IAEAgB,qLAID7B,EAAQX,GAASvlB,wBACbkmB,QAAOA,EAAM3lB,MAAQA,+BAEzBqmB,EAAkB5mB,GHpWS,CAAC1U,GAAQgT,GAAShT,IAC7CA,EAAIq4B,MAAOF,GAAa3lB,GAAU2lB,EAASG,UGmWhBoE,CAAiB18B,6CACxCs7B,GAAiBQ,8CAChBR,GAAiB5T,yBAClBtC,GAAc5S,GAAUuO,IAAe8a,uCACvCzW,GAAYzb,IAAOF,eAAa0f,EAAKqD,WAAaA,4BACrDO,IAAkBrX,EAAUwlB,IAAmBF,8BAEhD2B,GAAiBvE,GAAiBp4B,EAAK63B,MAAcllB,GAAU4P,8BAE/Dqa,GAAiBxC,GACfhC,GAAiBp4B,EAAK83B,KACtBH,GAAgB33B,IAChB2S,GAAU4P,yBAGR2X,IAAcU,IACnB5f,IACI4f,GAAOS,SACXnB,EAAYU,sBAGPxV,IACLX,EAAS,SAAU0E,QACnBA,2CAzMAA,EAAK9I,WAAc5a,SAASo3B,0BAA4BnoB,GAClDjP,SAASq3B,uBAAyBpoB,gBA0GfyU,EAAKjI,KAAM,gBACZiI,EAAKjI,KAAM,iBAG7BwZ,EAAOhmB,EAAMqoB,4BACnB5T,EAAKjI,IAAOwZ,IAAS/B,GAAME,uBAAuBC,YAClD3P,EAAK9I,WAAcqa,IAAS/B,GAAME,uBAAuBG,uBAvKhC4B,MACGA,EAECoC,SAAcpC,EAAMjb,YAAcqd,MACxCC,SAAchoB,EAAQgoB,IACrBC,IAAeA,EAAWtC,EAAMxb,QAAUwb,EAAMplB,OAAOC,MAAM5V,IAC7D8zB,SAAgBiH,EAAM/a,OAAS/N,WAAW6hB,EAAY,SAChDwJ,SAAcvC,EAAMjO,aAAewQ,MACvC5W,QAAgB4T,EAAW5T,GAAa,OACrCA,QAAgBrR,EAAcqR,GAAa,OAC3C6W,SAAe9W,EAAc8W,IAC5BC,SAAsBtc,EAAesc,KAE3CC,EAAWC,GAAY,KAC3Chb,IAAW+a,GAAc3qB,GAAU2qB,SACvC/a,EAAS+a,GAAa,MAElB/a,GAAUgb,GAAWnG,UpC7EI3iB,MAA2BI,KoCqGnCsgB,GACjB1gB,KAAkC4lB,EAAalF,GAC/CtgB,KAAkC4lB,EAAatF,GAC5C9rB,QAAQ4N,OApBmB,sBAkCNke,GACvBzgB,EAAM8oB,yBACJrI,EAAWzgB,EAAM+oB,wBAA0B/oB,EAAMyhB,uBADZ9sB,QAAQ4N,OARX,iCpCpJT,MAClC,IAAKzD,GAAW,OAAO,EACvB,MAAMkB,EAAQnP,EAAQ,SACtB,OAAO7E,GAAYgU,EAAM+oB,wBoC6JeC,GASdC,QACxBlO,EAASkO,OACT/N,GAAqB,GAGEgO,UACjBC,EAAkBhvB,MAAMC,KAAK8rB,EAAMC,gBACd,IAAvBjL,IACFiO,EAAgBjO,GAAmB8K,KAAO/B,GAAMM,UAAUC,KAAKE,QAE7DyE,EAAgB56B,OAAS,IAAmB,IAAd26B,GAClBC,EAAgBD,GACxBlD,KAAO/B,GAAMM,UAAUC,KAAKC,QAEpCvJ,EAAoBgO,0GA5NT3D,mDAqBAvlB,y9CCvBDopB,gBACA,uFAEK/7B,0BACDA,sBACJA,6BACOA,mBACVA,4PAQHg8B,IAGNhhB,OACEyJ,MAAO,WAITwX,OACEC,WAAY,EACZ1S,MAAO,EACPH,QAAS,EACTC,OAAQ,EACRC,UAAW,EACXH,KAAM,IAIR4S,GAAGG,YACDC,QAAS3S,GAAaC,QACtB2S,KAAM5S,GAAaE,IACnB2S,MAAO7S,GAAaG,GACpB2S,OAAQ9S,GAAaI,EACrB2S,MAAO/S,GAAaK,EACpB2S,MAAOhT,GAAaM,EACpB2S,OAAQjT,GAAaO,GACrB2S,QAASlT,GAAaQ,IACtBhpB,IAAKwoB,GAAaS,KAIpB8R,GAAGY,SACDnF,KAAM,YACNC,MAAO,aACPmF,QAAS,SACTC,KAAM,OACNC,OAAQ,SACRC,WAAY,YACZC,kBAAmB,yBAGRjX,GAAUa,0BAWnBqW,EACA9V,KACA3N,EAAW,EACX6Q,GAAU,EACVE,EAAe,EACf2S,EAAiB,EACjBvS,EAAe,EACfvD,GAAe,QAEbvT,GACJY,IAAK,EACL0oB,GAAI,EACJC,eAAgB,EAChBC,gBAAiB/6B,OAAOg7B,SAAS1oB,MAG7B6N,EAAWjc,IACX+2B,GAAQlY,EAAStI,IAASkgB,GAAcA,EAAW7X,YAAYC,EAAStI,WAEnE/e,EAAM,iBACNinB,GAAU,SAuBjB7B,GAAa,EACjB/c,YACE8gB,EAAK4E,UAAYlD,GAAUG,cAC3B5F,GAAa,WAYTmP,EAAiBpF,WACrB/F,EAAc+F,EACNA,QACD4O,GAAGC,MAAMzS,WACZpC,EAAKgG,MAAQlE,GAAYM,oBAEtBwS,GAAGC,MAAM5S,aACZjC,EAAKgG,MAAQlE,GAAYG,sBAEtB2S,GAAGC,MAAM1S,eACZnC,EAAKgG,MAAQlE,GAAYK,wBAEtByS,GAAGC,MAAM3S,YACZlC,EAAKgG,MAAQlE,GAAYI,qBAEtB0S,GAAGC,MAAM7S,KACZ3P,EAAW,EACX0jB,EAAiB,EACjB3S,EAAe,EACfI,EAAe,EACfN,GAAU,OACVlD,EAAKgG,MAAQlE,GAAYE,UAOzBqU,EAAmBjN,QACnB5S,EAAc4S,KACdnJ,IAAgB2U,GAAGC,MAAM5S,eACrBqU,GAAelrB,KAAKmrB,MAAQ,IAAMR,GAAkBvS,EACtD8S,EAAc,IAAG9f,GAAe5c,KAAKsW,IAAIomB,EAAa,WAErD9f,GAGH2S,EAAgBC,UACd5S,EAAc6f,EAAgBjN,QACpCpJ,EAAKxJ,YAAcA,KAGf5c,KAAKyJ,IAAI+f,EAAe5M,GAAe,IACzC0M,GAAU,OACVlD,EAAKkD,SAAU,MAEjBE,EAAe5M,GAGXkU,EAAcpU,SAClB0J,EAAK1J,SAAWA,KAEZ4M,GAAY5M,EAAW8M,IACzBF,GAAU,OACVlD,EAAKkO,QAAS,OAIZsI,EAAUC,iBAEZ/f,EAAM5K,MAAEA,EAAO4qB,uBAAwBC,EACvCC,gBAAiBzH,EAAS3L,aAAcqT,EAAMC,oBAAqBC,EACnEC,uBAAwBhE,EAASxc,YAAEA,EACnCnE,SAAU4kB,EAAahX,YAAa+F,EAAKkR,wBAAEA,GACzCT,KACAptB,GAAU2c,IAAQoF,EAAcpF,GAChC3c,GAAU4tB,KACZ5kB,EAAW1J,WAAWsuB,QACtBjX,EAAK3N,SAAWA,MAEdskB,QAAO3W,EAAKyD,cAAgBkT,KAC5BE,IACFrT,EAAe7a,WAAWkuB,QAC1B7W,EAAKwD,aAAeA,MAElBna,GAAU6tB,KAA0BnB,EAAiBmB,GACrD7tB,GAAUmN,IAAc2S,EAAaxgB,WAAW6N,IAChDnN,GAAU0tB,IAAiBrM,EAAW/hB,WAAWouB,GAAkB1kB,GACnEhJ,GAAUqN,SAASsJ,EAAKtJ,OAASA,KACjChN,GAAWoC,SAAQkU,EAAKlU,MAAQA,KAChCknB,SACImE,EAAkBnE,EAAUruB,IAAKyyB,GAAMxC,GAAGG,WAAWqC,IAAIxyB,OAAO+E,cACtEqW,EAAKuD,eAAiB4T,KAEpBhI,QAASnP,EAAKpI,aAAegd,GAAGG,WAAW5F,OAQ3CkI,MfxLoB,CAACxgC,IAC3B,MAAMipB,EAAUJ,GAAiB7oB,GACjC,IAAKipB,EAAS,OAAO5f,QAAQC,QAAQ,MACrC,MAAMm3B,EAAanI,GAAY,0BAA0BrP,KAAWqP,QAGpE,OAAOvhB,GAAW0pB,EAAU,iBAAkB,KAC3ChrB,MAAM,IAAMsB,GAAW0pB,EAAU,aAAc,MAC/ChrB,MAAM,IAAMsB,GAAW0pB,EAAU,aAAc,MAC/Ch3B,KAAMi3B,GAAQA,EAAI1gC,KAAO,Oe+KF2gC,CAAa3gC,GACpCyJ,KAAM8Y,SAAa4G,EAAK5G,OAASA,OACjC9M,MAAO9M,GAAM8b,EAAS,QAAS9b,yHAE3Byc,GAAYob,6BAEZpb,IACLX,EAAS,SAAU0E,QACnBA,2BA7G6BA,EAAKiO,SAAU,MACtBzuB,SAAQwgB,EAAKpE,OAASpc,EAAED,WACzBC,SAAQwgB,EAAKrE,MAAQnc,EAAED,WAEpBC,SACxBwgB,EAAKqD,WAAa7jB,EAAED,eACpBygB,EAAKF,QAAUgW,EAAW2B,iBA0FZj4B,UACRk4B,EAAQl4B,EAAED,OAAOygB,KACnB0X,GAAOlB,EAAOkB,QA7He5B,MACPA,EAAaA,EAAW6B,WAAWC,YAAc,KAEpD9D,IAAwBsC,EAAVtC,EAAec,GAAGY,QAAQE,KAAad,GAAGY,QAAQG,SAC/DnL,IAAgB4L,EAAKxB,GAAGY,QAAQI,YAAapL,KACvCwJ,IAAcoC,EAAKxB,GAAGY,QAAQK,mBAAoB7B,KACnDH,IAAcuC,EAAKxB,GAAGY,QAAQC,SAAU5B,KACxCzW,QAAgB1Q,EAAOX,YAAcqR,EAAY,EAAI,MAE1D2W,IACbqC,EAAXrC,EAAgBa,GAAGY,QAAQlF,MAAcsE,GAAGY,QAAQnF,OAG1BjT,QAC1B1Q,EAAOskB,SAAW5T,EAAY,EAAI,SAClC1Q,EAAOmrB,UAAYza,EAAY,EAAI,WAGJ,OACO,6EApG7B0Y,40BCSCl9B,gBACMA,mBACE,mBACIA,+HAMVA,iEACKA,0BACEA,0OAdJA,QAAoBA,MAAsBA,mEAA1CA,QAAoBA,MAAsBA,oDAG/CA,yBACMA,sCAEMA,oDAMVA,2NAhBPA,iFAAAA,sbAVYA,SAAcA,KAAY,oCAC/BA,kBACDA,uBACKA,kBACLA,OAAuBA,OAAYA,4EAC7BA,OAAiBA,KAAuBA,MAAe,yBAC1DA,mIANGA,SAAcA,KAAY,sFAK1BA,OAAiBA,KAAuBA,MAAe,4BAJ5DA,2BACDA,gCACKA,4BACLA,OAAuBA,OAAYA,gXA0D5C2P,EACAuvB,EACAC,kBACAC,EAAU,QAEV/P,EAAOjpB,IACXI,WAAkB6oB,EAAO,cAGnB4I,MAAe9a,GACfsK,MAAe3L,GAFV,UAGL4G,EAAWjc,IAEX8Y,EAAgB2L,GAAmBmE,GACnCpwB,EAAQqgB,GAAmBC,EAActgB,OAEzC+vB,EAAgBnX,GAAuBwX,EAAMpwB,WAIjD0U,EAAMuM,MAAEA,EAAKkM,YAAEA,EAAWpL,kBAC1BA,EAAiBW,iBAAEA,EAAgBxB,MAAEA,EAAK0H,mBAC1CA,EAAkBtD,YAAEA,EAAWyG,cAAEA,GAC/B/rB,iLAuCJuH,MAAgBkc,EAAS5U,GAAYE,gBAE/BqxB,kBACEpP,IACNvN,EAAS5U,GAAYC,QAmBjBuxB,MAAuB1uB,GAAU2uB,GACnC5vB,EAAGnK,MAAMO,YAAY,UAAWw5B,GAChCjhC,OAAOqD,KAAK49B,GAAQ7gC,QAAS6G,IAAUoK,EAAGnK,MAAMO,iBAAiBR,EAAOg6B,EAAOh6B,6GAtEhFypB,EAAcqF,sCAwEV1kB,GAAM4vB,GAAQD,qBACdH,GAAgBE,yDArBAz4B,aACbmV,EAAIzc,MAAO0oB,GAAWphB,EAAED,WAChC0oB,EAAKtT,GAAMiM,KACXtF,EAAS5U,GAAYG,cAAgB8N,GAAAA,EAAIiM,OAAAA,KAGlBphB,UACjBmV,EAAKnV,EAAED,OACT0oB,UAAaA,EAAKtT,GACtB2G,EAAS5U,GAAYI,eAAgB6N,IAGhBnV,IAChB44B,GAAWh1B,EAAIvL,EAAMqhB,uBAAuB1Z,EAAEsT,wBApD1BvK,MACM8X,MACMyX,MACAC,MACCA,GAAkBA,EAAeM,kBAE/CxP,IACFztB,GAAOy1B,EAAS9vB,IAAI3F,OACZ08B,EAAeQ,iBAClBR,EAAe7f,cACL6f,EAAe/N,wBAClB+N,EAAe1gB,iBAEpBzC,UACvB4jB,MAAkB7jB,GAASC,UACjC0L,EAASgB,SAAS1M,EAAI4jB,GACfA,GAGoB5jB,KAGzB1O,OAAO2P,KACP3P,QAAQ2P,KACR3P,SAAS2P,sEA/FMkiB,uEAQFC,uEAtBNxvB,g7BCHA6X,iBAEH1H,GAAU0H,EAAOrP,eAErBynB,2BAEEC,EAAQ9jB,YAAgBA,EAExB+jB,GACJrsB,KAAMosB,EAAK,QACXxiB,MAAOwiB,EAAK,SACZE,WAAYF,EAAK,eACjBG,YAAaH,EAAK,gBAClBthB,gBAAiBshB,EAAK,oBACtBrhB,eAAgBqhB,EAAK,mBACrBzgB,SAAUygB,EAAK,aACfxgB,QAASwgB,EAAK,YACdnhB,YAAamhB,EAAK,gBAClBlhB,aAAckhB,EAAK,iBACnBI,UAAWJ,EAAK,cAChBK,WAAYL,EAAK,eACjBM,WAAYN,EAAK,eACjBphB,SAAUohB,EAAK,YACfO,UAAWP,EAAK,qBAGlBv5B,OrCPyB,IAACrI,EqCQxBK,OAAOqD,KAAKm+B,GAAWphC,QAASqd,IAC1BskB,EAAOtkB,QACXskB,MACKA,GACFtkB,GAAK+jB,EAAU/jB,QrCZI9d,EqCgBZ,mErChBoBqiC,MAAMriC,GACvCyJ,KAAMyO,GAAQA,EAAIrS,QAClB4D,KAAM64B,IACL,MAAMC,EAAMh9B,EAAQ,OACpBg9B,EAAIh7B,MAAMgW,QAAU,OACpBglB,EAAIC,UAAYF,EAChB,MAAMG,EAAeh9B,SAASi9B,qBAAqB,QAAQ,GAE3D,OADAD,EAAax9B,WAAWF,aAAaw9B,EAAKE,GACnCF,KqCSJ94B,KAAMk5B,IAAgBhB,EAAiBgB,MAG5Cp6B,OACElI,OAAOqD,KAAKm+B,GAAWphC,QAASqd,IAC1BskB,EAAOtkB,KAAQ+jB,EAAU/jB,QAC7BskB,MACKA,GACFtkB,GAAK,SAIN6jB,GAAkBA,EAAe18B,WAAWC,YAAYy8B,+KAvD5C,2FCGb5/B,sGACIA,0BACEA,8DAFNA,4DACIA,8CACEA,0DAQE4f,GAAOnS,GAAWC,8CAUpB8Z,iBAGTzE,EAAKxC,cAAEA,EAAauK,gBAAEA,EAAe9J,kBACrCA,GACEwG,EAAOrP,eAMPxI,+FAEOkxB,GAAY,gBACZrc,GAAY,eACZ4O,GAAW,6MAInB0N,EAAMC,gBAAuBhe,EAAU,iCAEnC8d,OAAWrc,GAAatD,KAAwB8f,qBAEhDH,IACLxT,EACK1T,oBAAmByZ,GAAW,IAAU,SACxCA,GAAW,gCATSzjB,mDAlChBA,0hBAMO,+ICVT3P,0BACEA,gEADFA,8CACEA,mFAcAwnB,uBAGT4E,EAAWtB,gBAAEA,EAAenX,OAAEA,EAAMgO,iBACpCA,EAAgBvB,SAAEA,EAAQY,kBAAEA,GAC1BwG,EAAOrP,iJAMA0oB,GAAY,gBACZrc,GAAY,eACZ4O,GAAW,kMAEfyN,OAAWrc,EAAYgI,IAAiBtL,qBACxC2f,OAAWzN,EAAY6N,GAAa5T,IAAsBE,GAAWzL,8fA1B1D,yMCLT9hB,0BACEA,gEADFA,8CACEA,6FAiBAwnB,qBAGTkD,EAAS0B,YAAEA,EAAWpL,kBAAEA,EAAiBwE,SACzCA,EAAQsF,gBAAEA,GACRtD,EAAOrP,eAMPxI,4GAGEuxB,GAAmB,QAAS,yBAEvBL,GAAY,gBACZrc,GAAY,eACZ4O,GAAW,kMAEfyN,OAAWzN,EAAW5F,qBAEtBqT,OACLrc,EAAagI,IAAiBtL,KACzBuR,GAAayO,EAAgBvpB,SAAS8a,EAAUpU,QAAQ5a,OAAS4pB,iFAxC7D1d,4eAMO,8CCFT3P,MAAcA,2HANFA,MAAaA,uBAChBA,mBACJA,sEAGCA,2BAFHA,MAAsBA,qCAGzBA,MAAcA,sEADRA,mDAFHA,MAAsBA,mCAHbA,MAAaA,gCAChBA,2BACJA,8CAYD4f,GAAOnS,GAAWG,kEAiBpB4Z,gBACA2Z,GAAY,kBACZrsB,EAAc,cAEnB6S,EAASH,EAAOI,aAtBJ,uBAyBhBxH,EAAQyH,mBAAEA,EAAkBlG,iBAAEA,EAAgBkM,kBAC9CA,EAAiBjQ,YAAEA,EAAWwD,kBAAEA,EAAiBsM,OACjDA,EAAM7N,OAAEA,EAAMuM,YAAEA,GACd5E,EAAOrP,gMAcLlZ,cAXEA,YACNA,EAAMmiC,KAAOrqB,OACb9X,EAAMoiC,gBAAkBtqB,IAAkB,GAC1C9X,EAAMqiC,WAAaxyB,IAChB7P,EAAMmiC,KAAMniC,EAAMoiC,mBACjBE,EAAcrT,KAAcqT,EAAargC,QAAU,EAAKqgC,EAAarT,GAAU,MAEnFjvB,EAAMuiC,WAAazqB,OACZ9X,GAGKwiC,GACRzS,EAAgBnX,GAAuB,KAAM5Y,SAKjDmiC,EAAIC,gBAAEA,EAAeC,WAAEA,EAAUE,WACjCA,GACEviC,qFAKAyiC,GAAc,QAEZC,EAAqBC,GAAS5U,GAAgB4U,EAAIC,WAAe7U,GAAgB4U,EAAIE,QASrFC,EAAoB1zB,QACpB3C,EAAQ2C,OAEV3C,GAAS,GACNA,EAASs2B,EAAM9gC,OAAS,GACxB8rB,EAAegV,EAAMt2B,GAAOm2B,YAC3BF,EAAkBK,EAAMt2B,KAE5BA,GAAS,SAEJA,GAWHu2B,OACAC,GAAoB,GAAKF,EAAME,IAC/BF,EAAM9gC,OAAS,OAAGghC,EAAmBH,EAAiB,KAG/CI,EAAUP,QAbFA,CAAAA,KACd1wB,GAAe0wB,EAAKr/B,OAAO6/B,UAC9Bza,EAAO0a,oCAAoCT,EAAIjL,gDACxC,GAWJ2L,CAAYV,cACbl2B,EAAQ,OACLs2B,EAAMt2B,IAAWs2B,EAAMt2B,GAAOo2B,QAAUF,EAAIC,WAAYn2B,GAAS,EACxEs2B,EAAMx0B,OAAO9B,EAAO,EAAGk2B,aAMZW,EAAajjC,UAClBoM,EAAQ+E,GAAUnR,GAASA,EAAQ0iC,EAAMjJ,UAAW6I,GAAQA,IAAQtiC,GACtEoM,GAAS,GAAKA,GAASs2B,EAAM9gC,OAC/BymB,EAAO0a,KAAK,kFAGdL,EAAMx0B,OAAO9B,EAAO,cAsBT82B,OAAyC,IAAxBnU,EAcxBoU,aACE5J,EAAQr1B,EAAQ,SACtBq1B,EAAM/jB,YAAcA,QACd4tB,EAfYA,CAAAA,UACZ/yB,EAAKnM,EAAQ,gBACnBmM,EAAG0O,SAAU,EACb1O,EAAG1R,IAAMykC,EAAMzkC,IACf0R,EAAG+mB,KAAOgM,EAAMhM,KAChB/mB,EAAGgnB,MAAQ+L,EAAM/L,MACjBhnB,EAAG8mB,QAAUiM,EAAMjM,QACZ9mB,GAQOgzB,CAAWhV,EAAQU,IACjClqB,EAAOu+B,EAAO,kBACNE,EAAU91B,MAAMC,KAAK8rB,EAAMC,WAAW,GAAGsI,UAC/CY,EAAQY,KACLC,MAAM,IACXngC,EAAOm2B,EAAO6J,gLA3Gb1T,EAAcqF,6CAqEVyO,GAAgBZ,EAAmBF,EAAM9gC,OAAS,GAAM8rB,EAAe8V,EAAYhB,aACxFI,EAAmBH,EAAiBG,8CAG/BA,EAAmB,GAAKlV,EAAegV,EAAME,EAAmB,GAAGJ,aACxEI,EAAmBH,EAAiB,iCAGnCL,EAAeoB,GAAe9V,GAAgB,GAAK2U,EAAkBmB,yBACtDC,EAAfrB,GAA8BoB,iCAC9Bb,sDAsCKr6B,IACD46B,SAAYnU,EAAqBV,EAAQoL,UAAW1Y,GAAMA,EAAEhC,WAGhEua,2CAGIuI,GAAa3U,SACZ9gB,EAAQiiB,EAAQoL,UAAW1Y,GAAMA,EAAEoW,UAAY5V,GACjDnV,GAAS,OAAG2iB,EAAqB3iB,+CAfrCs2B,UACAE,GAAoB,GACpBM,IAAaC,IAAaR,sDAnGLL,QAChBA,QAAY,SACXpB,EAAMh9B,EAAQ,cACpBd,EAAO89B,EAAKoB,EAAIoB,gBACTxC,EAAIC,UAAUwC,gBAqCCL,IAAcA,EAAQ72B,IAAIo2B,MAYvB7yB,IAAaA,EAAOvD,IAAIw2B,6pBAhHjC,sBChBb,MAAMW,GAAoB,CAACpjB,EAAOnM,IAAYA,EAASmM,EAAMrM,KAAOqM,EAAMzC,MAMpE8lB,GAAsB,CAACrjB,EAAO8S,IAAYA,EACnD9S,EAAMtB,eACNsB,EAAMvB,gBAIG6kB,GAAkB,CAACtjB,EAAO5M,EAAO4K,KAC5C,MAAMulB,EAAcvlB,EAAS,GAAMgC,EAAMmgB,UAAYngB,EAAMogB,WAC3D,OAAQhtB,GAAqB,IAAX4K,EAAiBgC,EAAMqgB,WAAakD,sECb3CrjC,0IAAAA,0DAIA6/B,gPCMR7/B,8WAPMA,MAAaA,0BAabA,MAAaA,uCANnBA,qEAPMA,MAAaA,6GAabA,MAAaA,mKAaTunB,GAAK,0DAYPC,oBAGTpH,EAAQwB,kBAAEA,EAAiBoJ,cAAEA,EAAaoB,YAC1CA,EAAWpL,kBAAEA,GACXwG,EAAOrP,eAMPmrB,EACAzD,EACAvgC,EACAikC,0GAGAC,EACAC,EAHAC,GAAO,aAKA7C,GAAY,gBACZrc,GAAY,qKAEhBqc,OACLrc,EAAY3C,GACP0J,GACAiB,IACCyU,IACA/f,uCAGkB/f,EAAGkT,EAAI,YAC/BwrB,EAAO1+B,OACP7B,EAAQ+U,GACR9R,OAAOyvB,aAAasR,OACpBI,GAAO,SACD97B,IAEF27B,GAAcA,EAAQI,gBAC1BD,GAAO,GACPJ,EAAQ3pB,oBAAmB+pB,GAAO,IAAU,6DA7EnCF,mDAkBED,mDALFE,6eCFAjc,iBAGT1H,EAAKnM,OAAEA,EAAMiO,kBAAEA,EAAiB0J,YAChCA,EAAWc,YAAEA,EAAWhM,SAAEA,EAAQY,kBAClCA,GACEwG,EAAOrP,qKAMA0oB,GAAY,gBACZrc,GAAY,SAoBnB8e,EACAM,QACEC,YAUJD,EAAkBz/B,EAAOqjB,EAAO2L,QAAS,QATxBvsB,IACfrE,OAAOyvB,aAAasR,GAEpBA,EAAQ3pB,sBAEAmqB,GAAe,SAAU,SAASnsB,SAAS/Q,EAAEjE,OAAOohC,UACzC,IAAbn9B,EAAED,QAAiBm9B,aAd3BvW,GAAWA,SACLsS,EAAOqD,GAAkB7C,GAAS9S,GACpC/F,EAAOwc,KAAkBxc,EAAOwc,IAAiB7lC,IAAI0hC,IAYjBoE,IACnC,SAKDC,OACAN,GAAiBA,IACrBN,EAAQ,UACRM,EAAkB,cAGpBp9B,EAAU09B,yJAvCHrD,OACLrc,EAAY3C,GACP6O,GACAlE,IACCyU,IACA/f,qBAoCDsD,IAAcof,EACnBC,KACUrf,GAAaof,GACvBM,oaAxEgB,6CCWdlkC,MAAYA,QAAWA,SAAUA,QAAUA,iGAH/BA,MAAYA,kDALZA,iJAQZA,MAAYA,QAAWA,SAAUA,QAAUA,sDAH/BA,MAAYA,kDALZA,0KAJbA,MAAaA,6EAAbA,MAAaA,4IAqBLwnB,mBAEHpM,EAAOgR,YAAEA,GAAgB5E,EAAOrP,eAMpCxI,8CACAw0B,GAAQ,EACRC,GAAW,EACXC,GAAW,EACXC,GAAY,MAELvoB,EAAK,eACLgH,EAAQ,cACRwhB,EAAO,mBACP/f,GAAY,eACZ4O,GAAW,eACXoR,GAAW,iBACXC,GAAa,WAQlBC,aACExgB,EAAOvU,EAAG8K,wBACVqT,EAAStG,EAAO2L,QAAQ1Y,wBAC1B+R,OACF4X,EAAWA,EAAYlgB,EAAK5Q,IAAMwa,EAAOxa,IAAM4Q,EAAK3Q,OAAW2Q,EAAK5Q,KAAOwa,EAAOxa,SAClF6wB,GAASC,SAETA,GAAW,OACXD,GAAQ,QAEVE,EAAWA,EAAYngB,EAAKE,MAAQ0J,EAAO1J,MAASF,EAAKhU,MAASgU,EAAKE,MAAQ0J,EAAO1J,MAAS,QAC/FkgB,EAAYA,EAAapgB,EAAKtJ,KAAOkT,EAAOlT,KAAQsJ,EAAKhU,MAAS4d,EAAOlT,KAAOsJ,EAAKtJ,KAAQ,oTAGxFjL,IAAO80B,GAAYC,4CApBC/0B,+CAjCdA,wzBCTA4X,GAAK,qDAaPC,WAELG,EAASH,EAAOI,aAAaL,IAe7BE,EAAWD,EAAOE,eAAeH,IAbdxL,EAAI4oB,IACtBA,GAAYzzB,GAAeyzB,EAASC,KAQzCD,EAAQngB,UAAYA,GACb,IARLmD,EAAO0a,mDACyCtmB,6EAGzC,uCAUTqE,EAAQhF,QAAEA,EAAOwG,kBAAEA,EAAiBZ,kBACpCA,GACEwG,EAAOrP,yGAMA0oB,GAAY,gBACZgE,GAAY,gBACZrgB,GAAY,sMAmBhBqc,OACLrc,GAAayc,IACP6D,GACDjjB,IACCX,sBAOL5iB,OAAOgR,OAAOy1B,GAAWrmC,QAASimC,IAAcA,EAAQngB,UAAYA,uBACpElmB,OAAOgR,OAAOy1B,GAAWrmC,QAASimC,IAAcA,EAAQH,SAAWK,4BA7BrCpd,MACQmd,OACRnd,EAAS5K,YACfd,GAAO0L,EAASud,SAASjpB,IAEtBA,EAAIpZ,WAC1BgiC,MAAcC,IAAUjiC,OAAAA,WAC9B8kB,EAASgB,SAAS1M,EAAIpZ,GACfgiC,GAGqB5oB,IACZ0L,EAASud,SAASjpB,GAC1BzO,WACRma,EAAS1K,WAAWhB,61BC3DTwL,GAAK,0FAaPC,WAELG,EAASH,EAAOI,aAAaL,IAU7BE,EAAWD,EAAOE,eAAeH,IARhBxL,EAAI3X,OACpBA,IAAUA,EAAMzC,QACnBgmB,EAAO0a,2BAA2BtmB,kCAC3B,8BAML0D,EAAU+H,EAAOyd,8DACf9X,EAAcnM,kBAAEA,GAAsBwG,EAAOrP,iEAM1C0oB,GAAY,gBACZrc,GAAY,WAGV0gB,EAAezd,EAAS5K,YAExBsoB,GAAeppB,EAAIqpB,KAAe3d,EAASgB,SAAS1M,EAAIqpB,IACxDC,EAAkBtpB,IAAS0L,EAAS1K,WAAWhB,QAexDupB,QAEEC,EAAa3+B,QACZ0tB,IAAoB9P,eAEnBghB,EAAYlnC,OAAOgR,OAAOy1B,GAC7B/4B,OAAQ7C,IAAO8H,GAAS9H,EAAExH,MAAQwH,EAAExH,MAAQwH,EAAExH,OAAOgW,SAAS/Q,EAAE6+B,UAE/DD,EAAUtkC,OAAS,IACrB0F,EAAEsT,iBACFsrB,EAAU9mC,QAASwO,GAAMA,EAAEw4B,QAAUx4B,EAAEw4B,OAAO9+B,qBAIlDN,OACEg/B,EAAkBnhC,EAAOqjB,EAAO2L,QAAS,UAAWoS,KAGtD/+B,OACM8+B,GAAiBA,2JAzBhBzE,OAAWrc,GAAatD,4BAgC5BykB,EAAW1kB,EAAS2kB,6BACpBC,EAAmBF,GAAYA,EAASlG,4DAEpCqG,GACLxnC,OAAOqD,KAAKojC,GAAWrmC,QAASqd,UACxB4oB,EAAUmB,EAAkB/pB,GAC9B4oB,IACFA,EAAQJ,KAAOQ,EAAUhpB,GAAIwoB,KAC7BI,EAAQH,SAAWhgB,2BArDQiD,IAEL1L,GAAO0L,EAASud,SAASjpB,OAGrBgqB,IAAUA,EAAIh6B,IAAIs5B,KAEnBtpB,EAAIqpB,WAC3BY,EAAYve,EAASud,SAASjpB,GACpCspB,EAAetpB,GACfopB,EAAYppB,MAASiqB,KAAcZ,u6BCvCvBplC,MACVA,yLARQA,yFAWgBA,mBAClBA,oIALIA,YACVA,kIAWEgb,GACE,OADFA,GAEG,wLAWH0H,EAAWjc,IAEXw/B,EAAU3nC,OAAO4nC,QACrBC,IAAK,EACLC,MAAO,GACPC,IAAK,GACLC,MAAO,GACPC,OAAQ,GACRC,SAAU,GACVC,IAAK,GACLC,KAAM,GACNC,KAAM,GACNC,GAAI,GACJC,MAAO,GACPC,KAAM,SAOJn3B,EACAo3B,EACAC,GAAsB,YAEf5T,GAAW,WAMT6T,EAAcC,GAAWxjC,SAASyjC,eAAeD,EAAOliC,aAAa,kBAIrEoiC,EAAe17B,IAExBs7B,GADa,IAAXt7B,EACmBq7B,EAAQ7lC,OAAS,EAC7BwK,IAAUq7B,EAAQ7lC,OACN,EAEAwK,EAEvBq7B,EAAQC,GAAoBK,SAGjBC,aACLC,EAAa7jC,SAASyjC,eAAe9S,EAAQ,oBAC/CkT,GAAYA,EAAWF,SAOvBG,kBACE5/B,IACNm/B,EAAUrjC,SAAS+jC,qBAAqBpT,EAAQtY,qBAGlDzV,EAAQkhC,SAcFE,OACJV,GAAsB,EACtBM,QACAlU,GAAW,IAGPuU,kBACET,EAASH,EAAQC,GACvBE,EAAOU,cACDhgC,UACAigC,EAAUZ,EAAWC,GACvBW,GAASA,EAAQR,kMAwCpB3kB,EAAS0Q,EAAWpY,GAAaA,iBA/DXpU,IACnBA,EAAE6+B,UAAYQ,EAAQI,SAAKjT,GAAW,SAI1CoU,IACAR,EAAqB,EAErBrtB,gBAAmBotB,EAAQC,GAAoBK,SAAY,QAC3DjU,GAAW,IAiBMxsB,kBACT6+B,GAAY7+B,SACGtI,OAAOgR,OAAO22B,GAAStuB,SAAS8tB,IAEjC7+B,EAAEsT,iBAEhBurB,QACDQ,EAAQI,IACXqB,eAEGzB,EAAQa,UACRb,EAAQE,IACXiB,EAAYJ,EAAqB,cAE9Bf,EAAQS,UAAWT,EAAQM,OAC9Ba,EAAY,cAETnB,EAAQQ,SAAUR,EAAQO,SAC7BY,EAAYL,EAAQ7lC,OAAS,cAE1B+kC,EAAQW,GACXQ,EAAYJ,EAAqB,cAE9Bf,EAAQU,KACXe,eAEGzB,EAAQG,WAAYH,EAAQK,WAG5BL,EAAQY,MACXc,YA3FqBh4B,MACWo3B,EAAQC,OACHA,MACXD,QAGLp3B,EAAG03B,iFAhEXjU,GAAW,+CAYnBzjB,ksBCDC3P,KAAOogC,kCAHPpgC,MACRA,uIAIGA,4BAKJA,4BAMAA,sMAzBWA,wBAEKA,wBACAA,OAAiBA,2BACdA,mBAHRA,uLAgBHA,0BAMAA,4IAXCA,KAAOogC,oCAEZpgC,qBAKJA,8CAFQA,qBAQRA,8CAFQA,qCAdCA,cACRA,sBAVUA,wBAEKA,wBACAA,OAAiBA,2BACdA,mBAHRA,4NAqCHwnB,oBAGTpH,EAAQgM,YAAEA,EAAWhR,QAAEA,EAAO0E,MAAEA,GAC9B0H,EAAOrP,2FAMP2vB,GAAgB,SAET/kB,EAAQ,YACRwhB,EAAO,eACPwD,EAAQ,8NA5CGnhC,QAAQkhC,EAAgBlhC,EAAED,sfCF1C3G,qXAAAA,2QAgBFgoC,mBANOxgB,SAQAzL,EAAK,eACLgH,EAAQ,cACRwhB,EAAO,oPAEkByD,iDApBvBA,igBCPPhoC,qDAISA,sBACGA,MAAkB,qBAClBA,KAAsB,KAAXA,qBACXA,KAAgB,KAALA,qEACjBA,4JAJGA,iCACGA,MAAkB,gCAClBA,KAAsB,KAAXA,gCACXA,KAAgB,KAALA,0OAaNA,2RAPHA,mBACAA,oFADAA,wBACAA,oeAJZA,gFAAAA,4MAZLA,kFAAAA,uLAkCCioC,GAAgB,2BAQpBA,IAAiB,QACXlsB,eAAkBksB,GAClBC,uBAAoCD,cAM/BzgB,uBAEH4E,GAAgB5E,EAAOrP,eAM3BgwB,EACAC,+BAEOrlB,EAAQ,cACRwhB,EAAO,kBACPnR,GAAW,eACXiV,GAAW,gBACX7jB,GAAY,qBACZ8jB,GAAiB,iWAYtBD,OACJjV,GAAYA,QAXarX,MACUmsB,MACRC,MACGC,+CAtDfA,2EAQAD,s+BCCPnoC,2DAFFA,eACMA,2MAAAA,aACJA,qXANLA,iCALDA,0BACcA,KAAUA,MAAY,uHAb5BA,mBACEA,wBACIA,QAAiBA,yBAChBA,QAAiBA,4BACdA,6VAajBA,uJALDA,qCACcA,KAAUA,MAAY,oBAb5BA,mBACEA,wBACIA,QAAiBA,yBAChBA,QAAiBA,4BACdA,oKA0BlBuoC,GAAiB,gIAQrBA,IAAkB,QACZC,eAAyBD,cAMpB/gB,WAEL/H,EAAU+H,EAAOyd,2DACf7Y,EAAWnB,OAAEA,EAAM7P,QAAEA,GAAYoM,EAAOrP,eAM5CxI,iEACAwJ,GAAY,EACZ2uB,GAAgB,SAET/kB,EAAQ,eACR4T,EAAQ,eACR6F,GAAQ,0BACRiM,GAAsB,SAQ7B9D,uVAIDgB,EAAW1kB,EAAS2kB,gCACpBhB,EAAUe,GAAYA,EAAS+C,mDAC/B7C,EAAmBF,GAAYA,EAASlG,sCAIpC9I,GAASkP,GAAoBlB,IAAYkB,EAAiB/jC,IAAI60B,IACnEkP,EAAiBpd,SAASkO,EAAOgO,+CAjBRh1B,MAQKg1B,mHA/CjBA,QAdG/9B,QAAQuS,EAAYvS,EAAED,SAClBC,QAAQkhC,EAAgBlhC,EAAED,oDAGrCgJ,utBCGJ3P,MAAM2d,sEAAN3d,MAAM2d,gKAmBD3d,KAAYA,+DAHDmQ,GAAQnQ,OAAoBA,OAAoBA,kEAEvDA,yOAFOmQ,GAAQnQ,OAAoBA,OAAoBA,cAG3DA,KAAYA,0HADRA,oPALPA,gBAAgBA,sBAArBkB,+MAAKlB,yFAALkB,0KApBIlB,MAAMye,oEAIa,0DACXze,iBAOVA,eACMA,uBACOA,+IAGPA,6QApBIA,yDARFA,mBACDA,oBACCA,mBACAA,uJAQNA,MAAMye,2IAHEze,sCAgBJA,yFAxBEA,8BACDA,8BACCA,4BACAA,2KA4CDunB,GAAK,YACL3H,GAAOnS,GAAWI,aAE3Bo6B,GAAgB,QAEdjtB,GACU,cADVA,GAEW,gDAajBitB,IAAiB,QACXU,gBAAuBV,GACvBC,wBAAqCD,cAMhCzgB,WAEL9E,EAAWjc,IACXghB,EAAWD,EAAOE,eAAeH,UAC/B3G,EAAIR,SAAEA,EAAQgM,YAAEA,GAAgB5E,EAAOrP,4EAEzClZ,GACJ2pC,aAAct6B,IAAS,GACvBu6B,eAAgB9xB,GAAiB,OAG7BiY,EAAgBnX,GAAuB,KAAM5Y,iBAG3C2pC,EAAYC,eAAEA,GAAmB5pC,MAMrC0Q,EACAw4B,4CACAW,WAEEC,KACAjhB,KAUOkhB,QAAuBjtB,EAAIrV,EAAOuiC,MAC7CH,EAASjpC,KAAKkc,OACdgtB,EAAYhtB,GAAMrV,WACZkB,IACCkgB,EAAU/L,IAQNmtB,EAAiBntB,QAC5B+sB,EAAWA,EAAS98B,OAAQm9B,GAAWA,IAAWptB,WAC3CgtB,EAAYhtB,GACZnU,KAcHwhC,EAAiBrtB,QACrBstB,EAAkBttB,GAClB2G,EAAS1H,GAAoBe,oGAtD5BiT,EAAcqF,2BA8DdiV,GAAuBrI,IAAczU,IAAiBrc,GAAQk5B,sBAE9DP,EACA98B,OAAQ+P,IAAQ0L,EAAS3lB,IAAIia,IAAO+L,EAAU/L,IAC9Crd,QAASqd,GAAO0L,EAASgB,SAAS1M,EAAI+L,EAAU/L,6DAhBvBwtB,GAAgB,WAQ1C7mB,EAAS1H,GAAqBquB,OAC9BA,EAAkB,WA5COV,MACAh5B,MACEw4B,MACQD,MACJzgB,MACAK,EACN/L,GAAO+L,EAAU/L,MASbgqB,EAAKr/B,EAAOuiC,YACnCtgB,EAAWod,EAAIh6B,IAAKgQ,GAAOitB,EAAcjtB,EAAIrV,WAC5CY,QAAQshB,IAAID,MASUod,IAC7BA,EAAIh6B,IAAIm9B,GACDthC,6BA5FQkgB,EAAU/L,mCAAV+L,EAAU/L,mBAHHqtB,EAAcrtB,+CANzBosB,2FAzBFx4B,85BCUA3P,0BAALkB,kMAPYlB,oBACAA,mBACDA,sGARHA,yHACDA,2CAYFA,aAALkB,0HAAAA,sDAPYlB,4BACAA,2BACDA,2GAPJA,sBADCA,mCAaRkB,uOAGQlB,MAAQqe,uOAARre,MAAQqe,mTAnBnBre,MAAaA,KAASkB,OAAS,+EAA/BlB,MAAaA,KAASkB,OAAS,kNAkCvBsmB,oBAEHpH,EAAQgM,YAAEA,GAAgB5E,EAAOrP,eAMrCxI,EACA65B,gDAEE1hB,kBAEKsQ,mBACA5T,GAAY,eACZ4O,GAAW,iBACXqW,GAAa,WACbC,EAAO,kBACPr2B,EAAW,oBACXs2B,GAAa,mBACbC,GAAe,WAmBpBC,WACCx2B,SACHxN,GAAU8J,EAAI,mBACd9J,GAAU2jC,EAAa,wBAGlBM,EAAOC,GAAW12B,EAASY,MAAM,KACxCpO,GAAU8J,EAAI,aAAcm6B,GAC5BjkC,GAAUmkC,EAAer6B,EAAK65B,EAAa,iBAAkBO,IAGzDE,OACJpkC,GAAU2jC,EAAa,WAAYE,GACnC7jC,GAAU2jC,EAAa,QAAUQ,EAAgB,OAAS,kYAKzDA,EAAeN,GAAQA,EAAK/xB,SAAS,+BAFjChI,GAAM65B,GAAaK,wBACnBL,GAAaS,0CAlCOt6B,MACMyoB,EAASl3B,OAAS,aAGzCL,UAAWtB,KAAMqC,GAASkmB,SAC3BlmB,YAIPw2B,UACA5T,GAAY,OACZ4O,GAAW,OACXqW,GAAa,QACbC,EAAO,WACPr2B,EAAW,2BAlDMyU,EAAUoiB,EAAQ3iB,oCAAlBO,EAAUoiB,EAAQ3iB,2DANtBiiB,mDATF75B,imDCCN3P,gBAAcA,sBAAnBkB,uKAJWlB,yGACJA,yCAGFA,+FAHEA,2BADIA,mCAIXkB,2JAWWqmB,GAAK,YACL3H,GAAOnS,GAAWE,+HAcpB6Z,WAELC,EAAWD,EAAOE,eAAeH,IACjC9H,EAAU+H,EAAOyd,sDAGrBtxB,EAAMyY,YAAEA,EAAWxK,kBAAEA,EAAiB0J,YACtCA,EAAWtK,kBAAEA,EAAmBU,kBAAmBC,GACjD6F,EAAOrP,eAMPxI,6HAEAw6B,EADAC,EAAY,EAEZC,WAEEviB,KAOOwiB,YACXD,EAAOxqC,KAAKkc,SACNnU,IACCkgB,EAAU/L,IAQNwuB,EAAexuB,QAC1BsuB,EAASA,EAAOr+B,OAAQw+B,GAAYA,IAAYzuB,IACzCnU,KA4BH6iC,YAAyBL,GAAa,QAWxCxB,aATJtiC,QAC8B,QAAS,UAAW,QAAS,YAAa,cACnD5H,QAAS0F,GAAUoC,EAAUrC,EAAOqjB,EAAO2L,QAAS/uB,EAAOqmC,gGAxBxEld,GAAWf,GAAgB4d,GACjC7nC,OAAOyvB,aAAamY,OACpBroB,GAAoB,QACpBqoB,EAAsB5nC,OAAOoX,oBAAmBmI,GAAoB,IAAU,SAE9Evf,OAAOyvB,aAAamY,OACpBroB,EAAoB4O,uBAGnB2Z,EACAr+B,OAAQ+P,IAAQ0L,EAAS3lB,IAAIia,IAAO+L,EAAU/L,IAC9Crd,QAASqd,GAAO0L,EAASgB,SAAS1M,EAAI+L,EAAU/L,2BAsBhD0C,EAAWwC,EAASypB,mCApBpBtX,EAAYvR,IAAuBX,IAChCY,GAAsBrD,GAAY8qB,6BAoBjC9qB,WAAemqB,aAAAA,GAAiBnqB,EAAStG,kDA5DrBxI,MACM8X,MACFK,EACN/L,GAAO+L,EAAU/L,KAQb4uB,UACrBhiB,EAAWgiB,EAAU5+B,IAAIu+B,UACxBhjC,QAAQshB,IAAID,MAQQod,IAC3BA,EAAIh6B,IAAIw+B,GACD3iC,2CAnEMkgB,EAAU/L,mCAAV+L,EAAU/L,0DALdpM,ysBCAL3P,qBAKUA,2OADJA,KAAYA,KAAW,QAAvBA,KAAYA,KAAW,6JAJ7BA,2BAKUA,oaATbA,kFAAAA,sUA0BC4qC,mBANOpjB,kBAQAqjB,oBACAC,iBACAC,mBACAC,eACA5X,GAAW,gBACX5O,GAAY,gBACZqc,GAAY,qZAIpBhB,EAAOzM,EAAW2X,EAAaC,wBAC/BjoB,EAAQqQ,EAAWyX,EAAcC,4BAMX1X,GAAYA,kBATLwX,6CA1BnBA,4gCCVNK,aACIjrC,gBACA,aACCA,KAAOqd,mBACLrd,KAAOyT,iBACRzT,KAAMqd,oBACJrd,KAAMyT,kBACTzT,KAAMsd,kEACRtd,gHAPCA,yBAECA,KAAOqd,4BACLrd,KAAOyT,2BACRzT,KAAMqd,8BACJrd,KAAMyT,6BACTzT,KAAMsd,yHAOL2tB,GAAQ,sDAUVzjB,iBAEH1H,EAAKc,KAAEA,EAAIjN,OAAEA,GAAW6T,EAAOrP,eAMnClS,sIAIqBsnB,GAAWA,QAFLtnB,6CAzBpBA,mLAIO,2ECZT,uBACc,YACVjG,gBACA,aACCA,KAAOqd,mBACLrd,KAAOyT,kBACTzT,KAAMsd,kEACRtd,mFAVKA,qGAKJA,yBAECA,KAAOqd,4BACLrd,KAAOyT,6BACTzT,KAAMsd,sCATHtd,gJA0BNwnB,kBAEH7T,EAAMiN,KAAEA,EAAId,MAAEA,GAAU0H,EAAOrP,eAMnClS,sIAIqBsnB,GAAWA,QAFLtnB,6CAzBlBA,mLAKK,uECdP,QACJglC,aACIjrC,MAAiBA,KAAQkB,OAAS,WACnClB,gBACEA,KAAO+/B,wBACL//B,KAAOggC,wBACRhgC,KAAMoe,8BACJpe,KAAMme,4BACTne,KAAMie,kEACRje,kHAPCA,MAAiBA,KAAQkB,OAAS,oBACnClB,0BACEA,KAAO+/B,kCACL//B,KAAOggC,kCACRhgC,KAAMoe,wCACJpe,KAAMme,uCACTne,KAAMie,yHAOLgtB,GAAQ,4DAUVzjB,iBAGT1H,EAAKc,KAAEA,EAAIuN,iBAAEA,EAAgB9M,aAC7BA,EAAYwM,kBAAEA,EAAiBH,OAC/BA,GACElG,EAAOrP,eAMPlS,yHACAilC,GAAkB,mFAKhBC,IAAmBD,EAAiB7c,OACnBA,EAArB8c,GAA2C,EAA2BD,QAJzCjlC,iDA9BpBA,qLAIO,wECdXglC,cACI,WACDjrC,eACCA,gBACCA,KAAOqf,qBACLrf,KAAOof,qBACRpf,KAAMqf,sBACJrf,KAAMof,sBACTpf,KAAMmf,6DACRnf,gHAPAA,wBACCA,0BACCA,KAAOqf,+BACLrf,KAAOof,+BACRpf,KAAMqf,gCACJrf,KAAMof,iCACTpf,KAAMmf,oHAOL8rB,GAAQ,mDAWVzjB,iBAGT1H,EAAKc,KAAEA,EAAI8N,YAAEA,EAAWJ,UAAEA,GACxB9G,EAAOrP,eAMPlS,yJAKDuvB,EAAiDhO,EAAOnI,UAAU3L,MAAM5V,GAAzD0pB,EAAOkY,aAAahsB,MAAM5V,QAHbmI,6CA5BpBA,qLAIO,mECdXglC,cACI,WACDjrC,eACCA,gBACCA,KAAOwe,4BACLxe,KAAOue,4BACRve,KAAMwe,6BACJxe,KAAMue,6BACTve,KAAMse,oEACRte,gHAPAA,wBACCA,0BACCA,KAAOwe,sCACLxe,KAAOue,sCACRve,KAAMwe,uCACJxe,KAAMue,wCACTve,KAAMse,2HAOL2sB,GAAQ,0DAWVzjB,iBAGT1H,EAAKc,KAAEA,EAAI+N,iBAAEA,EAAgB9G,mBAAEA,GAC7BL,EAAOrP,eAMPlS,yJAKDuiB,EAEGhB,EAAOhJ,iBAAiB9K,MAAM5V,GAD9B0pB,EAAO2J,oBAAoBzd,MAAM5V,QAJRmI,6CA5BpBA,qLAIO,iHCdXglC,cACKjrC,KAAOmgC,wBACLiD,GAAgBpjC,KAAQA,KAAQA,kBACjCA,KAAMge,qBACJhe,KAAM+d,kBACT/d,KAAM+d,eAEH/d,kBAAAA,qNANHA,KAAOmgC,kCACLiD,GAAgBpjC,KAAQA,KAAQA,4BACjCA,KAAMge,+BACJhe,KAAM+d,6BACT/d,KAAM+d,gCAEH/d,iIAMFirC,GAAQ,oDAWVzjB,iBAGT1H,EAAKc,KAAEA,EAAI1N,MAAEA,EAAK4K,OAAEA,GAClB0J,EAAOrP,eAMPlS,wJAE2BA,cA7BhB+qB,yDACJ/qB,8MAIO,6ICXAjG,mFAcGA,2HAJPA,KAAK8d,gFAGD9d,0GAGFA,mBACAA,4FAMFA,kEAJIA,mBACLA,mJANQA,oEADHA,gBAUJA,yBAPEA,yBACAA,kLAuBLwnB,gBAGT5G,EAAI9C,OAAEA,EAAM5K,MAAEA,EAAKkN,SACnBA,GACEoH,EAAOrP,eAMPxI,EACAy7B,EACAC,iEACAlyB,GAAY,EACZmyB,GAAY,QAMVC,OACAD,IAActa,GAAsB,IAAZa,OAAeA,EAAU,IACrDyZ,EAAYta,kGAIXA,EAAsB,IAAZa,sBADV0Z,2BAEAC,EAAgBxa,EAAS,EAAIa,kBACzBuZ,GAAQA,EAAO5lC,MAAMO,YAAY,UAAcylC,+BAM9B5kC,QAAQirB,EAAUtvB,OAAOgzB,SAAS3uB,EAAEjE,OAAOrD,SAClDsH,QAAQuS,EAAYvS,EAAED,aAnBZgJ,MACIy7B,MACKC,yEA1DvBA,mDAqBAD,mBzE8Qf,IAAmB9rC,EAAAA,ayE7QHksC,EzE8QK,KAAVlsC,OAAeuB,GAAavB,qEyExSvBqQ,+RA+BI,uBACG,oECiBb3P,kEAFCA,cACGA,uOAlCLA,mDAEOA,MAAMud,mDAEHvd,0BACAA,2BACCA,4FAcJA,MAAM0d,6DAFb1d,cACEA,mDAGQA,0BACAA,+BACKA,MAAYA,MAAc8a,QAAQ,wFATxC9a,mBACDA,qBAFEA,iLALLA,wBAtBIA,wBACAA,uBACFA,+IAWPA,6BAEOA,MAAMud,oEAEHvd,0CACAA,2CACCA,6BAcJA,MAAM0d,0DAFb1d,gCACEA,2CAGQA,2CACAA,+BACKA,MAAYA,MAAc8a,QAAQ,0DATxC9a,8BACDA,iCAFEA,+DAmBRA,2BACGA,aACJA,sXAkBGwnB,WAEL/H,EAAU+H,EAAOyd,oDAGrBrkB,EAAIwL,YAAEA,EAAWxO,YAAEA,EAAWnE,SAC9BA,EAAQiE,SAAEA,EAAQgN,UAAEA,GAClBlD,EAAOrP,eAMPizB,EACA7tB,EACAkuB,EAEA9G,EACA+G,EACAC,+HAoBEC,GAAkBrxB,EAASjb,SAC1BqlC,EAAQxR,qBACPjP,EAAOygB,EAAQxR,QAAQ1Y,wBACvBqT,EAASvQ,EAASra,WAAWuX,wBAC7BoxB,EAAetuB,EAAS9C,wBACxBqxB,EAAaD,EAAajxB,KAAOkT,EAAOlT,KACxCmxB,EAAcje,EAAO1J,MAAQynB,EAAaznB,MAC1C4nB,EAAYle,EAAOlT,KAAOkxB,EAC1BG,EAAane,EAAO1J,MAAQ2nB,EAC7B7nB,EAAKtJ,KAAOL,EAAUyxB,GAAe9nB,EAAKE,OAAS,IAAM7J,GAAW0xB,GACvEp8B,GAAc80B,EAAQxR,QAAS,OAAW7zB,4GAvBvC8rC,OAAQA,EAAO9rC,MAAQ0tB,8BACvBoe,GAAQA,EAAO5lC,MAAMO,YAAY,UAAeinB,EAAeC,EAAa,sCAEhFif,EAAelrC,KAAKC,IAAI,EAAGgsB,4BAE3BzP,EAAgB2uB,EAAM3uB,cACtB4uB,QAAQ,gBAAiB9zB,GAAY0U,IACrCof,QAAQ,aAAc9zB,GAAY4zB,oCAoBlCvG,EAAW1kB,EAAS2kB,mCACpBhB,EAAUe,GAAYA,EAAS+C,qDAC/B7C,EAAmBF,GAAYA,EAASlG,iDAEpCoG,GAAoBlB,IAAYkB,EAAiB/jC,IApEnC,SAqEnB+jC,EAAiBpd,SArEE,OAqEckc,iDAOnB/9B,QAAQomB,EAAezqB,OAAOwN,WAAWnJ,EAAEjE,OAAOrD,SAE/CsH,OACbqmB,GAAa,IAAM0X,eACjBzgB,EAAO3G,EAAS9C,wBAChBF,EAAUvZ,KAAKC,IAAI,EAAGD,KAAKsW,IAAI,IAAM,IAAM4M,EAAKhU,OAAUtJ,EAAEylC,MAAQnoB,EAAKtJ,YAC/E+wB,EAA2B,eAAX/kC,EAAEF,UAClBglC,EAAepzB,GAAa2U,EAAY,IAAO1S,IAC/CqxB,EAAerxB,EAAUA,EAAU,IAAO2J,EAAKhU,YApDtBqN,MACI6tB,MACCzG,MACI8G,uDAnEvBL,mDAgBAK,mDAUA9G,aA9CSyG,EAAO/D,cACR+D,EAAOhyB,aACJgyB,EAAOhyB,mDACpBmE,6VAgDO,yBACG,wCCvDpBvd,KAAM6d,mHADK7d,mCACXA,KAAM6d,yDADK7d,0EAYDwnB,kBAEHyD,EAAMrK,KAAEA,GAAS4G,EAAOrP,sOATd,uBACG,4ECCV8yB,SACCjrC,KAA4B,KAAjBA,KAAMye,4CAEVze,qBACAA,kBACHA,KAAMye,gLAIRze,uBACEA,oLATJA,KAA4B,KAAjBA,KAAMye,mCAEVze,+BACAA,8BACHA,KAAMye,kNAQNze,KAAOye,kGAAPze,KAAOye,gIAlBpBze,kFAAAA,wLAyBUirC,GAAQ,mIAaVzjB,WAEL/H,EAAU+H,EAAOyd,oDAGrBrkB,EAAId,MAAEA,EAAKmL,OAAEA,EAAMzJ,YACnBA,GACEgG,EAAOrP,eAMPyyB,uFAEO7uB,EAAK,gBACL4sB,EAAS,kBACTvV,GAAW,gBACX5O,GAAY,SAUnBokB,YAEE3E,EAAYr9B,IACX6X,IACL7X,EAAEsT,iBACFtT,EAAElC,sBACF6kC,GAAiBA,8NAZhB/kB,EAAY8nB,IAAiBC,4BAuB7B9tB,EAAWwC,EAASypB,wBAEhBjsB,OAAU1C,EAAK0C,EAAS+tB,sCACxB/tB,OAAUkqB,EAASlqB,EAASvB,6BAC5BuB,OAAU2U,EAAWmW,sBACrB9qB,WAAemqB,aAAAA,GAAiBnqB,EAAStG,0DAZ5B,KAAdvR,EAAE6+B,SAAmBhnB,IACzBwlB,EAASr9B,SAEHgB,IACN6W,EAASguB,UAAUpF,cAtBWuD,uDA1CjBA,upBAQG,yLCbPpjB,qLAVU,kLCejB7X,EACA+8B,SAMJpmC,OACEomC,EAAc/8B,EAAGg9B,mBACjB98B,GAAc68B,EAAa,aAAc,KAG3ClmC,OACOkmC,GACLpqC,OACEuD,GAAU6mC,EAAa,cACvBA,EAAc,yDAhCP/8B,4HAIU,0CCLpB2I,GAAYtX,KAAKC,IAAI,EAAGjB,0DADVA,KAAQ,2FACtBsY,GAAYtX,KAAKC,IAAI,EAAGjB,+BADVA,KAAQ,2FAOZuY,EAAU,2NCNZvY,kBACGA,KAAM4d,wGADT5d,4BACGA,KAAM4d,6IAWP4J,uBAEH5J,EAAWgD,KAAEA,GAAS4G,EAAOrP,2OATnB,qBACG,2ECNZnY,kBACGA,KAAMyZ,qGADTzZ,4BACGA,KAAMyZ,0IAWP+N,oBAEH/N,EAAQmH,KAAEA,GAAS4G,EAAOrP,2OAThB,iBACG,g0BCSVqP,kLATO,sBACG,iECmBVA,WAEL/H,EAAU+H,EAAOyd,sDAGrBha,EAAMmB,YAAEA,EAAWhM,SAAEA,EAAQ0K,gBAC7BA,GACEtD,EAAOrP,eAEPy0B,EACAC,EACAC,sFACAC,GAAW,QAETC,GAAU,cAAe,eAAgB,eAOzCC,OACJD,EAAOtuC,QAASqd,IAASqc,EAAS8U,SAASnxB,GAAIoxB,WAG3CC,OACJR,EAAa,KACbC,EAAc,KACdC,EAAa,KACT7rB,EAASosB,KAAajV,EAASkV,aAAaN,IAGlDxmC,EAAU4mC,qGAEPhV,EAAWnX,EAASosB,uBAEhBjV,IAAa2U,cAnBhBD,EAAYD,EAAaD,SAAoBxU,EAASmV,aAAaP,OACrED,GAAW,IAmBXS,IACUpV,GAAY2U,QACtBA,GAAW,GACXK,wBA2BAhV,IACI5L,GACDugB,SArBHE,UAEMQ,GACJC,GAAiBC,GAAeC,GAChCC,GAAeC,IAGXC,GACJL,GAAiBC,GAAeC,GAChCI,GAAiBC,GAASC,IAG5BtB,EAAWuB,MACT/V,SAAWmU,EAAwBkB,EAAdM,EACrB3a,UAAU,KAQZgb,0BAiDCC,EAAiB7hB,IAAiByU,GAAa8L,qBAC3C3U,GAAYiW,SA3CjBpB,IAEAJ,EAAYsB,MACV/a,UAAU,EACVqW,YAAY,EACZp2B,SAAU,gBACV+kB,UAAWkW,YAGPb,GACJC,GAAiBC,GAAeE,GAChCC,GAAeS,GAAYC,IAGvBT,GACJC,GAAiBS,GAAgBf,GACjCC,GAAee,GAAcb,GAC7Bc,GAAgBJ,GAAYL,GAC5BM,IAGF5B,EAAWuB,MACT96B,SAAU,sBACVmR,WAAW,EACX4O,UAAU,EACVqW,YAAY,EACZE,YAAY,EACZvR,SAAWmU,EAAwBkB,EAAdM,KAgBUa,qBAC5BxW,GAAYiW,GAAkBhhB,cAZnCwf,EAAYzZ,UAAW,QACjBxrB,IACN+R,qBACEkzB,EAAYpD,YAAa,EACzBmD,EAAWpoB,WAAY,QACjB5c,IACNglC,EAAWxZ,UAAW,GACrB,MAKkDyb,0BAmCpDC,EAAgBtiB,GAAgByU,GAAa8L,sBACzC3U,GAAY0W,SA7BjB7B,UAEM8B,GAAoBlB,GAAeF,GAAegB,GAAgBT,IAClEc,GAAqBnB,GAAeF,GAAea,IACzD1B,EAAW1U,SAAYmU,EAA6ByC,EAAnBD,EAEjClC,EAAYsB,MACV/a,UAAU,EACVqW,YAAY,EACZp2B,SAAU,gBACV+kB,UAAWkW,YAGPW,GACJrB,GAAaC,GAAeI,GAC5BO,GAAmBC,GAAgBT,IAGrCpB,EAAWxU,SAAYmU,KAAU0C,GAWDC,sBAC3B9W,GAAY0W,GAAiBzhB,oBAP5BzlB,IACNklC,EAAW1Z,UAAW,EACtBwZ,EAAWxZ,UAAW,GAK8B+b,4IAxLpC,kFC2BP3nB,WAEL/H,EAAU+H,EAAOyd,sDAGrBtxB,EAAMmM,MAAEA,EAAKhC,OAAEA,EAAM5K,MACrBA,EAAKib,iBAAEA,EAAgBO,YAAEA,EAAW7G,mBACpCA,EAAkBjK,YAAEA,EAAWnE,SAAEA,EAAQ6R,YACzCA,EAAWtJ,YAAEA,EAAWsM,UAAEA,EAASK,iBACnCA,EAAgBd,kBAAEA,GAChBrG,EAAOrP,uSAEPi3B,GAAyB,QAEvBC,GAAiBxP,EAAMvgC,WACrBgwC,EAAgB9nB,EAAO+nB,IACzBD,GAAeA,EAAcnxC,IAAI0hC,EAAMvgC,iBAyF7CkH,WACOya,EAASuuB,iBACRpX,GACJsV,GACAC,GACA8B,GACAd,GACAJ,GACAC,IAEFkB,EAASC,gBAAgBvX,EAASrsB,IAAKm+B,GAAYA,EAAQe,4FAG1DyE,EAAWzuB,EAASuuB,4BAEfE,GAAYN,QAAwBA,GAAyB,yBAD9DM,IAAaN,SAnGlBM,EAASvK,YAAYyK,IACnBrL,KAAM,UACN5iC,MAAO,GAAI,IACX+jC,YACOhV,QACLnD,GAAWA,GACX8hB,EAAcnM,GAAkB7C,GAAS9S,QAI7CmiB,EAASvK,YX1BU,gBW4BjBxjC,MAAO,GAAI,IACX+jC,OAAS9+B,QACF8pB,eACCmf,EAAqB,KAAdjpC,EAAE6+B,YAEX5F,MADJhO,EAAUge,EAAO7uC,KAAKsW,IAAI,IAAKua,EAAU,GAAK7wB,KAAKC,IAAI,EAAG4wB,EAAU,IAGlEgO,EADEgQ,EACKxP,EAAOH,WAEM,IAAZrO,EAAgBwO,EAAOF,WAAaE,EAAOJ,UAErDoP,EAAcxP,EAAShO,UAI3B6d,EAASvK,YAAY2K,IACnBvL,KAAM,IACN5iC,MAAO,IACP+jC,YACOhV,QACLM,GAAUA,GACVqe,EAAcjM,GAAgB/C,EAAQrP,EAAQa,YAI9CqZ,GAAkB,EACtBwE,EAASvK,YAAY4K,IACnBxL,KAAM,IACN5iC,MAAO,IACP+jC,YACOhV,GAAiByE,IAClBgW,IAAmBD,EAAiB7c,OACnBA,EAArB8c,GAA2C,EAA2BD,GACtEmE,EjC3FyB,EAACvvB,EAAO8S,IAAYA,EACjD9S,EAAMigB,WACNjgB,EAAMkgB,YiCyFYgQ,CAAkB3P,EAAQ8K,QAI5CuE,EAASvK,YAAY8K,IACnB1L,KAAM,IACN5iC,MAAO,IACP+jC,YACOhV,GAAiBmC,IACtB2C,EAAehO,EAAOnI,UAAU3L,MAAM5V,GAAQ0pB,EAAOkY,aAAahsB,MAAM5V,GACxEuxC,EjC7FoB,EAACvvB,EAAO8S,IAAYA,EAAS9S,EAAMT,QAAUS,EAAMV,SiC6FzD8wB,CAAa7P,EAAQ7K,QAIvCka,EAASvK,YAAYgL,IACnB5L,KAAM,IACN5iC,MAAO,IACP+jC,YACOhV,GAAiB0f,IACtB5nB,EACIhB,EAAOhJ,iBAAiB9K,MAAM5V,GAC9B0pB,EAAO2J,oBAAoBzd,MAAM5V,GACrCuxC,EAAclM,GAAoB9C,EAAQ7X,QAI9CknB,EAASvK,YV/DU,QUiEjBxjC,MAAO,GAAI,IACX+jC,OAAS9+B,QACF8pB,eACC2f,EAAuB,KAAdzpC,EAAE6+B,YACjBzY,EAAeqjB,EAASrvC,KAAKC,IAAI,EAAG+rB,EAAe,GAAKhsB,KAAKsW,IAAI2V,EAAWD,EAAe,IAC3FqiB,EAAcgB,EAAShQ,EAAO1hB,aAAe0hB,EAAO3hB,qBAIxD0wB,GAAyB,IAiBiBkB,yKAlJ1B,uICOJtwC,oBACEA,kDAEJA,kLAHEA,8BACEA,+GAOVgb,GACU,uCAQV0H,EAAWjc,eAEN+gB,YAQA+oB,YACAxtB,EAAQ,eACRzjB,EAAQ,eACRyoC,EAAQ,mNAUhByI,EAAaD,IAAUjxC,kBAFFojB,EAAS1H,GAAoB1b,sBAbjD0oC,isBC3BEhoC,ySAAAA,qIAJDA,0BAALkB,0NAAKlB,aAALkB,kIAAAA,+DAAAA,+IAaWsmB,WAMLipB,eAEKF,cACAjsC,kIAEoBmsC,EAAezkC,OAAO+E,uBAlBxC0/B,EAAe/kC,mCAAf+kC,EAAe/kC,6cCOnB1L,qMAAAA,mOARCA,OAAaA,wWAAbA,OAAaA,8KAwBnB6nC,EACA6I,UAPOlpB,YASAzE,EAAQ,eACRzjB,EAAQ,iBACRgF,mBACAqsC,EAAY,gBACZvd,GAAW,eACXiV,GAAW,gBACX7jB,GAAY,qBACZ8jB,GAAiB,uXAKzBsI,EAAatsC,GAAWA,EAAQpD,OAAS,yBACzC2vC,EAAgBD,EAAatsC,EAAQyhB,KAAM5c,GAAMA,EAAE7J,QAAUA,GAAS,6BACtEilC,EAASqM,GAAeC,EAA6BA,EAAc9tB,MAA1B4tB,mCALZ9I,MACI6I,+CA3BvBA,uEAPF7I,kYCIArgB,WAELyQ,MAAe9a,GACfsC,EAAU+H,EAAOyd,oDAGrBrkB,EAAIwL,YAAEA,EAAWH,QAAEA,EAAOW,mBAC1BA,EAAkBjC,eAAEA,EAAc3L,aAAEA,EAAYgD,YAChDA,EAAW0L,OAAEA,EAAMG,kBAAEA,EAAiBpB,mBACtCA,EAAkB7B,aAAEA,EAAYC,cAAEA,GAChCrD,EAAOrP,eAEP24B,EACAC,EACAC,wPAEEC,GAAS,oBAAqB,gBAAiB,qBAmB/CC,OACJjZ,EAAShf,eACT63B,EAAmB,WACnBC,EAAe,WACfC,EAAmB,MACfvxB,EAAQirB,KAAajsB,EAAS0yB,eAAeF,uBAGnDzqC,EAAU0qC,2FAEPzyB,EAAWwC,EAASypB,2BAChBjsB,IAAaqyB,oBA3BZM,GAAiBjJ,EAAMzoC,WACrBga,EAAMyuB,EAAKkJ,IAAI,cAAgBzqC,IAAQlH,EAASkH,EAAED,UACxDsxB,EAAS9vB,IAAIuR,UAIbo3B,EACAC,EACAC,SACQvyB,EAAS6yB,eAAeL,EAAOM,uBAEzCH,EAAcN,EAAmB7S,QAAWnJ,EAAgBmJ,KAC5DmT,EAAcL,EAAerlC,QAAY2iB,EAAqB3iB,KAC9D0lC,EAAcJ,EAAmBza,QAAcvB,EAAgBuB,MAc3Bib,0BAC9B/yB,GAAYqyB,GAAkBI,iCAgBnCO,EAAsB/kB,EAAe3gB,IAAKkyB,KAC3Clb,MAAiB,IAATkb,EAAckO,EAAMrtB,OAASmf,EACrC3+B,MAAO2+B,8BAZF6S,GACLA,EAAiB3C,MACfprB,MAAOopB,EAAMttB,MACbvf,MAAOw1B,EACPxwB,QAAoC,IAA1BooB,EAAexrB,UAAqBuwC,EAC9Cd,UAAWxE,EAAMrtB,OACjBupB,UAAWxT,GAAkD,IAA1BnI,EAAexrB,uCAwBnDwwC,IACD3uB,MAAOopB,EAAMzyB,IACbpa,OAAQ,MACJquB,EAAQ5hB,KAAK22B,EAAOvhC,MACxB4hB,MAAO2f,EAAM/L,MACbr3B,MAAO6B,iCAhBF4vC,GACLA,EAAa5C,MACXprB,MAAOopB,EAAMjuB,cACb5e,MAAO+uB,EACP/pB,QAAWkoB,GAA2C,IAA3BklB,EAAgBxwC,OAAqBwwC,KAChEf,UAAWxE,EAAMptB,KACjByF,UAAWgI,EACX6b,UAAWlT,GAAoC,IAAnBxH,EAAQzsB,+BA2BrCywC,EAAsB9kB,EAAgB9gB,IAAKwqB,KAC5CxT,MAAUwT,MACVj3B,MAAOi3B,EACPwR,MAAQxR,GAAW,IAAO,KAAO,mDAd5Bya,GACLA,EAAiB7C,MACfprB,MAAOopB,EAAMntB,aACb1f,MAAO01B,EACP1wB,QAAS8pB,KAAgBujB,EACzBhB,UAAWxE,EAAM9tB,QACjBmG,WAAY4J,EACZia,UAAWtT,GAAmD,IAA3BlI,EAAgB3rB,2KAnHrC,oECePsmB,iBAGT1H,EAAK8B,kBAAEA,EAAiB+M,iBAAEA,EAAgBvC,YAC1CA,EAAWd,YAAEA,EAAWlL,SAAEA,EAAQyH,mBAAEA,EAAkB7G,kBACtDA,GACEwG,EAAOrP,yLAMA0oB,GAAY,gBACZrc,GAAY,SAwBnBotB,QACEC,YAMJD,EAAqBztC,EAAOqjB,EAAO2L,QAAS,WALxBvsB,KAEG,SAAU,SAAS+Q,SAAS/Q,EAAEjE,OAAOohC,iBAZ1Dvb,EAEEhB,EAAOhJ,iBAAiB9K,MAAM5V,GAD9B0pB,EAAO2J,oBAAoBzd,MAAM5V,SAG/B+hC,EAAOsD,GAAoB9C,EAAQ7X,GACrChB,EAAOwc,KAAkBxc,EAAOwc,IAAiB7lC,IAAI0hC,IAQrCoE,OAKhB6N,OACAF,GAAoBA,SACxBA,EAAqB,cAGvBprC,EAAUsrC,0JArCHjR,OACLrc,EAAY3C,GACPuuB,GACA1f,GACAlE,IACCyU,IACA/f,qBAiCDsD,IAAcotB,EACnBC,KACUrtB,GAAaotB,GACvBE,waAtEgB,sDCwBPtqB,eACAuqB,cAEL5S,EAAiB3X,EAAOwqB,oBAExBC,GACJC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,IAGIC,EAAmB5qB,UACjBtM,EAAKsM,EAAOd,GAAGnnB,MAAM,GACrB8yC,EAAan3B,EAAGo3B,OAAO,GAAGthC,cAAgBkK,EAAG3b,MAAM,UACrDgQ,GAAa2hC,EAASmB,SAAcnB,EAASmB,IAAc,KACxDnB,EAASmB,IAGZE,EAAoB/qB,IAAY4qB,EAAgB5qB,qHAE/C0pB,GAAU5S,EAAekU,WAAWpB,EAAQjmC,OAAOinC,kBACnDlB,GAAU5S,EAAemU,cAAcrB,EAAQjmC,OAAOonC,8SAzD3C,UCFpB,IAAIG,GAAgB,GAWpB,MAaMC,GAAiB,CAACnrC,EAAS,KAEtBkrC,GAAc5zB,KAAKhQ,GAAMA,EAAGtB,QAAUhG,EAASgG,OAGpDolC,GAAcprC,IAChB,IAAIqD,EAAQ6nC,GAAchmC,QAAQlF,GAC9BqD,EAAQ,GACJ6nC,GAAc7nC,EAAQ,GAAG2tB,IAAMhxB,EAASgG,QAC5CklC,GAAc7nC,EAAQ,GAAG2tB,IAAMhxB,EAASgG,OAEzC3C,EAAO,EAAK6nC,GAAcryC,QACrBmH,EAASgxB,IAAMka,GAAc7nC,EAAQ,GAAG2C,QAC5ChG,EAASgxB,IAAMka,GAAc7nC,EAAQ,GAAG2C,eA6BjC,CAACqlC,iBA5DhB,WACI,OAAOH,IA2DuBI,iBA/DlC,SAA0BC,GACtBL,GAAgBK,GA+DhBH,WAAAA,GACAD,eAAAA,GACAK,YA1DgB,EAAEj2B,YAAAA,EAAY,EAAGnE,SAAAA,EAAS,GAAG,MAC7C,GAAGmE,EAAc,GAAKA,GAAenE,EAAW,OAAO85B,GAEvD,IAAIlrC,EAAW,CAACgG,MAAMuP,EAAayb,IAAK5f,GAQxC,OANI+5B,GAAenrC,KACfkrC,GAAc1zC,KAAKwI,GACnBkrC,GAAcO,KAAK,CAACh1C,EAAGC,IAAOD,EAAEuP,MAAQtP,EAAEsP,OAC1ColC,GAAWprC,IAGRkrC,IAgDPQ,oBA1BwB,CAAEt6B,EAAW,KACrC,IAAIu6B,EAAM,EACNC,EAAc,GAElB,GAAgB,IAAbx6B,EACC,IAAK,MAAMpR,KAAYkrC,GAAe,CAClC,IAAIllC,MAACA,EAAM,EAACgrB,IAAEA,EAAI,GAAKhxB,EACnBnE,EAAQ,IAAImK,EAAMoL,EAAYu6B,EAClCA,GAAY9vC,EACZ,IAAIgwC,EAAc,IAAI7a,EAAI5f,EAAWu6B,EACrCA,GAAYE,EACZD,EAAYp0C,KAAK,CAAEqE,MAAAA,EAAOgwC,WAAAA,EAAY7rC,SAAAA,IAI9C,OAAO4rC,GAYP7rC,MATJ,WACImrC,GAAgB,sGC2snEbvzC,cACKm0C,eACEC,GAAcrY,sDAChB/7B,YAGHA,0BAALkB,8LAD0DlB,KAAM,aAAc,mHAAeA,8CAL1FA,mCAMEA,aAALkB,+HAAAA,4EAD0DlB,KAAM,aAAc,0SAE1CA,MAASkE,+FACDlE,MAASk0C,mHADjBl0C,MAASkE,6BACDlE,MAASk0C,gHAXjDl0C,kYAPqBA,iBACVA,2CAHeA,iDAC6JA,wHAExJA,sCAFwJA,UAAAA,2BAClKA,wBACVA,uCAHeA,qBAS1BA,sNAhwnEHq0C,MAkBAC,EAJA9sB,GAAU/N,SAAS,GACnB86B,GAAe,EAMfC,KACAC,GAAO,EACPC,EAAY,QAyBVb,EAAejtC,IACpB+tC,GAAYd,aAAaj2B,YAAa82B,EAAWj7B,SAAU+N,EAAO5J,kBAClE42B,EAA0BT,MAIrBA,MACEY,GAAYZ,oBAAoBvsB,GAAUA,EAAO/N,UAAY,OAIjEm7B,EADAtqB,GAAU,QAERuqB,GAAQzwC,EAAM8vC,KACnB9vC,EAAMM,kBAGF4lB,GASHlmB,EAAMzB,OAAO6C,MAAMsvC,gBAAkB,GACrCF,GAAcG,cAAcH,KAT5BxwC,EAAMzB,OAAO6C,MAAMsvC,gBAAkB,YACrCttB,EAAO5J,YAAcs2B,EAAW7rC,SAASgG,SACzCumC,EAAaI,iBACTxtB,EAAO5J,YAAcs2B,EAAW7rC,SAASgxB,SAC3C7R,EAAO5J,YAAcs2B,EAAW7rC,SAASgG,UAExC,MAKJic,GAAWA,4CA3EL+pB,OAEFp1C,EAASqS,KAAKC,MAAM0jC,aAAaC,QAAQZ,IAAa,MAC1DK,GAAYhB,iBAAiB10C,iCAKzBk2C,EAAoB7jC,KAAKkS,UAAUmxB,GAAYjB,oBACnD0B,QAAQC,IAAI,cAAeF,GAC3BF,aAAaK,QAAQhB,EAAUa,sBAiBvBxhC,EAAM4Y,aAAEA,GAAiB/E,EAAOrP,WAEjBoU,EAAavtB,UAAUu2C,QAC7Cf,EAA0BT,OAIPpgC,EAAO3U,UAAUm8B,QACpCoZ,EAAepZ,WAOZ7Q,IACJmqB,EAAOZ,IAAgBa,EAAYltB,EAAO5J,gBAC1C62B,GAAQA,4BAoCRE,GAAYvsC,YACZosC,kDAsqnEkBH,mBAA2KC,gEAelL9sB,WAIsE5gB,IAAMiuC,EAAKjuC,EAAEyB,WCjxnEpF,oEAAQ,CACnB1F,OAAQe,SAAS8xC,KACjBh0C,MAAO"}